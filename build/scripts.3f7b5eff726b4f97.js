(function($n,ze){"object"==typeof exports&&typeof module<"u"?module.exports=ze():"function"==typeof define&&define.amd?define(ze):($n=typeof globalThis<"u"?globalThis:$n||self).ApexCharts=ze()})(this,function(){"use strict";function $n(z,a){var n=Object.keys(z);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(z);a&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(z,c).enumerable})),n.push.apply(n,o)}return n}function ze(z){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?$n(Object(n),!0).forEach(function(o){pr(z,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach(function(o){Object.defineProperty(z,o,Object.getOwnPropertyDescriptor(n,o))})}return z}function Wt(z){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(z)}function He(z,a){if(!(z instanceof a))throw new TypeError("Cannot call a class as a function")}function so(z,a){for(var n=0;n<a.length;n++){var o=a[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(z,o.key,o)}}function Xe(z,a,n){return a&&so(z.prototype,a),n&&so(z,n),z}function pr(z,a,n){return a in z?Object.defineProperty(z,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):z[a]=n,z}function Zn(z,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(a&&a.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),a&&Li(z,a)}function Kn(z){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(z)}function Li(z,a){return(Li=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(z,a)}function Ds(z,a){if(a&&("object"==typeof a||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(z)}function cn(z){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,o=Kn(z);if(a){var c=Kn(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return Ds(this,n)}}function xt(z){return function(a){if(Array.isArray(a))return Et(a)}(z)||function(a){if(typeof Symbol<"u"&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(z)||lo(z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(z,a){if(z){if("string"==typeof z)return Et(z,a);var n=Object.prototype.toString.call(z).slice(8,-1);return"Object"===n&&z.constructor&&(n=z.constructor.name),"Map"===n||"Set"===n?Array.from(z):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(z,a):void 0}}function Et(z,a){(null==a||a>z.length)&&(a=z.length);for(var n=0,o=new Array(a);n<a;n++)o[n]=z[n];return o}var le=function(){function z(){He(this,z)}return Xe(z,[{key:"shadeRGBColor",value:function(a,n){var o=n.split(","),c=a<0?0:255,d=a<0?-1*a:a,f=parseInt(o[0].slice(4),10),g=parseInt(o[1],10),m=parseInt(o[2],10);return"rgb("+(Math.round((c-f)*d)+f)+","+(Math.round((c-g)*d)+g)+","+(Math.round((c-m)*d)+m)+")"}},{key:"shadeHexColor",value:function(a,n){var o=parseInt(n.slice(1),16),c=a<0?0:255,d=a<0?-1*a:a,f=o>>16,g=o>>8&255,m=255&o;return"#"+(16777216+65536*(Math.round((c-f)*d)+f)+256*(Math.round((c-g)*d)+g)+(Math.round((c-m)*d)+m)).toString(16).slice(1)}},{key:"shadeColor",value:function(a,n){return z.isColorHex(n)?this.shadeHexColor(a,n):this.shadeRGBColor(a,n)}}],[{key:"bind",value:function(a,n){return function(){return a.apply(n,arguments)}}},{key:"isObject",value:function(a){return a&&"object"===Wt(a)&&!Array.isArray(a)&&null!=a}},{key:"is",value:function(a,n){return Object.prototype.toString.call(n)==="[object "+a+"]"}},{key:"listToArray",value:function(a){var n,o=[];for(n=0;n<a.length;n++)o[n]=a[n];return o}},{key:"extend",value:function(a,n){var o=this;"function"!=typeof Object.assign&&(Object.assign=function(d){if(null==d)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(d),g=1;g<arguments.length;g++){var m=arguments[g];if(null!=m)for(var v in m)m.hasOwnProperty(v)&&(f[v]=m[v])}return f});var c=Object.assign({},a);return this.isObject(a)&&this.isObject(n)&&Object.keys(n).forEach(function(d){o.isObject(n[d])&&d in a?c[d]=o.extend(a[d],n[d]):Object.assign(c,pr({},d,n[d]))}),c}},{key:"extendArray",value:function(a,n){var o=[];return a.map(function(c){o.push(z.extend(n,c))}),o}},{key:"monthMod",value:function(a){return a%12}},{key:"clone",value:function(a){if(z.is("Array",a)){for(var n=[],o=0;o<a.length;o++)n[o]=this.clone(a[o]);return n}if(z.is("Null",a))return null;if(z.is("Date",a))return a;if("object"===Wt(a)){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=this.clone(a[d]));return c}return a}},{key:"log10",value:function(a){return Math.log(a)/Math.LN10}},{key:"roundToBase10",value:function(a){return Math.pow(10,Math.floor(Math.log10(a)))}},{key:"roundToBase",value:function(a,n){return Math.pow(n,Math.floor(Math.log(a)/Math.log(n)))}},{key:"parseNumber",value:function(a){return null===a?a:parseFloat(a)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(a){var n=String(a).split(/[eE]/);if(1===n.length)return n[0];var o="",c=a<0?"-":"",d=n[0].replace(".",""),f=Number(n[1])+1;if(f<0){for(o=c+"0.";f++;)o+="0";return o+d.replace(/^-/,"")}for(f-=d.length;f--;)o+="0";return d+o}},{key:"getDimensions",value:function(a){var n=getComputedStyle(a,null),o=a.clientHeight,c=a.clientWidth;return o-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),[c-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),o]}},{key:"getBoundingClientRect",value:function(a){var n=a.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:a.clientWidth,height:a.clientHeight,x:n.left,y:n.top}}},{key:"getLargestStringFromArr",value:function(a){return a.reduce(function(n,o){return Array.isArray(o)&&(o=o.reduce(function(c,d){return c.length>d.length?c:d})),n.length>o.length?n:o},0)}},{key:"hexToRgba",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==a.substring(0,1)&&(a="#999999");var o=a.replace("#","");o=o.match(new RegExp("(.{"+o.length/3+"})","g"));for(var c=0;c<o.length;c++)o[c]=parseInt(1===o[c].length?o[c]+o[c]:o[c],16);return void 0!==n&&o.push(n),"rgba("+o.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(a){return parseFloat(a.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(a)}},{key:"getPolygonPos",value:function(a,n){for(var o=[],c=2*Math.PI/n,d=0;d<n;d++){var f={};f.x=a*Math.sin(d*c),f.y=-a*Math.cos(d*c),o.push(f)}return o}},{key:"polarToCartesian",value:function(a,n,o,c){var d=(c-90)*Math.PI/180;return{x:a+o*Math.cos(d),y:n+o*Math.sin(d)}}},{key:"escapeString",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=a.toString().slice();return o.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,n)}},{key:"negToZero",value:function(a){return a<0?0:a}},{key:"moveIndexInArray",value:function(a,n,o){if(o>=a.length)for(var c=o-a.length+1;c--;)a.push(void 0);return a.splice(o,0,a.splice(n,1)[0]),a}},{key:"extractNumber",value:function(a){return parseFloat(a.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(a,n){for(;(a=a.parentElement)&&!a.classList.contains(n););return a}},{key:"setELstyles",value:function(a,n){for(var o in n)n.hasOwnProperty(o)&&(a.style.key=n[o])}},{key:"isNumber",value:function(a){return!isNaN(a)&&parseFloat(Number(a))===a&&!isNaN(parseInt(a,10))}},{key:"isFloat",value:function(a){return Number(a)===a&&a%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var a=window.navigator.userAgent,n=a.indexOf("MSIE ");if(n>0)return parseInt(a.substring(n+5,a.indexOf(".",n)),10);if(a.indexOf("Trident/")>0){var o=a.indexOf("rv:");return parseInt(a.substring(o+3,a.indexOf(".",o)),10)}var c=a.indexOf("Edge/");return c>0&&parseInt(a.substring(c+5,a.indexOf(".",c)),10)}}]),z}(),Ca=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.setEasingFunctions()}return Xe(z,[{key:"setEasingFunctions",value:function(){var a;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":a="-";break;case"easein":a="<";break;case"easeout":a=">";break;case"easeinout":default:a="<>";break;case"swing":a=function(n){var o=1.70158;return(n-=1)*n*((o+1)*n+o)+1};break;case"bounce":a=function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375};break;case"elastic":a=function(n){return n===!!n?n:Math.pow(2,-10*n)*Math.sin((n-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=a}}},{key:"animateLine",value:function(a,n,o,c){a.attr(n).animate(c).attr(o)}},{key:"animateMarker",value:function(a,n,o,c,d,f){n||(n=0),a.attr({r:n,width:n,height:n}).animate(c,d).attr({r:o,width:o.width,height:o.height}).afterAll(function(){f()})}},{key:"animateCircle",value:function(a,n,o,c,d){a.attr({r:n.r,cx:n.cx,cy:n.cy}).animate(c,d).attr({r:o.r,cx:o.cx,cy:o.cy})}},{key:"animateRect",value:function(a,n,o,c,d){a.attr(n).animate(c).attr(o).afterAll(function(){return d()})}},{key:"animatePathsGradually",value:function(a){var w=this.w,k=0;w.config.chart.animations.animateGradually.enabled&&(k=w.config.chart.animations.animateGradually.delay),w.config.chart.animations.dynamicAnimation.enabled&&w.globals.dataChanged&&"bar"!==w.config.chart.type&&(k=0),this.morphSVG(a.el,a.realIndex,a.j,"line"!==w.config.chart.type||w.globals.comboCharts?a.fill:"stroke",a.pathFrom,a.pathTo,a.speed,a.delay*k)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(a){a.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(a){var n=this.w;n.globals.animationEnded||(n.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof n.config.chart.events.animationEnd&&n.config.chart.events.animationEnd(this.ctx,{el:a,w:n}))}},{key:"morphSVG",value:function(a,n,o,c,d,f,g,m){var v=this,w=this.w;d||(d=a.attr("pathFrom")),f||(f=a.attr("pathTo"));var k=function(S){return"radar"===w.config.chart.type&&(g=1),"M 0 ".concat(w.globals.gridHeight)};(!d||d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d=k()),(!f||f.indexOf("undefined")>-1||f.indexOf("NaN")>-1)&&(f=k()),w.globals.shouldAnimate||(g=1),a.plot(d).animate(1,w.globals.easing,m).plot(d).animate(g,w.globals.easing,m).plot(f).afterAll(function(){le.isNumber(o)?o===w.globals.series[w.globals.maxValsInArrayIndex].length-2&&w.globals.shouldAnimate&&v.animationCompleted(a):"none"!==c&&w.globals.shouldAnimate&&(!w.globals.comboCharts&&n===w.globals.series.length-1||w.globals.comboCharts)&&v.animationCompleted(a),v.showDelayedElements()})}}]),z}(),ft=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"getDefaultFilter",value:function(a,n){var o=this.w;a.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==o.config.states.normal.filter?this.applyFilter(a,n,o.config.states.normal.filter.type,o.config.states.normal.filter.value):o.config.chart.dropShadow.enabled&&this.dropShadow(a,o.config.chart.dropShadow,n)}},{key:"addNormalFilter",value:function(a,n){var o=this.w;o.config.chart.dropShadow.enabled&&!a.node.classList.contains("apexcharts-marker")&&this.dropShadow(a,o.config.chart.dropShadow,n)}},{key:"addLightenFilter",value:function(a,n,o){var c=this,d=this.w,f=o.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(g){var m=d.config.chart.dropShadow;(m.enabled?c.addShadow(g,n,m):g).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:f}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"addDarkenFilter",value:function(a,n,o){var c=this,d=this.w,f=o.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(g){var m=d.config.chart.dropShadow;(m.enabled?c.addShadow(g,n,m):g).componentTransfer({rgb:{type:"linear",slope:f}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"applyFilter",value:function(a,n,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(o){case"none":this.addNormalFilter(a,n);break;case"lighten":this.addLightenFilter(a,n,{intensity:c});break;case"darken":this.addDarkenFilter(a,n,{intensity:c})}}},{key:"addShadow",value:function(a,n,o){var c=o.blur,d=o.top,f=o.left,g=o.color,m=o.opacity,v=a.flood(Array.isArray(g)?g[n]:g,m).composite(a.sourceAlpha,"in").offset(f,d).gaussianBlur(c).merge(a.source);return a.blend(a.source,v)}},{key:"dropShadow",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=n.top,d=n.left,f=n.blur,g=n.color,m=n.opacity,v=n.noUserSpaceOnUse,w=this.w;return a.unfilter(!0),le.isIE()&&"radialBar"===w.config.chart.type||(g=Array.isArray(g)?g[o]:g,a.filter(function(k){var S;S=le.isSafari()||le.isFirefox()||le.isIE()?k.flood(g,m).composite(k.sourceAlpha,"in").offset(d,c).gaussianBlur(f):k.flood(g,m).composite(k.sourceAlpha,"in").offset(d,c).gaussianBlur(f).merge(k.source),k.blend(k.source,S)}),v||a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)),a}},{key:"setSelectionFilter",value:function(a,n,o){var c=this.w;if(void 0!==c.globals.selectedDataPoints[n]&&c.globals.selectedDataPoints[n].indexOf(o)>-1){a.node.setAttribute("selected",!0);var d=c.config.states.active.filter;"none"!==d&&this.applyFilter(a,n,d.type,d.value)}}},{key:"_scaleFilterSize",value:function(a){!function(n){for(var o in n)n.hasOwnProperty(o)&&a.setAttribute(o,n[o])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),z}(),be=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"roundPathCorners",value:function(a,n){function o(j,oe,ae){var ye=oe.x-j.x,xe=oe.y-j.y,Le=Math.sqrt(ye*ye+xe*xe);return c(j,oe,Math.min(1,ae/Le))}function c(j,oe,ae){return{x:j.x+(oe.x-j.x)*ae,y:j.y+(oe.y-j.y)*ae}}function d(j,oe){j.length>2&&(j[j.length-2]=oe.x,j[j.length-1]=oe.y)}function f(j){return{x:parseFloat(j[j.length-2]),y:parseFloat(j[j.length-1])}}var g=a.split(/[,\s]/).reduce(function(j,oe){var ae=oe.match("([a-zA-Z])(.+)");return ae?(j.push(ae[1]),j.push(ae[2])):j.push(oe),j},[]).reduce(function(j,oe){return parseFloat(oe)==oe&&j.length?j[j.length-1].push(oe):j.push([oe]),j},[]),m=[];if(g.length>1){var v=f(g[0]),w=null;"Z"==g[g.length-1][0]&&g[0].length>2&&(g[g.length-1]=w=["L",v.x,v.y]),m.push(g[0]);for(var k=1;k<g.length;k++){var S=m[m.length-1],T=g[k],_=T==w?g[1]:g[k+1];if(_&&S&&S.length>2&&"L"==T[0]&&_.length>2&&"L"==_[0]){var I,H,W=f(S),q=f(T),V=f(_);I=o(q,W,n),H=o(q,V,n),d(T,I),T.origPoint=q,m.push(T);var x=c(I,q,.5),E=c(q,H,.5),D=["C",x.x,x.y,E.x,E.y,H.x,H.y];D.origPoint=q,m.push(D)}else m.push(T)}if(w){var F=f(m[m.length-1]);m.push(["Z"]),d(m[0],F)}}else m=g;return m.reduce(function(j,oe){return j+oe.join(" ")+" "},"")}},{key:"drawLine",value:function(a,n,o,c){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",v=this.w,w=v.globals.dom.Paper.line().attr({x1:a,y1:n,x2:o,y2:c,stroke:d,"stroke-dasharray":f,"stroke-width":g,"stroke-linecap":m});return w}},{key:"drawRect",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,v=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,w=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,k=this.w,S=k.globals.dom.Paper.rect();return S.attr({x:a,y:n,width:o>0?o:0,height:c>0?c:0,rx:d,ry:d,opacity:g,"stroke-width":null!==m?m:0,stroke:null!==v?v:"none","stroke-dasharray":w}),S.node.setAttribute("fill",f),S}},{key:"drawPolygon",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",d=this.w,f=d.globals.dom.Paper.polygon(a).attr({fill:c,stroke:n,"stroke-width":o});return f}},{key:"drawCircle",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.w;a<0&&(a=0);var c=o.globals.dom.Paper.circle(2*a);return null!==n&&c.attr(n),c}},{key:"drawPath",value:function(a){var n=a.d,o=void 0===n?"":n,c=a.stroke,d=void 0===c?"#a8a8a8":c,f=a.strokeWidth,g=void 0===f?1:f,m=a.fill,v=a.fillOpacity,w=void 0===v?1:v,k=a.strokeOpacity,S=void 0===k?1:k,T=a.classes,_=a.strokeLinecap,I=void 0===_?null:_,H=a.strokeDashArray,W=void 0===H?0:H,q=this.w;return null===I&&(I=q.config.stroke.lineCap),(o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o="M 0 ".concat(q.globals.gridHeight)),q.globals.dom.Paper.path(o).attr({fill:m,"fill-opacity":w,stroke:d,"stroke-opacity":S,"stroke-linecap":I,"stroke-width":g,"stroke-dasharray":W,class:T})}},{key:"group",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.w,o=n.globals.dom.Paper.group();return null!==a&&o.attr(a),o}},{key:"move",value:function(a,n){return["M",a,n].join(" ")}},{key:"line",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=null;return null===o?c=[" L",a,n].join(" "):"H"===o?c=[" H",a].join(" "):"V"===o&&(c=[" V",n].join(" ")),c}},{key:"curve",value:function(a,n,o,c,d,f){return["C",a,n,o,c,d,f].join(" ")}},{key:"quadraticCurve",value:function(a,n,o,c){return["Q",a,n,o,c].join(" ")}},{key:"arc",value:function(a,n,o,c,d,f,g){var m=arguments.length>7&&void 0!==arguments[7]&&arguments[7],v="A";m&&(v="a");var w=[v,a,n,o,c,d,f,g].join(" ");return w}},{key:"renderPaths",value:function(a){var n,o=a.j,c=a.realIndex,d=a.pathFrom,f=a.pathTo,g=a.stroke,m=a.strokeWidth,v=a.strokeLinecap,w=a.fill,k=a.animationDelay,S=a.initialSpeed,T=a.dataChangeSpeed,_=a.className,I=a.shouldClipToGrid,H=void 0===I||I,W=a.bindEventsOnPaths,q=void 0===W||W,V=a.drawShadow,x=void 0===V||V,E=this.w,D=new ft(this.ctx),F=new Ca(this.ctx),j=this.w.config.chart.animations.enabled,oe=j&&this.w.config.chart.animations.dynamicAnimation.enabled,ae=!!(j&&!E.globals.resized||oe&&E.globals.dataChanged&&E.globals.shouldAnimate);ae?n=d:(n=f,E.globals.animationEnded=!0);var xe,ye=E.config.stroke.dashArray;xe=Array.isArray(ye)?ye[c]:E.config.stroke.dashArray;var Le=this.drawPath({d:n,stroke:g,strokeWidth:m,fill:w,fillOpacity:1,classes:_,strokeLinecap:v,strokeDashArray:xe});Le.attr("index",c),H&&Le.attr({"clip-path":"url(#gridRectMask".concat(E.globals.cuid,")")}),"none"!==E.config.states.normal.filter.type?D.getDefaultFilter(Le,c):E.config.chart.dropShadow.enabled&&x&&(!E.config.chart.dropShadow.enabledOnSeries||E.config.chart.dropShadow.enabledOnSeries&&-1!==E.config.chart.dropShadow.enabledOnSeries.indexOf(c))&&D.dropShadow(Le,E.config.chart.dropShadow,c),q&&(Le.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Le)),Le.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Le)),Le.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Le))),Le.attr({pathTo:f,pathFrom:d});var Je={el:Le,j:o,realIndex:c,pathFrom:d,pathTo:f,fill:w,strokeWidth:m,delay:k};return!j||E.globals.resized||E.globals.dataChanged?!E.globals.resized&&E.globals.dataChanged||F.showDelayedElements():F.animatePathsGradually(ze(ze({},Je),{},{speed:S})),E.globals.dataChanged&&oe&&ae&&F.animatePathsGradually(ze(ze({},Je),{},{speed:T})),Le}},{key:"drawPattern",value:function(a,n,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=this.w,g=f.globals.dom.Paper.pattern(n,o,function(m){"horizontalLines"===a?m.line(0,0,o,0).stroke({color:c,width:d+1}):"verticalLines"===a?m.line(0,0,0,n).stroke({color:c,width:d+1}):"slantedLines"===a?m.line(0,0,n,o).stroke({color:c,width:d}):"squares"===a?m.rect(n,o).fill("none").stroke({color:c,width:d}):"circles"===a&&m.circle(n).fill("none").stroke({color:c,width:d})});return g}},{key:"drawGradient",value:function(a,n,o,c,d){var f,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,k=this.w;n.length<9&&0===n.indexOf("#")&&(n=le.hexToRgba(n,c)),o.length<9&&0===o.indexOf("#")&&(o=le.hexToRgba(o,d));var S=0,T=1,_=1,I=null;null!==m&&(S=void 0!==m[0]?m[0]/100:0,T=void 0!==m[1]?m[1]/100:1,_=void 0!==m[2]?m[2]/100:1,I=void 0!==m[3]?m[3]/100:null);var H=!("donut"!==k.config.chart.type&&"pie"!==k.config.chart.type&&"polarArea"!==k.config.chart.type&&"bubble"!==k.config.chart.type);if(f=k.globals.dom.Paper.gradient(H?"radial":"linear",null===v||0===v.length?function(V){V.at(S,n,c),V.at(T,o,d),V.at(_,o,d),null!==I&&V.at(I,n,c)}:function(V){(Array.isArray(v[w])?v[w]:v).forEach(function(x){V.at(x.offset/100,x.color,x.opacity)})}),H){var W=k.globals.gridWidth/2,q=k.globals.gridHeight/2;f.attr("bubble"!==k.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:W,cy:q,r:g}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===a?f.from(0,0).to(0,1):"diagonal"===a?f.from(0,0).to(1,1):"horizontal"===a?f.from(0,1).to(1,1):"diagonal2"===a&&f.from(1,0).to(0,1);return f}},{key:"getTextBasedOnMaxWidth",value:function(a){var n=a.text,o=a.maxWidth,f=this.getTextRects(n,a.fontSize,a.fontFamily),m=Math.floor(o/(f.width/n.length));return o<f.width?n.slice(0,m-3)+"...":n}},{key:"drawText",value:function(a){var n=this,o=a.x,c=a.y,d=a.text,f=a.textAnchor,g=a.fontSize,m=a.fontFamily,v=a.fontWeight,w=a.foreColor,k=a.opacity,S=a.maxWidth,T=a.cssClass,_=void 0===T?"":T,I=a.isPlainText,H=void 0===I||I,W=this.w;void 0===d&&(d="");var q=d;f||(f="start"),w&&w.length||(w=W.config.chart.foreColor),v=v||"regular";var V,x={maxWidth:S,fontSize:g=g||"11px",fontFamily:m=m||W.config.chart.fontFamily};return Array.isArray(d)?V=W.globals.dom.Paper.text(function(E){for(var D=0;D<d.length;D++)q=d[D],S&&(q=n.getTextBasedOnMaxWidth(ze({text:d[D]},x))),0===D?E.tspan(q):E.tspan(q).newLine()}):(S&&(q=this.getTextBasedOnMaxWidth(ze({text:d},x))),V=H?W.globals.dom.Paper.plain(d):W.globals.dom.Paper.text(function(E){return E.tspan(q)})),V.attr({x:o,y:c,"text-anchor":f,"dominant-baseline":"auto","font-size":g,"font-family":m,"font-weight":v,fill:w,class:"apexcharts-text "+_}),V.node.style.fontFamily=m,V.node.style.opacity=k,V}},{key:"drawMarker",value:function(a,n,o){a=a||0;var c=o.pSize||0,d=null;if("square"===o.shape||"rect"===o.shape){var f=void 0===o.pRadius?c/2:o.pRadius;null!==n&&c||(c=0,f=0);var g=1.2*c+f,m=this.drawRect(g,g,g,g,f);m.attr({x:a-g/2,y:n-g/2,cx:a,cy:n,class:o.class?o.class:"",fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,stroke:o.pointStrokeColor,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}),d=m}else"circle"!==o.shape&&o.shape||(le.isNumber(n)||(c=0,n=0),d=this.drawCircle(c,{cx:a,cy:n,class:o.class?o.class:"",stroke:o.pointStrokeColor,fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}));return d}},{key:"pathMouseEnter",value:function(a,n){var o=this.w,c=new ft(this.ctx),d=parseInt(a.node.getAttribute("index"),10),f=parseInt(a.node.getAttribute("j"),10);if("function"==typeof o.config.chart.events.dataPointMouseEnter&&o.config.chart.events.dataPointMouseEnter(n,this.ctx,{seriesIndex:d,dataPointIndex:f,w:o}),this.ctx.events.fireEvent("dataPointMouseEnter",[n,this.ctx,{seriesIndex:d,dataPointIndex:f,w:o}]),("none"===o.config.states.active.filter.type||"true"!==a.node.getAttribute("selected"))&&"none"!==o.config.states.hover.filter.type&&!o.globals.isTouchDevice){var g=o.config.states.hover.filter;c.applyFilter(a,d,g.type,g.value)}}},{key:"pathMouseLeave",value:function(a,n){var o=this.w,c=new ft(this.ctx),d=parseInt(a.node.getAttribute("index"),10),f=parseInt(a.node.getAttribute("j"),10);"function"==typeof o.config.chart.events.dataPointMouseLeave&&o.config.chart.events.dataPointMouseLeave(n,this.ctx,{seriesIndex:d,dataPointIndex:f,w:o}),this.ctx.events.fireEvent("dataPointMouseLeave",[n,this.ctx,{seriesIndex:d,dataPointIndex:f,w:o}]),"none"!==o.config.states.active.filter.type&&"true"===a.node.getAttribute("selected")||"none"!==o.config.states.hover.filter.type&&c.getDefaultFilter(a,d)}},{key:"pathMouseDown",value:function(a,n){var o=this.w,c=new ft(this.ctx),d=parseInt(a.node.getAttribute("index"),10),f=parseInt(a.node.getAttribute("j"),10),g="false";if("true"===a.node.getAttribute("selected")){if(a.node.setAttribute("selected","false"),o.globals.selectedDataPoints[d].indexOf(f)>-1){var m=o.globals.selectedDataPoints[d].indexOf(f);o.globals.selectedDataPoints[d].splice(m,1)}}else{if(!o.config.states.active.allowMultipleDataPointsSelection&&o.globals.selectedDataPoints.length>0){o.globals.selectedDataPoints=[];var v=o.globals.dom.Paper.select(".apexcharts-series path").members,w=o.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,k=function(_){Array.prototype.forEach.call(_,function(I){I.node.setAttribute("selected","false"),c.getDefaultFilter(I,d)})};k(v),k(w)}a.node.setAttribute("selected","true"),g="true",void 0===o.globals.selectedDataPoints[d]&&(o.globals.selectedDataPoints[d]=[]),o.globals.selectedDataPoints[d].push(f)}if("true"===g){var S=o.config.states.active.filter;if("none"!==S)c.applyFilter(a,d,S.type,S.value);else if("none"!==o.config.states.hover.filter&&!o.globals.isTouchDevice){var T=o.config.states.hover.filter;c.applyFilter(a,d,T.type,T.value)}}else"none"!==o.config.states.active.filter.type&&("none"===o.config.states.hover.filter.type||o.globals.isTouchDevice?c.getDefaultFilter(a,d):c.applyFilter(a,d,(T=o.config.states.hover.filter).type,T.value));"function"==typeof o.config.chart.events.dataPointSelection&&o.config.chart.events.dataPointSelection(n,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:d,dataPointIndex:f,w:o}),n&&this.ctx.events.fireEvent("dataPointSelection",[n,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:d,dataPointIndex:f,w:o}])}},{key:"rotateAroundCenter",value:function(a){var n={};return a&&"function"==typeof a.getBBox&&(n=a.getBBox()),{x:n.x+n.width/2,y:n.y+n.height/2}}},{key:"getTextRects",value:function(a,n,o,c){var d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=this.w,g=this.drawText({x:-200,y:-200,text:a,textAnchor:"start",fontSize:n,fontFamily:o,foreColor:"#fff",opacity:0});c&&g.attr("transform",c),f.globals.dom.Paper.add(g);var m=g.bbox();return d||(m=g.node.getBoundingClientRect()),g.remove(),{width:m.width,height:m.height}}},{key:"placeTextWithEllipsis",value:function(a,n,o){if("function"==typeof a.getComputedTextLength&&(a.textContent=n,n.length>0&&a.getComputedTextLength()>=o/1.1)){for(var c=n.length-3;c>0;c-=3)if(a.getSubStringLength(0,c)<=o/1.1)return void(a.textContent=n.substring(0,c)+"...");a.textContent="."}}}],[{key:"setAttrs",value:function(a,n){for(var o in n)n.hasOwnProperty(o)&&a.setAttribute(o,n[o])}}]),z}(),Ce=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"getStackedSeriesTotals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.w,o=[];if(0===n.globals.series.length)return o;for(var c=0;c<n.globals.series[n.globals.maxValsInArrayIndex].length;c++){for(var d=0,f=0;f<n.globals.series.length;f++)void 0!==n.globals.series[f][c]&&-1===a.indexOf(f)&&(d+=n.globals.series[f][c]);o.push(d)}return o}},{key:"getSeriesTotalByIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===a?this.w.config.series.reduce(function(n,o){return n+o},0):this.w.globals.series[a].reduce(function(n,o){return n+o},0)}},{key:"isSeriesNull",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===a?this.w.config.series.filter(function(n){return null!==n}):this.w.config.series[a].data.filter(function(n){return null!==n})).length}},{key:"seriesHaveSameValues",value:function(a){return this.w.globals.series[a].every(function(n,o,c){return n===c[0]})}},{key:"getCategoryLabels",value:function(a){var n=this.w,o=a.slice();return n.config.xaxis.convertedCatToNumeric&&(o=a.map(function(c,d){return n.config.xaxis.labels.formatter(c-n.globals.minX+1)})),o}},{key:"getLargestSeries",value:function(){var a=this.w;a.globals.maxValsInArrayIndex=a.globals.series.map(function(n){return n.length}).indexOf(Math.max.apply(Math,a.globals.series.map(function(n){return n.length})))}},{key:"getLargestMarkerSize",value:function(){var a=this.w,n=0;return a.globals.markers.size.forEach(function(o){n=Math.max(n,o)}),a.config.markers.discrete&&a.config.markers.discrete.length&&a.config.markers.discrete.forEach(function(o){n=Math.max(n,o.size)}),n>0&&(n+=a.config.markers.hover.sizeOffset+1),a.globals.markers.largestSize=n,n}},{key:"getSeriesTotals",value:function(){var a=this.w;a.globals.seriesTotals=a.globals.series.map(function(n,o){var c=0;if(Array.isArray(n))for(var d=0;d<n.length;d++)c+=n[d];else c+=n;return c})}},{key:"getSeriesTotalsXRange",value:function(a,n){var o=this.w;return o.globals.series.map(function(c,d){for(var f=0,g=0;g<c.length;g++)o.globals.seriesX[d][g]>a&&o.globals.seriesX[d][g]<n&&(f+=c[g]);return f})}},{key:"getPercentSeries",value:function(){var a=this.w;a.globals.seriesPercent=a.globals.series.map(function(n,o){var c=[];if(Array.isArray(n))for(var d=0;d<n.length;d++){var f=a.globals.stackedSeriesTotals[d],g=0;f&&(g=100*n[d]/f),c.push(g)}else{var m=100*n/a.globals.seriesTotals.reduce(function(v,w){return v+w},0);c.push(m)}return c})}},{key:"getCalculatedRatios",value:function(){var a,n,o,c,d=this.w.globals,f=[],g=0,m=[],v=.1,w=0;if(d.yRange=[],d.isMultipleYAxis)for(var k=0;k<d.minYArr.length;k++)d.yRange.push(Math.abs(d.minYArr[k]-d.maxYArr[k])),m.push(0);else d.yRange.push(Math.abs(d.minY-d.maxY));d.xRange=Math.abs(d.maxX-d.minX),d.zRange=Math.abs(d.maxZ-d.minZ);for(var S=0;S<d.yRange.length;S++)f.push(d.yRange[S]/d.gridHeight);if(n=d.xRange/d.gridWidth,o=Math.abs(d.initialMaxX-d.initialMinX)/d.gridWidth,a=d.yRange/d.gridWidth,c=d.xRange/d.gridHeight,(g=d.zRange/d.gridHeight*16)||(g=1),d.minY!==Number.MIN_VALUE&&0!==Math.abs(d.minY)&&(d.hasNegs=!0),d.isMultipleYAxis){m=[];for(var T=0;T<f.length;T++)m.push(-d.minYArr[T]/f[T])}else m.push(-d.minY/f[0]),d.minY!==Number.MIN_VALUE&&0!==Math.abs(d.minY)&&(v=-d.minY/a,w=d.minX/n);return{yRatio:f,invertedYRatio:a,zRatio:g,xRatio:n,initialXRatio:o,invertedXRatio:c,baseLineInvertedY:v,baseLineY:m,baseLineX:w}}},{key:"getLogSeries",value:function(a){var n=this,o=this.w;return o.globals.seriesLog=a.map(function(c,d){return o.config.yaxis[d]&&o.config.yaxis[d].logarithmic?c.map(function(f){return null===f?null:n.getLogVal(o.config.yaxis[d].logBase,f,d)}):c}),o.globals.invalidLogScale?a:o.globals.seriesLog}},{key:"getBaseLog",value:function(a,n){return Math.log(n)/Math.log(a)}},{key:"getLogVal",value:function(a,n,o){if(0===n)return 0;var c=this.w,d=0===c.globals.minYArr[o]?-1:this.getBaseLog(a,c.globals.minYArr[o]),f=(0===c.globals.maxYArr[o]?0:this.getBaseLog(a,c.globals.maxYArr[o]))-d;return n<1?n/f:(this.getBaseLog(a,n)-d)/f}},{key:"getLogYRatios",value:function(a){var n=this,o=this.w,c=this.w.globals;return c.yLogRatio=a.slice(),c.logYRange=c.yRange.map(function(d,f){if(o.config.yaxis[f]&&n.w.config.yaxis[f].logarithmic){var g,m=-Number.MAX_VALUE,v=Number.MIN_VALUE;return c.seriesLog.forEach(function(w,k){w.forEach(function(S){o.config.yaxis[k]&&o.config.yaxis[k].logarithmic&&(m=Math.max(S,m),v=Math.min(S,v))})}),g=Math.pow(c.yRange[f],Math.abs(v-m)/c.yRange[f]),c.yLogRatio[f]=g/c.gridHeight,g}}),c.invalidLogScale?a.slice():c.yLogRatio}}],[{key:"checkComboSeries",value:function(a){var n=!1,o=0,c=0;return a.length&&void 0!==a[0].type&&a.forEach(function(d){"bar"!==d.type&&"column"!==d.type&&"candlestick"!==d.type&&"boxPlot"!==d.type||o++,void 0!==d.type&&c++}),c>0&&(n=!0),{comboBarCount:o,comboCharts:n}}},{key:"extendArrayProps",value:function(a,n,o){return n.yaxis&&(n=a.extendYAxis(n,o)),n.annotations&&(n.annotations.yaxis&&(n=a.extendYAxisAnnotations(n)),n.annotations.xaxis&&(n=a.extendXAxisAnnotations(n)),n.annotations.points&&(n=a.extendPointAnnotations(n))),n}}]),z}(),nt=function(){function z(a){He(this,z),this.w=a.w,this.annoCtx=a}return Xe(z,[{key:"setOrientations",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.w;if("vertical"===a.label.orientation){var c=null!==n?n:0,d=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(c,"']"));if(null!==d){var f=d.getBoundingClientRect();d.setAttribute("x",parseFloat(d.getAttribute("x"))-f.height+4),d.setAttribute("y","top"===a.label.position?parseFloat(d.getAttribute("y"))+f.width:parseFloat(d.getAttribute("y"))-f.width);var g=this.annoCtx.graphics.rotateAroundCenter(d),m=g.x,v=g.y;d.setAttribute("transform","rotate(-90 ".concat(m," ").concat(v,")"))}}}},{key:"addBackgroundToAnno",value:function(a,n){var o=this.w;if(!a||void 0===n.label.text||void 0!==n.label.text&&!String(n.label.text).trim())return null;var c=o.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),d=a.getBoundingClientRect(),f=n.label.style.padding.left,g=n.label.style.padding.right,m=n.label.style.padding.top,v=n.label.style.padding.bottom;"vertical"===n.label.orientation&&(m=n.label.style.padding.left,v=n.label.style.padding.right,f=n.label.style.padding.top,g=n.label.style.padding.bottom);var S=this.annoCtx.graphics.drawRect(d.left-c.left-f-o.globals.barPadForNumericAxis,d.top-c.top-m,d.width+f+g,d.height+m+v,n.label.borderRadius,n.label.style.background,1,n.label.borderWidth,n.label.borderColor,0);return n.id&&S.node.classList.add(n.id),S}},{key:"annotationsBackground",value:function(){var a=this,n=this.w,o=function(c,d,f){var g=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(f,"-annotations .apexcharts-").concat(f,"-annotation-label[rel='").concat(d,"']"));if(g){var m=g.parentNode,v=a.addBackgroundToAnno(g,c);v&&(m.insertBefore(v.node,g),c.label.mouseEnter&&v.node.addEventListener("mouseenter",c.label.mouseEnter.bind(a,c)),c.label.mouseLeave&&v.node.addEventListener("mouseleave",c.label.mouseLeave.bind(a,c)),c.label.click&&v.node.addEventListener("click",c.label.click.bind(a,c)))}};n.config.annotations.xaxis.map(function(c,d){o(c,d,"xaxis")}),n.config.annotations.yaxis.map(function(c,d){o(c,d,"yaxis")}),n.config.annotations.points.map(function(c,d){o(c,d,"point")})}},{key:"getY1Y2",value:function(a,n){var o,c="y1"===a?n.y:n.y2,d=this.w;if(this.annoCtx.invertAxis){var f=d.globals.labels.indexOf(c);d.config.xaxis.convertedCatToNumeric&&(f=d.globals.categoryLabels.indexOf(c));var g=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(f+1)+")");g&&(o=parseFloat(g.getAttribute("y")))}else{var m;m=d.config.yaxis[n.yAxisIndex].logarithmic?(c=new Ce(this.annoCtx.ctx).getLogVal(c,n.yAxisIndex))/d.globals.yLogRatio[n.yAxisIndex]:(c-d.globals.minYArr[n.yAxisIndex])/(d.globals.yRange[n.yAxisIndex]/d.globals.gridHeight),o=d.globals.gridHeight-m,!n.marker||null!=n.y||(o=0),d.config.yaxis[n.yAxisIndex]&&d.config.yaxis[n.yAxisIndex].reversed&&(o=m)}return"string"==typeof c&&c.indexOf("px")>-1&&(o=parseFloat(c)),o}},{key:"getX1X2",value:function(a,n){var o=this.w,c=this.annoCtx.invertAxis?o.globals.minY:o.globals.minX,d=this.annoCtx.invertAxis?o.globals.maxY:o.globals.maxX,f=this.annoCtx.invertAxis?o.globals.yRange[0]:o.globals.xRange,g=(n.x-c)/(f/o.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(g=(d-n.x)/(f/o.globals.gridWidth)),"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(g=this.getStringX(n.x));var m=(n.x2-c)/(f/o.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(m=(d-n.x2)/(f/o.globals.gridWidth)),"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(m=this.getStringX(n.x2)),null!=n.x||!n.marker||(g=o.globals.gridWidth),"x1"===a&&"string"==typeof n.x&&n.x.indexOf("px")>-1&&(g=parseFloat(n.x)),"x2"===a&&"string"==typeof n.x2&&n.x2.indexOf("px")>-1&&(m=parseFloat(n.x2)),"x1"===a?g:m}},{key:"getStringX",value:function(a){var n=this.w,o=a;n.config.xaxis.convertedCatToNumeric&&n.globals.categoryLabels.length&&(a=n.globals.categoryLabels.indexOf(a)+1);var c=n.globals.labels.indexOf(a),d=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(c+1)+")");return d&&(o=parseFloat(d.getAttribute("x"))),o}}]),z}(),Na=function(){function z(a){He(this,z),this.w=a.w,this.annoCtx=a,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new nt(this.annoCtx)}return Xe(z,[{key:"addXaxisAnnotation",value:function(a,n,o){var c,d=this.w,f=this.helpers.getX1X2("x1",a),g=a.label.text,m=a.strokeDashArray;if(le.isNumber(f)){if(null==a.x2){var v=this.annoCtx.graphics.drawLine(f+a.offsetX,0+a.offsetY,f+a.offsetX,d.globals.gridHeight+a.offsetY,a.borderColor,m,a.borderWidth);n.appendChild(v.node),a.id&&v.node.classList.add(a.id)}else{if((c=this.helpers.getX1X2("x2",a))<f){var w=f;f=c,c=w}var k=this.annoCtx.graphics.drawRect(f+a.offsetX,0+a.offsetY,c-f,d.globals.gridHeight+a.offsetY,0,a.fillColor,a.opacity,1,a.borderColor,m);k.node.classList.add("apexcharts-annotation-rect"),k.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")")),n.appendChild(k.node),a.id&&k.node.classList.add(a.id)}var S=this.annoCtx.graphics.getTextRects(g,parseFloat(a.label.style.fontSize)),_=this.annoCtx.graphics.drawText({x:f+a.label.offsetX,y:("top"===a.label.position?4:"center"===a.label.position?d.globals.gridHeight/2+("vertical"===a.label.orientation?S.width/2:0):d.globals.gridHeight)+a.label.offsetY-("vertical"===a.label.orientation?"top"===a.label.position?S.width/2-12:-S.width/2:0),text:g,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});_.attr({rel:o}),n.appendChild(_.node),this.annoCtx.helpers.setOrientations(a,o)}}},{key:"drawXAxisAnnotations",value:function(){var a=this,n=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return n.config.annotations.xaxis.map(function(c,d){a.addXaxisAnnotation(c,o.node,d)}),o}}]),z}(),Qn=function(){function z(a){He(this,z),this.w=a.w,this.annoCtx=a,this.helpers=new nt(this.annoCtx)}return Xe(z,[{key:"addYaxisAnnotation",value:function(a,n,o){var c,d=this.w,f=a.strokeDashArray,g=this.helpers.getY1Y2("y1",a),m=a.label.text;if(null==a.y2){var v=this.annoCtx.graphics.drawLine(0+a.offsetX,g+a.offsetY,this._getYAxisAnnotationWidth(a),g+a.offsetY,a.borderColor,f,a.borderWidth);n.appendChild(v.node),a.id&&v.node.classList.add(a.id)}else{if((c=this.helpers.getY1Y2("y2",a))>g){var w=g;g=c,c=w}var k=this.annoCtx.graphics.drawRect(0+a.offsetX,c+a.offsetY,this._getYAxisAnnotationWidth(a),g-c,0,a.fillColor,a.opacity,1,a.borderColor,f);k.node.classList.add("apexcharts-annotation-rect"),k.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")")),n.appendChild(k.node),a.id&&k.node.classList.add(a.id)}var T=this.annoCtx.graphics.drawText({x:("right"===a.label.position?d.globals.gridWidth:"center"===a.label.position?d.globals.gridWidth/2:0)+a.label.offsetX,y:(c??g)+a.label.offsetY-3,text:m,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});T.attr({rel:o}),n.appendChild(T.node)}},{key:"_getYAxisAnnotationWidth",value:function(a){var n=this.w;return(a.width.indexOf("%")>-1?n.globals.gridWidth*parseInt(a.width,10)/100:parseInt(a.width,10))+a.offsetX}},{key:"drawYAxisAnnotations",value:function(){var a=this,n=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return n.config.annotations.yaxis.map(function(c,d){a.addYaxisAnnotation(c,o.node,d)}),o}}]),z}(),Qe=function(){function z(a){He(this,z),this.w=a.w,this.annoCtx=a,this.helpers=new nt(this.annoCtx)}return Xe(z,[{key:"addPointAnnotation",value:function(a,n,o){var c=this.helpers.getX1X2("x1",a),d=this.helpers.getY1Y2("y1",a);if(le.isNumber(c)){var f={pSize:a.marker.size,pointStrokeWidth:a.marker.strokeWidth,pointFillColor:a.marker.fillColor,pointStrokeColor:a.marker.strokeColor,shape:a.marker.shape,pRadius:a.marker.radius,class:"apexcharts-point-annotation-marker ".concat(a.marker.cssClass," ").concat(a.id?a.id:"")},g=this.annoCtx.graphics.drawMarker(c+a.marker.offsetX,d+a.marker.offsetY,f);n.appendChild(g.node);var m=a.label.text?a.label.text:"",v=this.annoCtx.graphics.drawText({x:c+a.label.offsetX,y:d+a.label.offsetY-a.marker.size-parseFloat(a.label.style.fontSize)/1.6,text:m,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});if(v.attr({rel:o}),n.appendChild(v.node),a.customSVG.SVG){var w=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+a.customSVG.cssClass});w.attr({transform:"translate(".concat(c+a.customSVG.offsetX,", ").concat(d+a.customSVG.offsetY,")")}),w.node.innerHTML=a.customSVG.SVG,n.appendChild(w.node)}if(a.image.path){var k=a.image.width?a.image.width:20,S=a.image.height?a.image.height:20;g=this.annoCtx.addImage({x:c+a.image.offsetX-k/2,y:d+a.image.offsetY-S/2,width:k,height:S,path:a.image.path,appendTo:".apexcharts-point-annotations"})}a.mouseEnter&&g.node.addEventListener("mouseenter",a.mouseEnter.bind(this,a)),a.mouseLeave&&g.node.addEventListener("mouseleave",a.mouseLeave.bind(this,a)),a.click&&g.node.addEventListener("click",a.click.bind(this,a))}}},{key:"drawPointAnnotations",value:function(){var a=this,n=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return n.config.annotations.points.map(function(c,d){a.addPointAnnotation(c,o.node,d)}),o}}]),z}(),dn={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},hn=function(){function z(){He(this,z),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Xe(z,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[dn],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(a){return new Date(a).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(a){return a}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(a){return a+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(n,o){return n+o},0)/a.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(a){return a}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(a){return a}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(n,o){return n+o},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(a){return null!==a?a:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(a){return a?a+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),z}(),Ae=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.graphics=new be(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new nt(this),this.xAxisAnnotations=new Na(this),this.yAxisAnnotations=new Qn(this),this.pointsAnnotations=new Qe(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Xe(z,[{key:"drawAxesAnnotations",value:function(){var a=this.w;if(a.globals.axisCharts){for(var n=this.yAxisAnnotations.drawYAxisAnnotations(),o=this.xAxisAnnotations.drawXAxisAnnotations(),c=this.pointsAnnotations.drawPointAnnotations(),d=a.config.chart.animations.enabled,f=[n,o,c],g=[o.node,n.node,c.node],m=0;m<3;m++)a.globals.dom.elGraphical.add(f[m]),!d||a.globals.resized||a.globals.dataChanged||"scatter"!==a.config.chart.type&&"bubble"!==a.config.chart.type&&a.globals.dataPoints>1&&g[m].classList.add("apexcharts-element-hidden"),a.globals.delayedElements.push({el:g[m],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var a=this;this.w.config.annotations.images.map(function(n,o){a.addImage(n,o)})}},{key:"drawTextAnnos",value:function(){var a=this;this.w.config.annotations.texts.map(function(n,o){a.addText(n,o)})}},{key:"addXaxisAnnotation",value:function(a,n,o){this.xAxisAnnotations.addXaxisAnnotation(a,n,o)}},{key:"addYaxisAnnotation",value:function(a,n,o){this.yAxisAnnotations.addYaxisAnnotation(a,n,o)}},{key:"addPointAnnotation",value:function(a,n,o){this.pointsAnnotations.addPointAnnotation(a,n,o)}},{key:"addText",value:function(a,n){var d=a.text,S=a.backgroundColor,T=a.borderWidth,_=a.strokeDashArray,I=a.borderRadius,H=a.borderColor,W=a.appendTo,q=void 0===W?".apexcharts-annotations":W,V=a.paddingLeft,x=void 0===V?4:V,E=a.paddingRight,D=void 0===E?4:E,F=a.paddingBottom,j=void 0===F?2:F,oe=a.paddingTop,ae=void 0===oe?2:oe,ye=this.w,xe=this.graphics.drawText({x:a.x,y:a.y,text:d,textAnchor:a.textAnchor||"start",fontSize:a.fontSize||"12px",fontWeight:a.fontWeight||"regular",fontFamily:a.fontFamily||ye.config.chart.fontFamily,foreColor:a.foreColor||ye.config.chart.foreColor,cssClass:a.cssClass}),Le=ye.globals.dom.baseEl.querySelector(q);Le&&Le.appendChild(xe.node);var Pe=xe.bbox();if(d){var Je=this.graphics.drawRect(Pe.x-x,Pe.y-ae,Pe.width+x+D,Pe.height+j+ae,I,S||"transparent",1,T,H,_);Le.insertBefore(Je.node,xe.node)}}},{key:"addImage",value:function(a,n){var o=this.w,d=a.x,f=void 0===d?0:d,g=a.y,m=void 0===g?0:g,v=a.width,w=void 0===v?20:v,k=a.height,S=void 0===k?20:k,T=a.appendTo,_=void 0===T?".apexcharts-annotations":T,I=o.globals.dom.Paper.image(a.path);I.size(w,S).move(f,m);var H=o.globals.dom.baseEl.querySelector(_);return H&&H.appendChild(I.node),I}},{key:"addXaxisAnnotationExternal",value:function(a,n,o){return this.addAnnotationExternal({params:a,pushToMemory:n,context:o,type:"xaxis",contextMethod:o.addXaxisAnnotation}),o}},{key:"addYaxisAnnotationExternal",value:function(a,n,o){return this.addAnnotationExternal({params:a,pushToMemory:n,context:o,type:"yaxis",contextMethod:o.addYaxisAnnotation}),o}},{key:"addPointAnnotationExternal",value:function(a,n,o){return void 0===this.invertAxis&&(this.invertAxis=o.w.globals.isBarHorizontal),this.addAnnotationExternal({params:a,pushToMemory:n,context:o,type:"point",contextMethod:o.addPointAnnotation}),o}},{key:"addAnnotationExternal",value:function(a){var n=a.params,o=a.pushToMemory,c=a.context,d=a.type,f=a.contextMethod,g=c,m=g.w,v=m.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations")),w=v.childNodes.length+1,k=new hn,S=Object.assign({},"xaxis"===d?k.xAxisAnnotation:"yaxis"===d?k.yAxisAnnotation:k.pointAnnotation),T=le.extend(S,n);switch(d){case"xaxis":this.addXaxisAnnotation(T,v,w);break;case"yaxis":this.addYaxisAnnotation(T,v,w);break;case"point":this.addPointAnnotation(T,v,w)}var _=m.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations .apexcharts-").concat(d,"-annotation-label[rel='").concat(w,"']")),I=this.helpers.addBackgroundToAnno(_,T);return I&&v.insertBefore(I.node,_),o&&m.globals.memory.methodsToExec.push({context:g,id:T.id?T.id:le.randomId(),method:f,label:"addAnnotation",params:n}),c}},{key:"clearAnnotations",value:function(a){var n=a.w,o=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");n.globals.memory.methodsToExec.map(function(c,d){"addText"!==c.label&&"addAnnotation"!==c.label||n.globals.memory.methodsToExec.splice(d,1)}),o=le.listToArray(o),Array.prototype.forEach.call(o,function(c){for(;c.firstChild;)c.removeChild(c.firstChild)})}},{key:"removeAnnotation",value:function(a,n){var o=a.w,c=o.globals.dom.baseEl.querySelectorAll(".".concat(n));c&&(o.globals.memory.methodsToExec.map(function(d,f){d.id===n&&o.globals.memory.methodsToExec.splice(f,1)}),Array.prototype.forEach.call(c,function(d){d.parentElement.removeChild(d)}))}}]),z}(),ct=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Xe(z,[{key:"isValidDate",value:function(a){return!isNaN(this.parseDate(a))}},{key:"getTimeStamp",value:function(a){return Date.parse(a)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toISOString().substr(0,25)).getTime():new Date(a).getTime():a}},{key:"getDate",value:function(a){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toUTCString()):new Date(a)}},{key:"parseDate",value:function(a){var n=Date.parse(a);if(!isNaN(n))return this.getTimeStamp(a);var o=Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(o)}},{key:"parseDateWithTimezone",value:function(a){return Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(a,n){var o=this.w.globals.locale,c=this.w.config.xaxis.labels.datetimeUTC,d=["\0"].concat(xt(o.months)),f=["\x01"].concat(xt(o.shortMonths)),g=["\x02"].concat(xt(o.days)),m=["\x03"].concat(xt(o.shortDays));function v(j,oe){var ae=j+"";for(oe=oe||2;ae.length<oe;)ae="0"+ae;return ae}var w=c?a.getUTCFullYear():a.getFullYear();n=(n=(n=n.replace(/(^|[^\\])yyyy+/g,"$1"+w)).replace(/(^|[^\\])yy/g,"$1"+w.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+w);var k=(c?a.getUTCMonth():a.getMonth())+1;n=(n=(n=(n=n.replace(/(^|[^\\])MMMM+/g,"$1"+d[0])).replace(/(^|[^\\])MMM/g,"$1"+f[0])).replace(/(^|[^\\])MM/g,"$1"+v(k))).replace(/(^|[^\\])M/g,"$1"+k);var S=c?a.getUTCDate():a.getDate();n=(n=(n=(n=n.replace(/(^|[^\\])dddd+/g,"$1"+g[0])).replace(/(^|[^\\])ddd/g,"$1"+m[0])).replace(/(^|[^\\])dd/g,"$1"+v(S))).replace(/(^|[^\\])d/g,"$1"+S);var T=c?a.getUTCHours():a.getHours(),_=T>12?T-12:0===T?12:T;n=(n=(n=(n=n.replace(/(^|[^\\])HH+/g,"$1"+v(T))).replace(/(^|[^\\])H/g,"$1"+T)).replace(/(^|[^\\])hh+/g,"$1"+v(_))).replace(/(^|[^\\])h/g,"$1"+_);var I=c?a.getUTCMinutes():a.getMinutes();n=(n=n.replace(/(^|[^\\])mm+/g,"$1"+v(I))).replace(/(^|[^\\])m/g,"$1"+I);var H=c?a.getUTCSeconds():a.getSeconds();n=(n=n.replace(/(^|[^\\])ss+/g,"$1"+v(H))).replace(/(^|[^\\])s/g,"$1"+H);var W=c?a.getUTCMilliseconds():a.getMilliseconds();n=n.replace(/(^|[^\\])fff+/g,"$1"+v(W,3)),W=Math.round(W/10),n=n.replace(/(^|[^\\])ff/g,"$1"+v(W)),W=Math.round(W/10);var q=T<12?"AM":"PM";n=(n=(n=n.replace(/(^|[^\\])f/g,"$1"+W)).replace(/(^|[^\\])TT+/g,"$1"+q)).replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var V=q.toLowerCase();n=(n=n.replace(/(^|[^\\])tt+/g,"$1"+V)).replace(/(^|[^\\])t/g,"$1"+V.charAt(0));var x=-a.getTimezoneOffset(),E=c||!x?"Z":x>0?"+":"-";if(!c){var D=(x=Math.abs(x))%60;E+=v(Math.floor(x/60))+":"+v(D)}n=n.replace(/(^|[^\\])K/g,"$1"+E);var F=(c?a.getUTCDay():a.getDay())+1;return(n=(n=(n=(n=n.replace(new RegExp(g[0],"g"),g[F])).replace(new RegExp(m[0],"g"),m[F])).replace(new RegExp(d[0],"g"),d[k])).replace(new RegExp(f[0],"g"),f[k])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(a,n,o){var c=this.w;void 0!==c.config.xaxis.min&&(a=c.config.xaxis.min),void 0!==c.config.xaxis.max&&(n=c.config.xaxis.max);var d=this.getDate(a),f=this.getDate(n),g=this.formatDate(d,"yyyy MM dd HH mm ss fff").split(" "),m=this.formatDate(f,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(g[6],10),maxMillisecond:parseInt(m[6],10),minSecond:parseInt(g[5],10),maxSecond:parseInt(m[5],10),minMinute:parseInt(g[4],10),maxMinute:parseInt(m[4],10),minHour:parseInt(g[3],10),maxHour:parseInt(m[3],10),minDate:parseInt(g[2],10),maxDate:parseInt(m[2],10),minMonth:parseInt(g[1],10)-1,maxMonth:parseInt(m[1],10)-1,minYear:parseInt(g[0],10),maxYear:parseInt(m[0],10)}}},{key:"isLeapYear",value:function(a){return a%4==0&&a%100!=0||a%400==0}},{key:"calculcateLastDaysOfMonth",value:function(a,n,o){return this.determineDaysOfMonths(a,n)-o}},{key:"determineDaysOfYear",value:function(a){var n=365;return this.isLeapYear(a)&&(n=366),n}},{key:"determineRemainingDaysOfYear",value:function(a,n,o){var c=this.daysCntOfYear[n]+o;return n>1&&this.isLeapYear()&&c++,c}},{key:"determineDaysOfMonths",value:function(a,n){var o=30;switch(a=le.monthMod(a),!0){case this.months30.indexOf(a)>-1:2===a&&(o=this.isLeapYear(n)?29:28);break;case this.months31.indexOf(a)>-1:default:o=31}return o}}]),z}(),Ri=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.tooltipKeyFormat="dd MMM"}return Xe(z,[{key:"xLabelFormat",value:function(a,n,o,c){var d=this.w;if("datetime"===d.config.xaxis.type&&void 0===d.config.xaxis.labels.formatter&&void 0===d.config.tooltip.x.formatter){var f=new ct(this.ctx);return f.formatDate(f.getDate(n),d.config.tooltip.x.format)}return a(n,o,c)}},{key:"defaultGeneralFormatter",value:function(a){return Array.isArray(a)?a.map(function(n){return n}):a}},{key:"defaultYFormatter",value:function(a,n,o){var c=this.w;return le.isNumber(a)&&(a=a.toFixed(0!==c.globals.yValueDecimal?void 0!==n.decimalsInFloat?n.decimalsInFloat:c.globals.yValueDecimal:c.globals.maxYArr[o]-c.globals.minYArr[o]<5?1:0)),a}},{key:"setLabelFormatters",value:function(){var a=this,n=this.w;return n.globals.xaxisTooltipFormatter=function(o){return a.defaultGeneralFormatter(o)},n.globals.ttKeyFormatter=function(o){return a.defaultGeneralFormatter(o)},n.globals.ttZFormatter=function(o){return o},n.globals.legendFormatter=function(o){return a.defaultGeneralFormatter(o)},n.globals.xLabelFormatter=void 0!==n.config.xaxis.labels.formatter?n.config.xaxis.labels.formatter:function(o){if(le.isNumber(o)){if(!n.config.xaxis.convertedCatToNumeric&&"numeric"===n.config.xaxis.type){if(le.isNumber(n.config.xaxis.decimalsInFloat))return o.toFixed(n.config.xaxis.decimalsInFloat);var c=n.globals.maxX-n.globals.minX;return o.toFixed(c>0&&c<100?1:0)}return o.toFixed(n.globals.isBarHorizontal&&n.globals.maxY-n.globals.minYArr<4?1:0)}return o},n.globals.ttKeyFormatter="function"==typeof n.config.tooltip.x.formatter?n.config.tooltip.x.formatter:n.globals.xLabelFormatter,"function"==typeof n.config.xaxis.tooltip.formatter&&(n.globals.xaxisTooltipFormatter=n.config.xaxis.tooltip.formatter),(Array.isArray(n.config.tooltip.y)||void 0!==n.config.tooltip.y.formatter)&&(n.globals.ttVal=n.config.tooltip.y),void 0!==n.config.tooltip.z.formatter&&(n.globals.ttZFormatter=n.config.tooltip.z.formatter),void 0!==n.config.legend.formatter&&(n.globals.legendFormatter=n.config.legend.formatter),n.config.yaxis.forEach(function(o,c){n.globals.yLabelFormatters[c]=void 0!==o.labels.formatter?o.labels.formatter:function(d){return n.globals.xyCharts?Array.isArray(d)?d.map(function(f){return a.defaultYFormatter(f,o,c)}):a.defaultYFormatter(d,o,c):d}}),n.globals}},{key:"heatmapLabelFormatters",value:function(){var a=this.w;if("heatmap"===a.config.chart.type){a.globals.yAxisScale[0].result=a.globals.seriesNames.slice();var n=a.globals.seriesNames.reduce(function(o,c){return o.length>c.length?o:c},0);a.globals.yAxisScale[0].niceMax=n,a.globals.yAxisScale[0].niceMin=n}}}]),z}(),Te=function(z){var a,n=z.isTimeline,o=z.ctx,c=z.seriesIndex,d=z.dataPointIndex,f=z.y1,g=z.y2,m=z.w,v=m.globals.seriesRangeStart[c][d],w=m.globals.seriesRangeEnd[c][d],k=m.globals.labels[d],S=m.config.series[c].name?m.config.series[c].name:"",T=m.globals.ttKeyFormatter,_=m.config.tooltip.y.title.formatter,I={w:m,seriesIndex:c,dataPointIndex:d,start:v,end:w};"function"==typeof _&&(S=_(S,I)),null!==(a=m.config.series[c].data[d])&&void 0!==a&&a.x&&(k=m.config.series[c].data[d].x),n||"datetime"===m.config.xaxis.type&&(k=new Ri(o).xLabelFormat(m.globals.ttKeyFormatter,k,k,{i:void 0,dateFormatter:new ct(o).formatDate,w:m})),"function"==typeof T&&(k=T(k,I)),Number.isFinite(f)&&Number.isFinite(g)&&(v=f,w=g);var H="",W="",q=m.globals.colors[c];if(void 0===m.config.tooltip.x.formatter)if("datetime"===m.config.xaxis.type){var V=new ct(o);H=V.formatDate(V.getDate(v),m.config.tooltip.x.format),W=V.formatDate(V.getDate(w),m.config.tooltip.x.format)}else H=v,W=w;else H=m.config.tooltip.x.formatter(v),W=m.config.tooltip.x.formatter(w);return{start:v,end:w,startVal:H,endVal:W,ylabel:k,color:q,seriesName:S}},Jn=function(z){var a=z.color,n=z.seriesName,o=z.ylabel,c=z.start,d=z.end,f=z.seriesIndex,g=z.dataPointIndex,m=z.ctx.tooltip.tooltipLabels.getFormatters(f);c=m.yLbFormatter(c),d=m.yLbFormatter(d);var v=m.yLbFormatter(z.w.globals.series[f][g]),w='<span class="value start-value">\n  '.concat(c,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(d,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+a+'">'+(n||"")+'</span></div><div> <span class="category">'+o+": </span> "+(z.w.globals.comboCharts?"rangeArea"===z.w.config.series[f].type||"rangeBar"===z.w.config.series[f].type?w:"<span>".concat(v,"</span>"):w)+" </div></div>"},Pn=function(){function z(a){He(this,z),this.opts=a}return Xe(z,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(a){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,le.extend(a,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var a=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(n){return a._getBoxTooltip(n.w,n.seriesIndex,n.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var a=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(n){return a._getBoxTooltip(n.w,n.seriesIndex,n.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(a,n){var o=n.seriesIndex,c=n.dataPointIndex,d=n.w,f=function(){return d.globals.seriesRangeEnd[o][c]-d.globals.seriesRangeStart[o][c]};return d.globals.comboCharts?"rangeBar"===d.config.series[o].type||"rangeArea"===d.config.series[o].type?f():a:f()},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(a){return a.w.config.plotOptions&&a.w.config.plotOptions.bar&&a.w.config.plotOptions.bar.horizontal?(c=(o=Te(ze(ze({},n=a),{},{isTimeline:!0}))).color,d=o.seriesName,f=o.ylabel,g=o.startVal,m=o.endVal,Jn(ze(ze({},n),{},{color:c,seriesName:d,ylabel:f,start:g,end:m}))):function(n){var o=Te(n),c=o.color,d=o.seriesName,f=o.ylabel,g=o.start,m=o.end;return Jn(ze(ze({},n),{},{color:c,seriesName:d,ylabel:f,start:g,end:m}))}(a);var n,o,c,d,f,g,m}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(a){return c=(o=Te(n=a)).color,d=o.seriesName,f=o.ylabel,g=o.start,m=o.end,Jn(ze(ze({},n),{},{color:c,seriesName:d,ylabel:f,start:g,end:m}));var n,o,c,d,f,g,m}}}}},{key:"brush",value:function(a){return le.extend(a,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(a){a.dataLabels=a.dataLabels||{},a.dataLabels.formatter=a.dataLabels.formatter||void 0;var n=a.dataLabels.formatter;return a.yaxis.forEach(function(o,c){a.yaxis[c].min=0,a.yaxis[c].max=100}),"bar"===a.chart.type&&(a.dataLabels.formatter=n||function(o){return"number"==typeof o&&o?o.toFixed(0)+"%":o}),a}},{key:"convertCatToNumeric",value:function(a){return a.xaxis.convertedCatToNumeric=!0,a}},{key:"convertCatToNumericXaxis",value:function(a,n,o){a.xaxis.type="numeric",a.xaxis.labels=a.xaxis.labels||{},a.xaxis.labels.formatter=a.xaxis.labels.formatter||function(f){return le.isNumber(f)?Math.floor(f):f};var c=a.xaxis.labels.formatter,d=a.xaxis.categories&&a.xaxis.categories.length?a.xaxis.categories:a.labels;return o&&o.length&&(d=o.map(function(f){return Array.isArray(f)?f:String(f)})),d&&d.length&&(a.xaxis.labels.formatter=function(f){return le.isNumber(f)?c(d[Math.floor(f)-1]):c(f)}),a.xaxis.categories=[],a.labels=[],a.xaxis.tickAmount=a.xaxis.tickAmount||"dataPoints",a}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(a){return a},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(a,n,o,c,d){var f=a.globals.seriesCandleO[n][o],g=a.globals.seriesCandleH[n][o],m=a.globals.seriesCandleM[n][o],v=a.globals.seriesCandleL[n][o],w=a.globals.seriesCandleC[n][o];return a.config.series[n].type&&a.config.series[n].type!==d?'<div class="apexcharts-custom-tooltip">\n          '.concat(a.config.series[n].name?a.config.series[n].name:"series-"+(n+1),": <strong>").concat(a.globals.series[n][o],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(a.config.chart.type,'">')+"<div>".concat(c[0],': <span class="value">')+f+"</span></div>"+"<div>".concat(c[1],': <span class="value">')+g+"</span></div>"+(m?"<div>".concat(c[2],': <span class="value">')+m+"</span></div>":"")+"<div>".concat(c[3],': <span class="value">')+v+"</span></div>"+"<div>".concat(c[4],': <span class="value">')+w+"</span></div></div>"}}]),z}(),Ga=function(){function z(a){He(this,z),this.opts=a}return Xe(z,[{key:"init",value:function(a){var n=a.responsiveOverride,o=this.opts,c=new hn,d=new Pn(o);this.chartType=o.chart.type,o=this.extendYAxis(o),o=this.extendAnnotations(o);var f=c.init(),g={};if(o&&"object"===Wt(o)){var m={};m=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(o.chart.type)?d[o.chart.type]():d.line(),o.chart.brush&&o.chart.brush.enabled&&(m=d.brush(m)),o.chart.stacked&&"100%"===o.chart.stackType&&(o=d.stacked100(o)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(o),o.xaxis=o.xaxis||window.Apex.xaxis||{},n||(o.xaxis.convertedCatToNumeric=!1),((o=this.checkForCatToNumericXAxis(this.chartType,m,o)).chart.sparkline&&o.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(m=d.sparkline(m)),g=le.extend(f,m)}var v=le.extend(g,window.Apex);return f=le.extend(v,o),this.handleUserInputErrors(f)}},{key:"checkForCatToNumericXAxis",value:function(a,n,o){var c=new Pn(o);return("bar"===a||"boxPlot"===a)&&o.plotOptions&&o.plotOptions.bar&&o.plotOptions.bar.horizontal||"pie"===a||"polarArea"===a||"donut"===a||"radar"===a||"radialBar"===a||"heatmap"===a||!("datetime"!==o.xaxis.type&&"numeric"!==o.xaxis.type)||"between"===(o.xaxis.tickPlacement?o.xaxis.tickPlacement:n.xaxis&&n.xaxis.tickPlacement)||(o=c.convertCatToNumeric(o)),o}},{key:"extendYAxis",value:function(a,n){var o=new hn;(void 0===a.yaxis||!a.yaxis||Array.isArray(a.yaxis)&&0===a.yaxis.length)&&(a.yaxis={}),a.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(a.yaxis=le.extend(a.yaxis,window.Apex.yaxis)),a.yaxis=a.yaxis.constructor!==Array?[le.extend(o.yAxis,a.yaxis)]:le.extendArray(a.yaxis,o.yAxis);var c=!1;a.yaxis.forEach(function(f){f.logarithmic&&(c=!0)});var d=a.series;return n&&!d&&(d=n.config.series),c&&d.length!==a.yaxis.length&&d.length&&(a.yaxis=d.map(function(f,g){if(f.name||(d[g].name="series-".concat(g+1)),a.yaxis[g])return a.yaxis[g].seriesName=d[g].name,a.yaxis[g];var m=le.extend(o.yAxis,a.yaxis[0]);return m.show=!1,m})),c&&d.length>1&&d.length!==a.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),a}},{key:"extendAnnotations",value:function(a){return void 0===a.annotations&&(a.annotations={},a.annotations.yaxis=[],a.annotations.xaxis=[],a.annotations.points=[]),a=this.extendYAxisAnnotations(a),a=this.extendXAxisAnnotations(a),this.extendPointAnnotations(a)}},{key:"extendYAxisAnnotations",value:function(a){var n=new hn;return a.annotations.yaxis=le.extendArray(void 0!==a.annotations.yaxis?a.annotations.yaxis:[],n.yAxisAnnotation),a}},{key:"extendXAxisAnnotations",value:function(a){var n=new hn;return a.annotations.xaxis=le.extendArray(void 0!==a.annotations.xaxis?a.annotations.xaxis:[],n.xAxisAnnotation),a}},{key:"extendPointAnnotations",value:function(a){var n=new hn;return a.annotations.points=le.extendArray(void 0!==a.annotations.points?a.annotations.points:[],n.pointAnnotation),a}},{key:"checkForDarkTheme",value:function(a){a.theme&&"dark"===a.theme.mode&&(a.tooltip||(a.tooltip={}),"light"!==a.tooltip.theme&&(a.tooltip.theme="dark"),a.chart.foreColor||(a.chart.foreColor="#f6f7f8"),a.chart.background||(a.chart.background="#424242"),a.theme.palette||(a.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(a){var n=a;if(n.tooltip.shared&&n.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===n.chart.type&&n.plotOptions.bar.horizontal){if(n.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");n.yaxis[0].reversed&&(n.yaxis[0].opposite=!0),n.xaxis.tooltip.enabled=!1,n.yaxis[0].tooltip.enabled=!1,n.chart.zoom.enabled=!1}return"bar"!==n.chart.type&&"rangeBar"!==n.chart.type||n.tooltip.shared&&"barWidth"===n.xaxis.crosshairs.width&&n.series.length>1&&(n.xaxis.crosshairs.width="tickWidth"),"candlestick"!==n.chart.type&&"boxPlot"!==n.chart.type||n.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(n.chart.type," chart is not supported.")),n.yaxis[0].reversed=!1),n}}]),z}(),vt=function(){function z(){He(this,z)}return Xe(z,[{key:"initGlobalVars",value:function(a){a.series=[],a.seriesCandleO=[],a.seriesCandleH=[],a.seriesCandleM=[],a.seriesCandleL=[],a.seriesCandleC=[],a.seriesRangeStart=[],a.seriesRangeEnd=[],a.seriesRange=[],a.seriesPercent=[],a.seriesGoals=[],a.seriesX=[],a.seriesZ=[],a.seriesNames=[],a.seriesTotals=[],a.seriesLog=[],a.seriesColors=[],a.stackedSeriesTotals=[],a.seriesXvalues=[],a.seriesYvalues=[],a.labels=[],a.hasGroups=!1,a.groups=[],a.categoryLabels=[],a.timescaleLabels=[],a.noLabelsProvided=!1,a.resizeTimer=null,a.selectionResizeTimer=null,a.delayedElements=[],a.pointsArray=[],a.dataLabelsRects=[],a.isXNumeric=!1,a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1,a.isDataXYZ=!1,a.isMultiLineX=!1,a.isMultipleYAxis=!1,a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE,a.minYArr=[],a.maxYArr=[],a.maxX=-Number.MAX_VALUE,a.minX=Number.MAX_VALUE,a.initialMaxX=-Number.MAX_VALUE,a.initialMinX=Number.MAX_VALUE,a.maxDate=0,a.minDate=Number.MAX_VALUE,a.minZ=Number.MAX_VALUE,a.maxZ=-Number.MAX_VALUE,a.minXDiff=Number.MAX_VALUE,a.yAxisScale=[],a.xAxisScale=null,a.xAxisTicksPositions=[],a.yLabelsCoords=[],a.yTitleCoords=[],a.barPadForNumericAxis=0,a.padHorizontal=0,a.xRange=0,a.yRange=[],a.zRange=0,a.dataPoints=0,a.xTickAmount=0}},{key:"globalVars",value:function(a){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:a.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.zoom&&a.chart.zoom.enabled,panEnabled:"pan"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.pan,selectionEnabled:"selection"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(a){var n=this.globalVars(a);return this.initGlobalVars(n),n.initialConfig=le.extend({},a),n.initialSeries=le.clone(a.series),n.lastXAxis=le.clone(n.initialConfig.xaxis),n.lastYAxis=le.clone(n.initialConfig.yaxis),n}}]),z}(),Lt=function(){function z(a){He(this,z),this.opts=a}return Xe(z,[{key:"init",value:function(){var a=new Ga(this.opts).init({responsiveOverride:!1});return{config:a,globals:(new vt).init(a)}}}]),z}(),X=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.opts=null,this.seriesIndex=0}return Xe(z,[{key:"clippedImgArea",value:function(a){var n=this.w,o=n.config,c=parseInt(n.globals.gridWidth,10),d=parseInt(n.globals.gridHeight,10),f=c>d?c:d,g=a.image,m=0,v=0;void 0===a.width&&void 0===a.height?void 0!==o.fill.image.width&&void 0!==o.fill.image.height?(m=o.fill.image.width+1,v=o.fill.image.height):(m=f+1,v=f):(m=a.width,v=a.height);var w=document.createElementNS(n.globals.SVGNS,"pattern");be.setAttrs(w,{id:a.patternID,patternUnits:a.patternUnits?a.patternUnits:"userSpaceOnUse",width:m+"px",height:v+"px"});var k=document.createElementNS(n.globals.SVGNS,"image");w.appendChild(k),k.setAttributeNS(window.SVG.xlink,"href",g),be.setAttrs(k,{x:0,y:0,preserveAspectRatio:"none",width:m+"px",height:v+"px"}),k.style.opacity=a.opacity,n.globals.dom.elDefs.node.appendChild(w)}},{key:"getSeriesIndex",value:function(a){var n=this.w;return this.seriesIndex=("bar"===n.config.chart.type||"rangeBar"===n.config.chart.type)&&n.config.plotOptions.bar.distributed||"heatmap"===n.config.chart.type||"treemap"===n.config.chart.type?a.seriesNumber:a.seriesNumber%n.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(a){var n=this.w;this.opts=a;var o,c,d,f=this.w.config;this.seriesIndex=this.getSeriesIndex(a);var g=this.getFillColors()[this.seriesIndex];void 0!==n.globals.seriesColors[this.seriesIndex]&&(g=n.globals.seriesColors[this.seriesIndex]),"function"==typeof g&&(g=g({seriesIndex:this.seriesIndex,dataPointIndex:a.dataPointIndex,value:a.value,w:n}));var m=a.fillType?a.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(f.fill.opacity)?f.fill.opacity[this.seriesIndex]:f.fill.opacity;a.color&&(g=a.color);var w=g;if(-1===g.indexOf("rgb")?g.length<9&&(w=le.hexToRgba(g,v)):g.indexOf("rgba")>-1&&(v=le.getOpacityFromRGBA(g)),a.opacity&&(v=a.opacity),"pattern"===m&&(c=this.handlePatternFill({fillConfig:a.fillConfig,patternFill:c,fillColor:g,fillOpacity:v,defaultColor:w})),"gradient"===m&&(d=this.handleGradientFill({fillConfig:a.fillConfig,fillColor:g,fillOpacity:v,i:this.seriesIndex})),"image"===m){var k=f.fill.image.src,S=a.patternID?a.patternID:"";this.clippedImgArea({opacity:v,image:Array.isArray(k)?a.seriesNumber<k.length?k[a.seriesNumber]:k[0]:k,width:a.width?a.width:void 0,height:a.height?a.height:void 0,patternUnits:a.patternUnits,patternID:"pattern".concat(n.globals.cuid).concat(a.seriesNumber+1).concat(S)}),o="url(#pattern".concat(n.globals.cuid).concat(a.seriesNumber+1).concat(S,")")}else o="gradient"===m?d:"pattern"===m?c:w;return a.solid&&(o=w),o}},{key:"getFillType",value:function(a){var n=this.w;return Array.isArray(n.config.fill.type)?n.config.fill.type[a]:n.config.fill.type}},{key:"getFillColors",value:function(){var a=this.w,n=a.config,o=this.opts,c=[];return a.globals.comboCharts?"line"===a.config.series[this.seriesIndex].type?Array.isArray(a.globals.stroke.colors)?c=a.globals.stroke.colors:c.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?c=a.globals.fill.colors:c.push(a.globals.fill.colors):"line"===n.chart.type?Array.isArray(a.globals.stroke.colors)?c=a.globals.stroke.colors:c.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?c=a.globals.fill.colors:c.push(a.globals.fill.colors),void 0!==o.fillColors&&(c=[],Array.isArray(o.fillColors)?c=o.fillColors.slice():c.push(o.fillColors)),c}},{key:"handlePatternFill",value:function(a){var n=a.fillConfig,c=a.fillColor,d=a.fillOpacity,f=a.defaultColor,g=this.w.config.fill;n&&(g=n);var m=this.opts,v=new be(this.ctx),w=Array.isArray(g.pattern.strokeWidth)?g.pattern.strokeWidth[this.seriesIndex]:g.pattern.strokeWidth,k=c;return Array.isArray(g.pattern.style)?void 0!==g.pattern.style[m.seriesNumber]?v.drawPattern(g.pattern.style[m.seriesNumber],g.pattern.width,g.pattern.height,k,w,d):f:v.drawPattern(g.pattern.style,g.pattern.width,g.pattern.height,k,w,d)}},{key:"handleGradientFill",value:function(a){var n=a.fillColor,o=a.fillOpacity,c=a.fillConfig,d=a.i,f=this.w.config.fill;c&&(f=ze(ze({},f),c));var g,m=this.opts,v=new be(this.ctx),w=new le,k=f.gradient.type,S=n,T=void 0===f.gradient.opacityFrom?o:Array.isArray(f.gradient.opacityFrom)?f.gradient.opacityFrom[d]:f.gradient.opacityFrom;S.indexOf("rgba")>-1&&(T=le.getOpacityFromRGBA(S));var _=void 0===f.gradient.opacityTo?o:Array.isArray(f.gradient.opacityTo)?f.gradient.opacityTo[d]:f.gradient.opacityTo;if(void 0===f.gradient.gradientToColors||0===f.gradient.gradientToColors.length)g=w.shadeColor("dark"===f.gradient.shade?-1*parseFloat(f.gradient.shadeIntensity):parseFloat(f.gradient.shadeIntensity),n.indexOf("rgb")>-1?le.rgb2hex(n):n);else if(f.gradient.gradientToColors[m.seriesNumber]){var I=f.gradient.gradientToColors[m.seriesNumber];g=I,I.indexOf("rgba")>-1&&(_=le.getOpacityFromRGBA(I))}else g=n;if(f.gradient.gradientFrom&&(S=f.gradient.gradientFrom),f.gradient.gradientTo&&(g=f.gradient.gradientTo),f.gradient.inverseColors){var H=S;S=g,g=H}return S.indexOf("rgb")>-1&&(S=le.rgb2hex(S)),g.indexOf("rgb")>-1&&(g=le.rgb2hex(g)),v.drawGradient(k,S,g,T,_,m.size,f.gradient.stops,f.gradient.colorStops,d)}}]),z}(),On=function(){function z(a,n){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"setGlobalMarkerSize",value:function(){var a=this.w;if(a.globals.markers.size=Array.isArray(a.config.markers.size)?a.config.markers.size:[a.config.markers.size],a.globals.markers.size.length>0){if(a.globals.markers.size.length<a.globals.series.length+1)for(var n=0;n<=a.globals.series.length;n++)void 0===a.globals.markers.size[n]&&a.globals.markers.size.push(a.globals.markers.size[0])}else a.globals.markers.size=a.config.series.map(function(o){return a.config.markers.size})}},{key:"plotChartMarkers",value:function(a,n,o,c){var d,f=arguments.length>4&&void 0!==arguments[4]&&arguments[4],g=this.w,m=n,v=a,w=null,k=new be(this.ctx),S=g.config.markers.discrete&&g.config.markers.discrete.length;if((g.globals.markers.size[n]>0||f||S)&&(w=k.group({class:f||S?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(g.globals.cuid,")")),Array.isArray(v.x))for(var T=0;T<v.x.length;T++){var _=o;1===o&&0===T&&(_=0),1===o&&1===T&&(_=1);var I="apexcharts-marker";"line"!==g.config.chart.type&&"area"!==g.config.chart.type||g.globals.comboCharts||g.config.tooltip.intersect||(I+=" no-pointer-events");var H=Array.isArray(g.config.markers.size)?g.globals.markers.size[n]>0:g.config.markers.size>0;if(H||f||S){le.isNumber(v.y[T])?I+=" w".concat(le.randomId()):I="apexcharts-nullpoint";var W=this.getMarkerConfig({cssClass:I,seriesIndex:n,dataPointIndex:_});g.config.series[m].data[_]&&(g.config.series[m].data[_].fillColor&&(W.pointFillColor=g.config.series[m].data[_].fillColor),g.config.series[m].data[_].strokeColor&&(W.pointStrokeColor=g.config.series[m].data[_].strokeColor)),c&&(W.pSize=c),(d=k.drawMarker(v.x[T],v.y[T],W)).attr("rel",_),d.attr("j",_),d.attr("index",n),d.node.setAttribute("default-marker-size",W.pSize);var q=new ft(this.ctx);q.setSelectionFilter(d,n,_),this.addEvents(d),w&&w.add(d)}else void 0===g.globals.pointsArray[n]&&(g.globals.pointsArray[n]=[]),g.globals.pointsArray[n].push([v.x[T],v.y[T]])}return w}},{key:"getMarkerConfig",value:function(a){var n=a.cssClass,o=a.seriesIndex,c=a.dataPointIndex,d=void 0===c?null:c,f=a.finishRadius,g=void 0===f?null:f,m=this.w,v=this.getMarkerStyle(o),w=m.globals.markers.size[o],k=m.config.markers;return null!==d&&k.discrete.length&&k.discrete.map(function(S){S.seriesIndex===o&&S.dataPointIndex===d&&(v.pointStrokeColor=S.strokeColor,v.pointFillColor=S.fillColor,w=S.size,v.pointShape=S.shape)}),{pSize:null===g?w:g,pRadius:k.radius,width:Array.isArray(k.width)?k.width[o]:k.width,height:Array.isArray(k.height)?k.height[o]:k.height,pointStrokeWidth:Array.isArray(k.strokeWidth)?k.strokeWidth[o]:k.strokeWidth,pointStrokeColor:v.pointStrokeColor,pointFillColor:v.pointFillColor,shape:v.pointShape||(Array.isArray(k.shape)?k.shape[o]:k.shape),class:n,pointStrokeOpacity:Array.isArray(k.strokeOpacity)?k.strokeOpacity[o]:k.strokeOpacity,pointStrokeDashArray:Array.isArray(k.strokeDashArray)?k.strokeDashArray[o]:k.strokeDashArray,pointFillOpacity:Array.isArray(k.fillOpacity)?k.fillOpacity[o]:k.fillOpacity,seriesIndex:o}}},{key:"addEvents",value:function(a){var n=this.w,o=new be(this.ctx);a.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this.ctx,a)),a.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this.ctx,a)),a.node.addEventListener("mousedown",o.pathMouseDown.bind(this.ctx,a)),a.node.addEventListener("click",n.config.markers.onClick),a.node.addEventListener("dblclick",n.config.markers.onDblClick),a.node.addEventListener("touchstart",o.pathMouseDown.bind(this.ctx,a),{passive:!0})}},{key:"getMarkerStyle",value:function(a){var n=this.w,o=n.globals.markers.colors,c=n.config.markers.strokeColor||n.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(c)?c[a]:c,pointFillColor:Array.isArray(o)?o[a]:o}}}]),z}(),Bs=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return Xe(z,[{key:"draw",value:function(a,n,o){var c=this.w,d=new be(this.ctx),f=o.realIndex,g=o.pointsPos,m=o.zRatio,v=o.elParent,w=d.group({class:"apexcharts-series-markers apexcharts-series-".concat(c.config.chart.type)});if(w.attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),Array.isArray(g.x))for(var k=0;k<g.x.length;k++){var S=n+1,T=!0;0===n&&0===k&&(S=0),0===n&&1===k&&(S=1);var _=0,I=c.globals.markers.size[f];if(m!==1/0){var H=c.config.plotOptions.bubble;I=c.globals.seriesZ[f][S],H.zScaling&&(I/=m),H.minBubbleRadius&&I<H.minBubbleRadius&&(I=H.minBubbleRadius),H.maxBubbleRadius&&I>H.maxBubbleRadius&&(I=H.maxBubbleRadius)}c.config.chart.animations.enabled||(_=I);var q=g.y[k];if(_=_||0,null!==q&&void 0!==c.globals.series[f][S]||(T=!1),T){var V=this.drawPoint(g.x[k],q,_,I,f,S,n);w.add(V)}v.add(w)}}},{key:"drawPoint",value:function(a,n,o,c,d,f,g){var m=this.w,v=d,w=new Ca(this.ctx),k=new ft(this.ctx),S=new X(this.ctx),T=new On(this.ctx),_=new be(this.ctx),I=T.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:v,dataPointIndex:f,finishRadius:"bubble"===m.config.chart.type||m.globals.comboCharts&&m.config.series[d]&&"bubble"===m.config.series[d].type?c:null});c=I.pSize;var H,W=S.fillPath({seriesNumber:d,dataPointIndex:f,color:I.pointFillColor,patternUnits:"objectBoundingBox",value:m.globals.series[d][g]});if("circle"===I.shape?H=_.drawCircle(o):"square"!==I.shape&&"rect"!==I.shape||(H=_.drawRect(0,0,I.width-I.pointStrokeWidth/2,I.height-I.pointStrokeWidth/2,I.pRadius)),m.config.series[v].data[f]&&m.config.series[v].data[f].fillColor&&(W=m.config.series[v].data[f].fillColor),H.attr({x:a-I.width/2-I.pointStrokeWidth/2,y:n-I.height/2-I.pointStrokeWidth/2,cx:a,cy:n,fill:W,"fill-opacity":I.pointFillOpacity,stroke:I.pointStrokeColor,r:c,"stroke-width":I.pointStrokeWidth,"stroke-dasharray":I.pointStrokeDashArray,"stroke-opacity":I.pointStrokeOpacity}),m.config.chart.dropShadow.enabled&&k.dropShadow(H,m.config.chart.dropShadow,d),!this.initialAnim||m.globals.dataChanged||m.globals.resized?m.globals.animationEnded=!0:w.animateMarker(H,0,"circle"===I.shape?c:{width:I.width,height:I.height},m.config.chart.animations.speed,m.globals.easing,function(){window.setTimeout(function(){w.animationCompleted(H)},100)}),m.globals.dataChanged&&"circle"===I.shape)if(this.dynamicAnim){var x,E,D,F,j=m.config.chart.animations.dynamicAnimation.speed;null!=(F=m.globals.previousPaths[d]&&m.globals.previousPaths[d][g])&&(x=F.x,E=F.y,D=void 0!==F.r?F.r:c);for(var oe=0;oe<m.globals.collapsedSeries.length;oe++)m.globals.collapsedSeries[oe].index===d&&(j=1,c=0);0===a&&0===n&&(c=0),w.animateCircle(H,{cx:x,cy:E,r:D},{cx:a,cy:n,r:c},j,m.globals.easing)}else H.attr({r:c});return H.attr({rel:f,j:f,index:d,"default-marker-size":c}),k.setSelectionFilter(H,d,f),T.addEvents(H),H.node.classList.add("apexcharts-marker"),H}},{key:"centerTextInBubble",value:function(a){return{y:a+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),z}(),ei=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"dataLabelsCorrection",value:function(a,n,o,c,d,f,g){var m=this.w,v=!1,w=new be(this.ctx).getTextRects(o,g),k=w.width,S=w.height;if(n<0&&(n=0),n>m.globals.gridHeight+S&&(n=m.globals.gridHeight+S/2),void 0===m.globals.dataLabelsRects[c]&&(m.globals.dataLabelsRects[c]=[]),m.globals.dataLabelsRects[c].push({x:a,y:n,width:k,height:S}),void 0!==m.globals.dataLabelsRects[c][m.globals.dataLabelsRects[c].length-2]){var I=m.globals.dataLabelsRects[c][void 0!==m.globals.lastDrawnDataLabelsIndexes[c]?m.globals.lastDrawnDataLabelsIndexes[c][m.globals.lastDrawnDataLabelsIndexes[c].length-1]:0];(a>I.x+I.width+2||n>I.y+I.height+2||a+k<I.x)&&(v=!0)}return(0===d||f)&&(v=!0),{x:a,y:n,textRects:w,drawnextLabel:v}}},{key:"drawDataLabel",value:function(a){var n=this,o=a.type,c=a.pos,d=a.i,f=a.j,g=a.isRangeStart,m=a.strokeWidth,v=void 0===m?2:m,w=this.w,k=new be(this.ctx),S=w.config.dataLabels,T=0,_=0,I=f,H=null;if(!S.enabled||!Array.isArray(c.x))return H;H=k.group({class:"apexcharts-data-labels"});for(var W=0;W<c.x.length;W++)if(T=c.x[W]+S.offsetX,_=c.y[W]+S.offsetY+v,!isNaN(T)){1===f&&0===W&&(I=0),1===f&&1===W&&(I=1);var q=w.globals.series[d][I];"rangeArea"===o&&(q=g?w.globals.seriesRangeStart[d][I]:w.globals.seriesRangeEnd[d][I]);var V="",x=function(E){return w.config.dataLabels.formatter(E,{ctx:n.ctx,seriesIndex:d,dataPointIndex:I,w})};"bubble"===w.config.chart.type?(V=x(q=w.globals.seriesZ[d][I]),_=c.y[W],_=new Bs(this.ctx).centerTextInBubble(_,d,I).y):void 0!==q&&(V=x(q)),this.plotDataLabelsText({x:T,y:_,text:V,i:d,j:I,parent:H,offsetCorrection:!0,dataLabelsConfig:w.config.dataLabels})}return H}},{key:"plotDataLabelsText",value:function(a){var n=this.w,o=new be(this.ctx),c=a.x,d=a.y,f=a.i,g=a.j,m=a.text,v=a.textAnchor,w=a.fontSize,k=a.parent,S=a.dataLabelsConfig,T=a.color,_=a.alwaysDrawDataLabel,I=a.offsetCorrection;if(!(Array.isArray(n.config.dataLabels.enabledOnSeries)&&n.config.dataLabels.enabledOnSeries.indexOf(f)<0)){var H={x:c,y:d,drawnextLabel:!0,textRects:null};I&&(H=this.dataLabelsCorrection(c,d,m,f,g,_,parseInt(S.style.fontSize,10))),n.globals.zoomed||(c=H.x,d=H.y),H.textRects&&(c<-10-H.textRects.width||c>n.globals.gridWidth+H.textRects.width+10)&&(m="");var W=n.globals.dataLabels.style.colors[f];(("bar"===n.config.chart.type||"rangeBar"===n.config.chart.type)&&n.config.plotOptions.bar.distributed||n.config.dataLabels.distributed)&&(W=n.globals.dataLabels.style.colors[g]),"function"==typeof W&&(W=W({series:n.globals.series,seriesIndex:f,dataPointIndex:g,w:n})),T&&(W=T);var q=S.offsetX,V=S.offsetY;if("bar"!==n.config.chart.type&&"rangeBar"!==n.config.chart.type||(q=0,V=0),H.drawnextLabel){var x=o.drawText({width:100,height:parseInt(S.style.fontSize,10),x:c+q,y:d+V,foreColor:W,textAnchor:v||S.textAnchor,text:m,fontSize:w||S.style.fontSize,fontFamily:S.style.fontFamily,fontWeight:S.style.fontWeight||"normal"});if(x.attr({class:"apexcharts-datalabel",cx:c,cy:d}),S.dropShadow.enabled){var E=S.dropShadow;new ft(this.ctx).dropShadow(x,E)}k.add(x),void 0===n.globals.lastDrawnDataLabelsIndexes[f]&&(n.globals.lastDrawnDataLabelsIndexes[f]=[]),n.globals.lastDrawnDataLabelsIndexes[f].push(g)}}}},{key:"addBackgroundToDataLabel",value:function(a,n){var o=this.w,c=o.config.dataLabels.background,d=c.padding,f=c.padding/2,g=n.width,m=n.height,v=new be(this.ctx).drawRect(n.x-d,n.y-f/2,g+2*d,m+f,c.borderRadius,"transparent"===o.config.chart.background?"#fff":o.config.chart.background,c.opacity,c.borderWidth,c.borderColor);return c.dropShadow.enabled&&new ft(this.ctx).dropShadow(v,c.dropShadow),v}},{key:"dataLabelsBackground",value:function(){var a=this.w;if("bubble"!==a.config.chart.type)for(var n=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),o=0;o<n.length;o++){var c=n[o],d=c.getBBox(),f=null;if(d.width&&d.height&&(f=this.addBackgroundToDataLabel(c,d)),f){c.parentNode.insertBefore(f.node,c);var g=c.getAttribute("fill");!a.config.chart.animations.enabled||a.globals.resized||a.globals.dataChanged?f.attr({fill:g}):f.animate().attr({fill:g}),c.setAttribute("fill",a.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var a=this.w,n=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),o=a.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),c=0;c<n.length;c++)o&&o.insertBefore(n[c],o.nextSibling)}}]),z}(),ma=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.legendInactiveClass="legend-mouseover-inactive"}return Xe(z,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(a){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(le.escapeString(a),"']"))}},{key:"isSeriesHidden",value:function(a){var n=this.getSeriesByName(a),o=parseInt(n.getAttribute("data:realIndex"),10);return{isHidden:n.classList.contains("apexcharts-series-collapsed"),realIndex:o}}},{key:"addCollapsedClassToSeries",value:function(a,n){var o=this.w;function c(d){for(var f=0;f<d.length;f++)d[f].index===n&&a.node.classList.add("apexcharts-series-collapsed")}c(o.globals.collapsedSeries),c(o.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(a){var n=this.isSeriesHidden(a);return this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,n.isHidden),n.isHidden}},{key:"showSeries",value:function(a){var n=this.isSeriesHidden(a);n.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,!0)}},{key:"hideSeries",value:function(a){var n=this.isSeriesHidden(a);n.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,!1)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=this.w,d=le.clone(c.globals.initialSeries);c.globals.previousPaths=[],o?(c.globals.collapsedSeries=[],c.globals.ancillaryCollapsedSeries=[],c.globals.collapsedSeriesIndices=[],c.globals.ancillaryCollapsedSeriesIndices=[]):d=this.emptyCollapsedSeries(d),c.config.series=d,a&&(n&&(c.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(d,c.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(a){for(var n=this.w,o=0;o<a.length;o++)n.globals.collapsedSeriesIndices.indexOf(o)>-1&&(a[o].data=[]);return a}},{key:"toggleSeriesOnHover",value:function(a,n){var o=this.w;n||(n=a.target);var c=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===a.type){var d=parseInt(n.getAttribute("rel"),10)-1,f=null,g=null;o.globals.axisCharts||"radialBar"===o.config.chart.type?o.globals.axisCharts?(f=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"']")),g=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(d,"']"))):f=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(d+1,"']")):f=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(d+1,"'] path"));for(var m=0;m<c.length;m++)c[m].classList.add(this.legendInactiveClass);null!==f&&(o.globals.axisCharts||f.parentNode.classList.remove(this.legendInactiveClass),f.classList.remove(this.legendInactiveClass),null!==g&&g.classList.remove(this.legendInactiveClass))}else if("mouseout"===a.type)for(var v=0;v<c.length;v++)c[v].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(a,n){var o=this,c=this.w,d=c.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),f=function(m){for(var v=0;v<d.length;v++)d[v].classList[m](o.legendInactiveClass)};if("mousemove"===a.type){var g=parseInt(n.getAttribute("rel"),10)-1;f("add"),function(m){for(var v=0;v<d.length;v++){var w=parseInt(d[v].getAttribute("val"),10);w>=m.from&&w<=m.to&&d[v].classList.remove(o.legendInactiveClass)}}(c.config.plotOptions.heatmap.colorScale.ranges[g])}else"mouseout"===a.type&&f("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=this.w,c=0;if(o.config.series.length>1)for(var d=o.config.series.map(function(g,m){return g.data&&g.data.length>0&&-1===o.globals.collapsedSeriesIndices.indexOf(m)&&(!o.globals.comboCharts||0===n.length||n.length&&n.indexOf(o.config.series[m].type)>-1)?m:-1}),f="asc"===a?0:d.length-1;"asc"===a?f<d.length:f>=0;"asc"===a?f++:f--)if(-1!==d[f]){c=d[f];break}return c}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(a,n){return"bar"===a.type||"column"===a.type?n:-1}).filter(function(a){return-1!==a}):this.w.config.series.map(function(a,n){return n})}},{key:"getPreviousPaths",value:function(){var a=this.w;function n(f,g,m){for(var v=f[g].childNodes,w={type:m,paths:[],realIndex:f[g].getAttribute("data:realIndex")},k=0;k<v.length;k++)if(v[k].hasAttribute("pathTo")){var S=v[k].getAttribute("pathTo");w.paths.push({d:S})}a.globals.previousPaths.push(w)}a.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(f){for(var m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(f,"-series .apexcharts-series")),v=0;v<m.length;v++)n(m,v,f)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var o=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series"));if(o.length>0)for(var c=function(f){for(var g=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(f,"'] rect")),m=[],v=function(k){var S=function(_){return g[k].getAttribute(_)},T={x:parseFloat(S("x")),y:parseFloat(S("y")),width:parseFloat(S("width")),height:parseFloat(S("height"))};m.push({rect:T,color:g[k].getAttribute("color")})},w=0;w<g.length;w++)v(w);a.globals.previousPaths.push(m)},d=0;d<o.length;d++)c(d);a.globals.axisCharts||(a.globals.previousPaths=a.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(a){var n=this.w,o=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"));if(o.length>0)for(var c=0;c<o.length;c++){for(var d=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series[data\\:realIndex='").concat(c,"'] circle")),f=[],g=0;g<d.length;g++)f.push({x:d[g].getAttribute("cx"),y:d[g].getAttribute("cy"),r:d[g].getAttribute("r")});n.globals.previousPaths.push(f)}}},{key:"clearPreviousPaths",value:function(){var a=this.w;a.globals.previousPaths=[],a.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var a=this.w,n=a.config.noData,o=new be(this.ctx),c=a.globals.svgWidth/2,d=a.globals.svgHeight/2,f="middle";if(a.globals.noData=!0,a.globals.animationEnded=!0,"left"===n.align?(c=10,f="start"):"right"===n.align&&(c=a.globals.svgWidth-10,f="end"),"top"===n.verticalAlign?d=50:"bottom"===n.verticalAlign&&(d=a.globals.svgHeight-50),c+=n.offsetX,d=d+parseInt(n.style.fontSize,10)+2+n.offsetY,void 0!==n.text&&""!==n.text){var g=o.drawText({x:c,y:d,text:n.text,textAnchor:f,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,foreColor:n.style.color,opacity:1,class:"apexcharts-text-nodata"});a.globals.dom.Paper.add(g)}}},{key:"setNullSeriesToZeroValues",value:function(a){for(var n=this.w,o=0;o<a.length;o++)if(0===a[o].length)for(var c=0;c<a[n.globals.maxValsInArrayIndex].length;c++)a[o].push(0);return a}},{key:"hasAllSeriesEqualX",value:function(){for(var a=!0,n=this.w,o=this.filteredSeriesX(),c=0;c<o.length-1;c++)if(o[c][0]!==o[c+1][0]){a=!1;break}return n.globals.allSeriesHasEqualX=a,a}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(n){return n.length>0?n:[]})}}]),z}(),st=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Ce(this.ctx)}return Xe(z,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var a=this.w.config.series.slice(),n=new ma(this.ctx);if(this.activeSeriesIndex=n.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!==a[this.activeSeriesIndex].data[0]&&void 0!==a[this.activeSeriesIndex].data[0].x&&null!==a[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var a=this.w.config.series.slice(),n=new ma(this.ctx);if(this.activeSeriesIndex=n.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!=a[this.activeSeriesIndex].data[0]&&a[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(a,n){for(var o=this.w.config,c=this.w.globals,d="boxPlot"===o.chart.type||"boxPlot"===o.series[n].type,f=0;f<a[n].data.length;f++)if(void 0!==a[n].data[f][1]&&(Array.isArray(a[n].data[f][1])&&4===a[n].data[f][1].length&&!d?this.twoDSeries.push(le.parseNumber(a[n].data[f][1][3])):this.twoDSeries.push(le.parseNumber(a[n].data[f].length>=5?a[n].data[f][4]:a[n].data[f][1])),c.dataFormatXNumeric=!0),"datetime"===o.xaxis.type){var g=new Date(a[n].data[f][0]);g=new Date(g).getTime(),this.twoDSeriesX.push(g)}else this.twoDSeriesX.push(a[n].data[f][0]);for(var m=0;m<a[n].data.length;m++)void 0!==a[n].data[m][2]&&(this.threeDSeries.push(a[n].data[m][2]),c.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(a,n){var o=this.w.config,c=this.w.globals,d=new ct(this.ctx),f=n;c.collapsedSeriesIndices.indexOf(n)>-1&&(f=this.activeSeriesIndex);for(var g=0;g<a[n].data.length;g++)void 0!==a[n].data[g].y&&(Array.isArray(a[n].data[g].y)?this.twoDSeries.push(le.parseNumber(a[n].data[g].y[a[n].data[g].y.length-1])):this.twoDSeries.push(le.parseNumber(a[n].data[g].y))),void 0!==a[n].data[g].goals&&Array.isArray(a[n].data[g].goals)?(void 0===this.seriesGoals[n]&&(this.seriesGoals[n]=[]),this.seriesGoals[n].push(a[n].data[g].goals)):(void 0===this.seriesGoals[n]&&(this.seriesGoals[n]=[]),this.seriesGoals[n].push(null));for(var m=0;m<a[f].data.length;m++){var v="string"==typeof a[f].data[m].x,w=Array.isArray(a[f].data[m].x),k=!w&&!!d.isValidDate(a[f].data[m].x.toString());v||k?v||o.xaxis.convertedCatToNumeric?"datetime"!==o.xaxis.type||c.isBarHorizontal&&c.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[f].data[m].x)):this.twoDSeriesX.push(d.parseDate(a[f].data[m].x)):"datetime"===o.xaxis.type?this.twoDSeriesX.push(d.parseDate(a[f].data[m].x.toString())):(c.dataFormatXNumeric=!0,c.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(a[f].data[m].x))):w?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[f].data[m].x)):(c.isXNumeric=!0,c.dataFormatXNumeric=!0,this.twoDSeriesX.push(a[f].data[m].x))}if(a[n].data[0]&&void 0!==a[n].data[0].z){for(var T=0;T<a[n].data.length;T++)this.threeDSeries.push(a[n].data[T].z);c.isDataXYZ=!0}}},{key:"handleRangeData",value:function(a,n){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleRangeDataFormat("array",a,n):this.isFormatXY()&&(c=this.handleRangeDataFormat("xy",a,n)),o.seriesRangeStart.push(c.start),o.seriesRangeEnd.push(c.end),o.seriesRange.push(c.rangeUniques),o.seriesRange.forEach(function(d,f){d&&d.forEach(function(g,m){g.y.forEach(function(v,w){for(var k=0;k<g.y.length;k++)w!==k&&v.y1<=g.y[k].y2&&g.y[k].y1<=v.y2&&(g.overlaps.indexOf(v.rangeName)<0&&g.overlaps.push(v.rangeName),g.overlaps.indexOf(g.y[k].rangeName)<0&&g.overlaps.push(g.y[k].rangeName))})})}),c}},{key:"handleCandleStickBoxData",value:function(a,n){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleCandleStickBoxDataFormat("array",a,n):this.isFormatXY()&&(c=this.handleCandleStickBoxDataFormat("xy",a,n)),o.seriesCandleO[n]=c.o,o.seriesCandleH[n]=c.h,o.seriesCandleM[n]=c.m,o.seriesCandleL[n]=c.l,o.seriesCandleC[n]=c.c,c}},{key:"handleRangeDataFormat",value:function(a,n,o){var c=[],d=[],f=n[o].data.filter(function(w,k,S){return k===S.findIndex(function(T){return T.x===w.x})}).map(function(w,k){return{x:w.x,overlaps:[],y:[]}});if("array"===a)for(var g=0;g<n[o].data.length;g++)Array.isArray(n[o].data[g])?(c.push(n[o].data[g][1][0]),d.push(n[o].data[g][1][1])):(c.push(n[o].data[g]),d.push(n[o].data[g]));else if("xy"===a)for(var m=function(w){var k=Array.isArray(n[o].data[w].y),S=le.randomId(),T=n[o].data[w].x,_={y1:k?n[o].data[w].y[0]:n[o].data[w].y,y2:k?n[o].data[w].y[1]:n[o].data[w].y,rangeName:S};n[o].data[w].rangeName=S;var I=f.findIndex(function(H){return H.x===T});f[I].y.push(_),c.push(_.y1),d.push(_.y2)},v=0;v<n[o].data.length;v++)m(v);return{start:c,end:d,rangeUniques:f}}},{key:"handleCandleStickBoxDataFormat",value:function(a,n,o){var c=this.w,d="boxPlot"===c.config.chart.type||"boxPlot"===c.config.series[o].type,f=[],g=[],m=[],v=[],w=[];if("array"===a)if(d&&6===n[o].data[0].length||!d&&5===n[o].data[0].length)for(var k=0;k<n[o].data.length;k++)f.push(n[o].data[k][1]),g.push(n[o].data[k][2]),d?(m.push(n[o].data[k][3]),v.push(n[o].data[k][4]),w.push(n[o].data[k][5])):(v.push(n[o].data[k][3]),w.push(n[o].data[k][4]));else for(var S=0;S<n[o].data.length;S++)Array.isArray(n[o].data[S][1])&&(f.push(n[o].data[S][1][0]),g.push(n[o].data[S][1][1]),d?(m.push(n[o].data[S][1][2]),v.push(n[o].data[S][1][3]),w.push(n[o].data[S][1][4])):(v.push(n[o].data[S][1][2]),w.push(n[o].data[S][1][3])));else if("xy"===a)for(var T=0;T<n[o].data.length;T++)Array.isArray(n[o].data[T].y)&&(f.push(n[o].data[T].y[0]),g.push(n[o].data[T].y[1]),d?(m.push(n[o].data[T].y[2]),v.push(n[o].data[T].y[3]),w.push(n[o].data[T].y[4])):(v.push(n[o].data[T].y[2]),w.push(n[o].data[T].y[3])));return{o:f,h:g,m,l:v,c:w}}},{key:"parseDataAxisCharts",value:function(a){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,c=this.w.config,d=this.w.globals,f=new ct(o),g=c.labels.length>0?c.labels.slice():c.xaxis.categories.slice();d.isRangeBar="rangeBar"===c.chart.type&&d.isBarHorizontal,d.hasGroups="category"===c.xaxis.type&&c.xaxis.group.groups.length>0,d.hasGroups&&(d.groups=c.xaxis.group.groups);for(var m=function(){for(var k=0;k<g.length;k++)if("string"==typeof g[k]){if(!f.isValidDate(g[k]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");n.twoDSeriesX.push(f.parseDate(g[k]))}else n.twoDSeriesX.push(g[k])},v=0;v<a.length;v++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===a[v].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==c.chart.type&&"rangeArea"!==c.chart.type&&"rangeBar"!==a[v].type&&"rangeArea"!==a[v].type||(d.isRangeData=!0,d.isComboCharts?"rangeBar"!==a[v].type&&"rangeArea"!==a[v].type||this.handleRangeData(a,v):"rangeBar"!==c.chart.type&&"rangeArea"!==c.chart.type||this.handleRangeData(a,v)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(a,v):this.isFormatXY()&&this.handleFormatXY(a,v),"candlestick"!==c.chart.type&&"candlestick"!==a[v].type&&"boxPlot"!==c.chart.type&&"boxPlot"!==a[v].type||this.handleCandleStickBoxData(a,v),d.series.push(this.twoDSeries),d.labels.push(this.twoDSeriesX),d.seriesX.push(this.twoDSeriesX),d.seriesGoals=this.seriesGoals,v!==this.activeSeriesIndex||this.fallbackToCategory||(d.isXNumeric=!0);else{"datetime"===c.xaxis.type?(d.isXNumeric=!0,m(),d.seriesX.push(this.twoDSeriesX)):"numeric"===c.xaxis.type&&(d.isXNumeric=!0,g.length>0&&(this.twoDSeriesX=g,d.seriesX.push(this.twoDSeriesX))),d.labels.push(this.twoDSeriesX);var w=a[v].data.map(function(k){return le.parseNumber(k)});d.series.push(w)}d.seriesZ.push(this.threeDSeries),d.seriesNames.push(void 0!==a[v].name?a[v].name:"series-"+parseInt(v+1,10)),d.seriesColors.push(void 0!==a[v].color?a[v].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(a){var n=this.w.globals,o=this.w.config;n.series=a.slice(),n.seriesNames=o.labels.slice();for(var c=0;c<n.series.length;c++)void 0===n.seriesNames[c]&&n.seriesNames.push("series-"+(c+1));return this.w}},{key:"handleExternalLabelsData",value:function(a){var n=this.w.config,o=this.w.globals;n.xaxis.categories.length>0?o.labels=n.xaxis.categories:n.labels.length>0?o.labels=n.labels.slice():this.fallbackToCategory?(o.labels=o.labels[0],o.seriesRange.length&&(o.seriesRange.map(function(c){c.forEach(function(d){o.labels.indexOf(d.x)<0&&d.x&&o.labels.push(d.x)})}),o.labels=o.labels.filter(function(c,d,f){return f.indexOf(c)===d})),n.xaxis.convertedCatToNumeric&&(new Pn(n).convertCatToNumericXaxis(n,this.ctx,o.seriesX[0]),this._generateExternalLabels(a))):this._generateExternalLabels(a)}},{key:"_generateExternalLabels",value:function(a){var n=this.w.globals,o=this.w.config,c=[];if(n.axisCharts){if(n.series.length>0)if(this.isFormatXY())for(var d=o.series.map(function(k,S){return k.data.filter(function(T,_,I){return I.findIndex(function(H){return H.x===T.x})===_})}),f=d.reduce(function(k,S,T,_){return _[k].length>S.length?k:T},0),g=0;g<d[f].length;g++)c.push(g+1);else for(var m=0;m<n.series[n.maxValsInArrayIndex].length;m++)c.push(m+1);n.seriesX=[];for(var v=0;v<a.length;v++)n.seriesX.push(c);n.isXNumeric=!0}if(0===c.length){c=n.axisCharts?[]:n.series.map(function(k,S){return S+1});for(var w=0;w<a.length;w++)n.seriesX.push(c)}n.labels=c,o.xaxis.convertedCatToNumeric&&(n.categoryLabels=c.map(function(k){return o.xaxis.labels.formatter(k)})),n.noLabelsProvided=!0}},{key:"parseData",value:function(a){var n=this.w,o=n.config,c=n.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),c.axisCharts?(this.parseDataAxisCharts(a),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(a),"bar"===o.chart.type&&o.chart.stacked){var d=new ma(this.ctx);c.series=d.setNullSeriesToZeroValues(c.series)}this.coreUtils.getSeriesTotals(),c.axisCharts&&(c.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),c.dataFormatXNumeric||c.isXNumeric&&("numeric"!==o.xaxis.type||0!==o.labels.length||0!==o.xaxis.categories.length)||this.handleExternalLabelsData(a);for(var f=this.coreUtils.getCategoryLabels(c.labels),g=0;g<f.length;g++)if(Array.isArray(f[g])){c.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var a=this,n=this.w;n.globals.ignoreYAxisIndexes=n.globals.collapsedSeries.map(function(o,c){if(a.w.globals.isMultipleYAxis&&!n.config.chart.stacked)return o.index})}}]),z}(),mt=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"getLabel",value:function(a,n,o,c){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",g=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],m=this.w,v=void 0===a[c]?"":a[c],w=v,k=m.globals.xLabelFormatter,S=m.config.xaxis.labels.formatter,T=!1,_=new Ri(this.ctx),I=v;g&&(w=_.xLabelFormat(k,v,I,{i:c,dateFormatter:new ct(this.ctx).formatDate,w:m}),void 0!==S&&(w=S(v,a[c],{i:c,dateFormatter:new ct(this.ctx).formatDate,w:m})));var H=function(x){var E=null;return n.forEach(function(D){"month"===D.unit?E="year":"day"===D.unit?E="month":"hour"===D.unit?E="day":"minute"===D.unit&&(E="hour")}),E===x};n.length>0?(T=H(n[c].unit),o=n[c].position,w=n[c].value):"datetime"===m.config.xaxis.type&&void 0===S&&(w=""),void 0===w&&(w=""),w=Array.isArray(w)?w:w.toString();var W=new be(this.ctx),q={};q=m.globals.rotateXLabels&&g?W.getTextRects(w,parseInt(f,10),null,"rotate(".concat(m.config.xaxis.labels.rotate," 0 0)"),!1):W.getTextRects(w,parseInt(f,10));var V=!m.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(w)&&(0===w.indexOf("NaN")||0===w.toLowerCase().indexOf("invalid")||w.toLowerCase().indexOf("infinity")>=0||d.indexOf(w)>=0&&V)&&(w=""),{x:o,text:w,textRect:q,isBold:T}}},{key:"checkLabelBasedOnTickamount",value:function(a,n,o){var c=this.w,d=c.config.xaxis.tickAmount;return"dataPoints"===d&&(d=Math.round(c.globals.gridWidth/120)),d>o||a%Math.round(o/(d+1))==0||(n.text=""),n}},{key:"checkForOverflowingLabels",value:function(a,n,o,c,d){var f=this.w;if(0===a&&f.globals.skipFirstTimelinelabel&&(n.text=""),a===o-1&&f.globals.skipLastTimelinelabel&&(n.text=""),f.config.xaxis.labels.hideOverlappingLabels&&c.length>0){var g=d[d.length-1];n.x<g.textRect.width/(f.globals.rotateXLabels?Math.abs(f.config.xaxis.labels.rotate)/12:1.01)+g.x&&(n.text="")}return n}},{key:"checkForReversedLabels",value:function(a,n){var o=this.w;return o.config.yaxis[a]&&o.config.yaxis[a].reversed&&n.reverse(),n}},{key:"isYAxisHidden",value:function(a){var n=this.w,o=new Ce(this.ctx);return!n.config.yaxis[a].show||!n.config.yaxis[a].showForNullSeries&&o.isSeriesNull(a)&&-1===n.globals.collapsedSeriesIndices.indexOf(a)}},{key:"getYAxisForeColor",value:function(a,n){var o=this.w;return Array.isArray(a)&&o.globals.yAxisScale[n]&&this.ctx.theme.pushExtraColors(a,o.globals.yAxisScale[n].result.length,!1),a}},{key:"drawYAxisTicks",value:function(a,n,o,c,d,f,g){var m=this.w,v=new be(this.ctx),w=m.globals.translateY;if(c.show&&n>0){!0===m.config.yaxis[d].opposite&&(a+=c.width);for(var k=n;k>=0;k--){var S=w+n/10+m.config.yaxis[d].labels.offsetY-1;m.globals.isBarHorizontal&&(S=f*k),"heatmap"===m.config.chart.type&&(S+=f/2);var T=v.drawLine(a+o.offsetX-c.width+c.offsetX,S+c.offsetY,a+o.offsetX+c.offsetX,S+c.offsetY,c.color);g.add(T),w+=f}}}}]),z}(),tt=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"scaleSvgNode",value:function(a,n){var o=parseFloat(a.getAttributeNS(null,"width")),c=parseFloat(a.getAttributeNS(null,"height"));a.setAttributeNS(null,"width",o*n),a.setAttributeNS(null,"height",c*n),a.setAttributeNS(null,"viewBox","0 0 "+o+" "+c)}},{key:"fixSvgStringForIe11",value:function(a){if(!le.isIE11())return a.replace(/&nbsp;/g,"&#160;");var n=0,o=a.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(c){return 2==++n?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':c});return(o=o.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(a){null==a&&(a=1);var n=this.w.globals.dom.Paper.svg();if(1!==a){var o=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(o,a),n=(new XMLSerializer).serializeToString(o)}return this.fixSvgStringForIe11(n)}},{key:"cleanup",value:function(){var a=this.w,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),o=a.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),c=a.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(c,function(d){d.setAttribute("width",0)}),n&&n[0]&&(n[0].setAttribute("x",-500),n[0].setAttribute("x1",-500),n[0].setAttribute("x2",-500)),o&&o[0]&&(o[0].setAttribute("y",-100),o[0].setAttribute("y1",-100),o[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var a=this.getSvgString(),n=new Blob([a],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(n)}},{key:"dataURI",value:function(a){var n=this;return new Promise(function(o){var c=n.w,d=a?a.scale||a.width/c.globals.svgWidth:1;n.cleanup();var f=document.createElement("canvas");f.width=c.globals.svgWidth*d,f.height=parseInt(c.globals.dom.elWrap.style.height,10)*d;var g="transparent"===c.config.chart.background?"#fff":c.config.chart.background,m=f.getContext("2d");m.fillStyle=g,m.fillRect(0,0,f.width*d,f.height*d);var v=n.getSvgString(d);if(window.canvg&&le.isIE11()){var w=window.canvg.Canvg.fromString(m,v,{ignoreClear:!0,ignoreDimensions:!0});w.start();var k=f.msToBlob();w.stop(),o({blob:k})}else{var S="data:image/svg+xml,"+encodeURIComponent(v),T=new Image;T.crossOrigin="anonymous",T.onload=function(){if(m.drawImage(T,0,0),f.msToBlob){var _=f.msToBlob();o({blob:_})}else{var I=f.toDataURL("image/png");o({imgURI:I})}},T.src=S}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var a=this;this.dataURI().then(function(n){var o=n.imgURI,c=n.blob;c?navigator.msSaveOrOpenBlob(c,a.w.globals.chartID+".png"):a.triggerDownload(o,a.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(a){var n=this,o=a.series,c=a.fileName,d=a.columnDelimiter,f=void 0===d?",":d,g=a.lineDelimiter,m=void 0===g?"\n":g,v=this.w;o||(o=v.config.series);var w=[],k=[],S="",T=v.globals.series.map(function(V,x){return-1===v.globals.collapsedSeriesIndices.indexOf(x)?V:[]}),_=Math.max.apply(Math,xt(o.map(function(V){return V.data?V.data.length:0}))),I=new st(this.ctx),H=new mt(this.ctx),W=function(V){var x="";if(v.globals.axisCharts){if("category"===v.config.xaxis.type||v.config.xaxis.convertedCatToNumeric)if(v.globals.isBarHorizontal){var E=v.globals.yLabelFormatters[0],D=new ma(n.ctx).getActiveConfigSeriesIndex();x=E(v.globals.labels[V],{seriesIndex:D,dataPointIndex:V,w:v})}else x=H.getLabel(v.globals.labels,v.globals.timescaleLabels,0,V).text;"datetime"===v.config.xaxis.type&&(v.config.xaxis.categories.length?x=v.config.xaxis.categories[V]:v.config.labels.length&&(x=v.config.labels[V]))}else x=v.config.labels[V];return Array.isArray(x)&&(x=x.join(" ")),le.isNumber(x)?x:x.split(f).join("")};w.push(v.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===v.config.chart.type?(w.push("minimum"),w.push("q1"),w.push("median"),w.push("q3"),w.push("maximum")):"candlestick"===v.config.chart.type?(w.push("open"),w.push("high"),w.push("low"),w.push("close")):"rangeBar"===v.config.chart.type?(w.push("minimum"),w.push("maximum")):o.map(function(V,x){var E=V.name?V.name:"series-".concat(x);v.globals.axisCharts&&w.push(E.split(f).join("")?E.split(f).join(""):"series-".concat(x))}),v.globals.axisCharts||(w.push(v.config.chart.toolbar.export.csv.headerValue),k.push(w.join(f))),o.map(function(V,x){v.globals.axisCharts?function(V,x){if(w.length&&0===x&&k.push(w.join(f)),V.data){V.data=V.data.length&&V.data||xt(Array(_)).map(function(){return""});for(var E=0;E<V.data.length;E++){w=[];var D=W(E);if(D||(I.isFormatXY()?D=o[x].data[E].x:I.isFormat2DArray()&&(D=o[x].data[E]?o[x].data[E][0]:"")),0===x){w.push("datetime"===v.config.xaxis.type&&String(D).length>=10?v.config.chart.toolbar.export.csv.dateFormatter(D):le.isNumber(D)?D:D.split(f).join(""));for(var F=0;F<v.globals.series.length;F++)I.isFormatXY()?w.push(o[F].data[E].y):w.push(T[F][E])}("candlestick"===v.config.chart.type||V.type&&"candlestick"===V.type)&&(w.pop(),w.push(v.globals.seriesCandleO[x][E]),w.push(v.globals.seriesCandleH[x][E]),w.push(v.globals.seriesCandleL[x][E]),w.push(v.globals.seriesCandleC[x][E])),("boxPlot"===v.config.chart.type||V.type&&"boxPlot"===V.type)&&(w.pop(),w.push(v.globals.seriesCandleO[x][E]),w.push(v.globals.seriesCandleH[x][E]),w.push(v.globals.seriesCandleM[x][E]),w.push(v.globals.seriesCandleL[x][E]),w.push(v.globals.seriesCandleC[x][E])),"rangeBar"===v.config.chart.type&&(w.pop(),w.push(v.globals.seriesRangeStart[x][E]),w.push(v.globals.seriesRangeEnd[x][E])),w.length&&k.push(w.join(f))}}}(V,x):((w=[]).push(v.globals.labels[x].split(f).join("")),w.push(T[x]),k.push(w.join(f)))}),S+=k.join(m),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+S),c||v.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(a,n,o){var c=document.createElement("a");c.href=a,c.download=(n||this.w.globals.chartID)+o,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}]),z}(),me=function(){function z(a,n){He(this,z),this.ctx=a,this.elgrid=n,this.w=a.w;var o=this.w;this.axesUtils=new mt(a),this.xaxisLabels=o.globals.labels.slice(),o.globals.timescaleLabels.length>0&&!o.globals.isBarHorizontal&&(this.xaxisLabels=o.globals.timescaleLabels.slice()),o.config.xaxis.overwriteCategories&&(this.xaxisLabels=o.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===o.config.xaxis.position?0:o.globals.gridHeight+1,this.offY=this.offY+o.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===o.config.chart.type&&o.config.plotOptions.bar.horizontal,this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.xaxisBorderWidth=o.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=o.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?o.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=o.config.xaxis.axisBorder.height,this.yaxis=o.config.yaxis[0]}return Xe(z,[{key:"drawXaxis",value:function(){var a=this.w,n=new be(this.ctx),o=n.group({class:"apexcharts-xaxis",transform:"translate(".concat(a.config.xaxis.offsetX,", ").concat(a.config.xaxis.offsetY,")")}),c=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(a.globals.translateXAxisX,", ").concat(a.globals.translateXAxisY,")")});o.add(c);for(var d=[],f=0;f<this.xaxisLabels.length;f++)d.push(this.xaxisLabels[f]);if(this.drawXAxisLabelAndGroup(!0,n,c,d,a.globals.isXNumeric,function(_,I){return I}),a.globals.hasGroups){var g=a.globals.groups;d=[];for(var m=0;m<g.length;m++)d.push(g[m].title);var v={};a.config.xaxis.group.style&&(v.xaxisFontSize=a.config.xaxis.group.style.fontSize,v.xaxisFontFamily=a.config.xaxis.group.style.fontFamily,v.xaxisForeColors=a.config.xaxis.group.style.colors,v.fontWeight=a.config.xaxis.group.style.fontWeight,v.cssClass=a.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,n,c,d,!1,function(_,I){return g[_].cols*I},v)}if(void 0!==a.config.xaxis.title.text){var w=n.group({class:"apexcharts-xaxis-title"}),k=n.drawText({x:a.globals.gridWidth/2+a.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===a.config.xaxis.position?a.globals.xAxisLabelsHeight:-a.globals.xAxisLabelsHeight-10)+a.config.xaxis.title.offsetY,text:a.config.xaxis.title.text,textAnchor:"middle",fontSize:a.config.xaxis.title.style.fontSize,fontFamily:a.config.xaxis.title.style.fontFamily,fontWeight:a.config.xaxis.title.style.fontWeight,foreColor:a.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+a.config.xaxis.title.style.cssClass});w.add(k),o.add(w)}if(a.config.xaxis.axisBorder.show){var S=a.globals.barPadForNumericAxis,T=n.drawLine(a.globals.padHorizontal+a.config.xaxis.axisBorder.offsetX-S,this.offY,this.xaxisBorderWidth+S,this.offY,a.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(T):o.add(T)}return o}},{key:"drawXAxisLabelAndGroup",value:function(a,n,o,c,d,f){var g,m=this,v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},w=[],k=[],S=this.w,T=v.xaxisFontSize||this.xaxisFontSize,_=v.xaxisFontFamily||this.xaxisFontFamily,I=v.xaxisForeColors||this.xaxisForeColors,H=v.fontWeight||S.config.xaxis.labels.style.fontWeight,W=v.cssClass||S.config.xaxis.labels.style.cssClass,q=S.globals.padHorizontal,V=c.length,x="category"===S.config.xaxis.type?S.globals.dataPoints:V;if(0===x&&V>x&&(x=V),d){var E=x>1?x-1:x;q=q+f(0,g=S.globals.gridWidth/E)/2+S.config.xaxis.labels.offsetX}else q=q+f(0,g=S.globals.gridWidth/x)+S.config.xaxis.labels.offsetX;for(var D=function(j){var oe=q-f(j,g)/2+S.config.xaxis.labels.offsetX;0===j&&1===V&&g/2===q&&1===x&&(oe=S.globals.gridWidth/2);var ae=m.axesUtils.getLabel(c,S.globals.timescaleLabels,oe,j,w,T,a),ye=28;if(S.globals.rotateXLabels&&a&&(ye=22),S.config.xaxis.title.text&&"top"===S.config.xaxis.position&&(ye+=parseFloat(S.config.xaxis.title.style.fontSize)+2),a||(ye=ye+parseFloat(T)+(S.globals.xAxisLabelsHeight-S.globals.xAxisGroupLabelsHeight)+(S.globals.rotateXLabels?10:0)),ae=void 0!==S.config.xaxis.tickAmount&&"dataPoints"!==S.config.xaxis.tickAmount&&"datetime"!==S.config.xaxis.type?m.axesUtils.checkLabelBasedOnTickamount(j,ae,V):m.axesUtils.checkForOverflowingLabels(j,ae,V,w,k),S.config.xaxis.labels.show){var xe=n.drawText({x:ae.x,y:m.offY+S.config.xaxis.labels.offsetY+ye-("top"===S.config.xaxis.position?S.globals.xAxisHeight+S.config.xaxis.axisTicks.height-2:0),text:ae.text,textAnchor:"middle",fontWeight:ae.isBold?600:H,fontSize:T,fontFamily:_,foreColor:Array.isArray(I)?a&&S.config.xaxis.convertedCatToNumeric?I[S.globals.minX+j-1]:I[j]:I,isPlainText:!1,cssClass:(a?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+W});if(o.add(xe),xe.on("click",function(Pe){if("function"==typeof S.config.chart.events.xAxisLabelClick){var Je=Object.assign({},S,{labelIndex:j});S.config.chart.events.xAxisLabelClick(Pe,m.ctx,Je)}}),a){var Le=document.createElementNS(S.globals.SVGNS,"title");Le.textContent=Array.isArray(ae.text)?ae.text.join(" "):ae.text,xe.node.appendChild(Le),""!==ae.text&&(w.push(ae.text),k.push(ae))}}j<V-1&&(q+=f(j+1,g))},F=0;F<=V-1;F++)D(F)}},{key:"drawXaxisInversed",value:function(a){var n,o,c=this,d=this.w,f=new be(this.ctx),g=d.config.yaxis[0].opposite?d.globals.translateYAxisX[a]:0,m=f.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:a}),v=f.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+g+", 0)"});m.add(v);var w=[];if(d.config.yaxis[a].show)for(var k=0;k<this.xaxisLabels.length;k++)w.push(this.xaxisLabels[k]);o=-(n=d.globals.gridHeight/w.length)/2.2;var S=d.globals.yLabelFormatters[0],T=d.config.yaxis[0].labels;if(T.show)for(var _=function(E){var D=void 0===w[E]?"":w[E];D=S(D,{seriesIndex:a,dataPointIndex:E,w:d});var F=c.axesUtils.getYAxisForeColor(T.style.colors,a),j=0;Array.isArray(D)&&(j=D.length/2*parseInt(T.style.fontSize,10));var oe=T.offsetX-15,ae="end";c.yaxis.opposite&&(ae="start"),"left"===d.config.yaxis[0].labels.align?(oe=T.offsetX,ae="start"):"center"===d.config.yaxis[0].labels.align?(oe=T.offsetX,ae="middle"):"right"===d.config.yaxis[0].labels.align&&(ae="end");var ye=f.drawText({x:oe,y:o+n+T.offsetY-j,text:D,textAnchor:ae,foreColor:Array.isArray(F)?F[E]:F,fontSize:T.style.fontSize,fontFamily:T.style.fontFamily,fontWeight:T.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+T.style.cssClass,maxWidth:T.maxWidth});v.add(ye),ye.on("click",function(Pe){if("function"==typeof d.config.chart.events.xAxisLabelClick){var Je=Object.assign({},d,{labelIndex:E});d.config.chart.events.xAxisLabelClick(Pe,c.ctx,Je)}});var xe=document.createElementNS(d.globals.SVGNS,"title");if(xe.textContent=Array.isArray(D)?D.join(" "):D,ye.node.appendChild(xe),0!==d.config.yaxis[a].labels.rotate){var Le=f.rotateAroundCenter(ye.node);ye.node.setAttribute("transform","rotate(".concat(d.config.yaxis[a].labels.rotate," 0 ").concat(Le.y,")"))}o+=n},I=0;I<=w.length-1;I++)_(I);if(void 0!==d.config.yaxis[0].title.text){var H=f.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+g+", 0)"}),W=f.drawText({x:d.config.yaxis[0].title.offsetX,y:d.globals.gridHeight/2+d.config.yaxis[0].title.offsetY,text:d.config.yaxis[0].title.text,textAnchor:"middle",foreColor:d.config.yaxis[0].title.style.color,fontSize:d.config.yaxis[0].title.style.fontSize,fontWeight:d.config.yaxis[0].title.style.fontWeight,fontFamily:d.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+d.config.yaxis[0].title.style.cssClass});H.add(W),m.add(H)}var q=0;this.isCategoryBarHorizontal&&d.config.yaxis[0].opposite&&(q=d.globals.gridWidth);var V=d.config.xaxis.axisBorder;if(V.show){var x=f.drawLine(d.globals.padHorizontal+V.offsetX+q,1+V.offsetY,d.globals.padHorizontal+V.offsetX+q,d.globals.gridHeight+V.offsetY,V.color,0);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(x):m.add(x)}return d.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(q,w.length,d.config.yaxis[0].axisBorder,d.config.yaxis[0].axisTicks,0,n,m),m}},{key:"drawXaxisTicks",value:function(a,n,o){var c=this.w,d=a;if(!(a<0||a-2>c.globals.gridWidth)){var f=this.offY+c.config.xaxis.axisTicks.offsetY;if(n=n+f+c.config.xaxis.axisTicks.height,"top"===c.config.xaxis.position&&(n=f-c.config.xaxis.axisTicks.height),c.config.xaxis.axisTicks.show){var g=new be(this.ctx).drawLine(a+c.config.xaxis.axisTicks.offsetX,f+c.config.xaxis.offsetY,d+c.config.xaxis.axisTicks.offsetX,n+c.config.xaxis.offsetY,c.config.xaxis.axisTicks.color);o.add(g),g.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var a=this.w,n=[],o=this.xaxisLabels.length,c=a.globals.padHorizontal;if(a.globals.timescaleLabels.length>0)for(var d=0;d<o;d++)n.push(c=this.xaxisLabels[d].position);else for(var f=o,g=0;g<f;g++){var m=f;a.globals.isXNumeric&&"bar"!==a.config.chart.type&&(m-=1),n.push(c+=a.globals.gridWidth/m)}return n}},{key:"xAxisLabelCorrections",value:function(){var a=this.w,n=new be(this.ctx),o=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),c=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),d=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),f=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(a.globals.rotateXLabels||a.config.xaxis.labels.rotateAlways)for(var g=0;g<c.length;g++){var m=n.rotateAroundCenter(c[g]);m.y=m.y-1,m.x=m.x+1,c[g].setAttribute("transform","rotate(".concat(a.config.xaxis.labels.rotate," ").concat(m.x," ").concat(m.y,")")),c[g].setAttribute("text-anchor","end"),o.setAttribute("transform","translate(0, ".concat(-10,")")),a.config.xaxis.labels.trim&&Array.prototype.forEach.call(c[g].childNodes,function(T){n.placeTextWithEllipsis(T,T.textContent,a.globals.xAxisLabelsHeight-("bottom"===a.config.legend.position?20:10))})}else!function(){for(var T=a.globals.gridWidth/(a.globals.labels.length+1),_=0;_<c.length;_++)a.config.xaxis.labels.trim&&"datetime"!==a.config.xaxis.type&&Array.prototype.forEach.call(c[_].childNodes,function(H){n.placeTextWithEllipsis(H,H.textContent,T)})}();if(d.length>0){var w=d[d.length-1].getBBox(),k=d[0].getBBox();w.x<-20&&d[d.length-1].parentNode.removeChild(d[d.length-1]),k.x+k.width>a.globals.gridWidth&&!a.globals.isBarHorizontal&&d[0].parentNode.removeChild(d[0]);for(var S=0;S<f.length;S++)n.placeTextWithEllipsis(f[S],f[S].textContent,a.config.yaxis[0].labels.maxWidth-(a.config.yaxis[0].title.text?2*parseFloat(a.config.yaxis[0].title.style.fontSize):0)-15)}}}]),z}(),co=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new mt(a),this.isRangeBar=n.globals.seriesRange.length,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return Xe(z,[{key:"drawGridArea",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.w,o=new be(this.ctx);null===a&&(a=o.group({class:"apexcharts-grid"}));var c=o.drawLine(n.globals.padHorizontal,1,n.globals.padHorizontal,n.globals.gridHeight,"transparent"),d=o.drawLine(n.globals.padHorizontal,n.globals.gridHeight,n.globals.gridWidth,n.globals.gridHeight,"transparent");return a.add(d),a.add(c),a}},{key:"drawGrid",value:function(){var a=null;return this.w.globals.axisCharts&&(a=this.renderGrid(),this.drawGridArea(a.el)),a}},{key:"createGridMask",value:function(){var a=this.w,n=a.globals,o=new be(this.ctx),c=Array.isArray(a.config.stroke.width)?0:a.config.stroke.width;if(Array.isArray(a.config.stroke.width)){var d=0;a.config.stroke.width.forEach(function(k){d=Math.max(d,k)}),c=d}n.dom.elGridRectMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(n.cuid)),n.dom.elGridRectMarkerMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(n.cuid)),n.dom.elForecastMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elForecastMask.setAttribute("id","forecastMask".concat(n.cuid)),n.dom.elNonForecastMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(n.cuid));var f=a.config.chart.type,g=0,m=0;("bar"===f||"rangeBar"===f||"candlestick"===f||"boxPlot"===f||a.globals.comboBarCount>0)&&a.globals.isXNumeric&&!a.globals.isBarHorizontal&&(m=a.config.grid.padding.right,n.barPadForNumericAxis>(g=a.config.grid.padding.left)&&(g=n.barPadForNumericAxis,m=n.barPadForNumericAxis)),n.dom.elGridRect=o.drawRect(-c/2-g-2,-c/2,n.gridWidth+c+m+g+4,n.gridHeight+c,0,"#fff");var v=a.globals.markers.largestSize+1;n.dom.elGridRectMarker=o.drawRect(2*-v,2*-v,n.gridWidth+4*v,n.gridHeight+4*v,0,"#fff"),n.dom.elGridRectMask.appendChild(n.dom.elGridRect.node),n.dom.elGridRectMarkerMask.appendChild(n.dom.elGridRectMarker.node);var w=n.dom.baseEl.querySelector("defs");w.appendChild(n.dom.elGridRectMask),w.appendChild(n.dom.elForecastMask),w.appendChild(n.dom.elNonForecastMask),w.appendChild(n.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(a){var n=a.i,o=a.x1,g=a.xCount,v=this.w;if(!(0===n&&v.globals.skipFirstTimelinelabel||n===g-1&&v.globals.skipLastTimelinelabel&&!v.config.xaxis.labels.formatter||"radar"===v.config.chart.type)){v.config.grid.xaxis.lines.show&&this._drawGridLine({i:n,x1:o,y1:a.y1,x2:a.x2,y2:a.y2,xCount:g,parent:a.parent});var w=0;if(v.globals.hasGroups&&"between"===v.config.xaxis.tickPlacement){var k=v.globals.groups;if(k){for(var S=0,T=0;S<n&&T<k.length;T++)S+=k[T].cols;S===n&&(w=.6*v.globals.xAxisLabelsHeight)}}new me(this.ctx).drawXaxisTicks(o,w,v.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(a){var n=a.i,o=a.x1,c=a.y1,d=a.x2,f=a.y2,g=a.xCount,m=a.parent,v=this.w,w=!1,k=m.node.classList.contains("apexcharts-gridlines-horizontal"),S=v.config.grid.strokeDashArray,T=v.globals.barPadForNumericAxis;(0===c&&0===f||0===o&&0===d)&&(w=!0),c===v.globals.gridHeight&&f===v.globals.gridHeight&&(w=!0),!v.globals.isBarHorizontal||0!==n&&n!==g-1||(w=!0);var _=new be(this).drawLine(o-(k?T:0),c,d+(k?T:0),f,v.config.grid.borderColor,S);_.node.classList.add("apexcharts-gridline"),w?this.elGridBorders.add(_):m.add(_)}},{key:"_drawGridBandRect",value:function(a){var n=a.c,o=a.x1,c=a.y1,d=a.x2,f=a.y2,g=a.type,m=this.w,v=new be(this.ctx),w=m.globals.barPadForNumericAxis;if("column"!==g||"datetime"!==m.config.xaxis.type){var S=v.drawRect(o-("row"===g?w:0),c,d+("row"===g?2*w:0),f,0,m.config.grid[g].colors[n],m.config.grid[g].opacity);this.elg.add(S),S.attr("clip-path","url(#gridRectMask".concat(m.globals.cuid,")")),S.node.classList.add("apexcharts-grid-".concat(g))}}},{key:"_drawXYLines",value:function(a){var n=this,o=a.xCount,c=a.tickAmount,d=this.w;if(d.config.grid.xaxis.lines.show||d.config.xaxis.axisTicks.show){var f,g=d.globals.padHorizontal,m=d.globals.gridHeight;d.globals.timescaleLabels.length?function(_){for(var I=_.xC,W=_.y1,V=_.y2,x=0;x<I;x++)n._drawGridLines({i:x,x1:n.xaxisLabels[x].position,y1:W,x2:n.xaxisLabels[x].position,y2:V,xCount:o,parent:n.elgridLinesV})}({xC:o,x1:g,y1:0,x2:f,y2:m}):(d.globals.isXNumeric&&(o=d.globals.xAxisScale.result.length),function(_){for(var I=_.xC,H=_.x1,W=_.y1,q=_.x2,V=_.y2,x=0;x<I+(d.globals.isXNumeric?0:1);x++)0===x&&1===I&&1===d.globals.dataPoints&&(q=H=d.globals.gridWidth/2),n._drawGridLines({i:x,x1:H,y1:W,x2:q,y2:V,xCount:o,parent:n.elgridLinesV}),q=H+=d.globals.gridWidth/(d.globals.isXNumeric?I-1:I)}({xC:o,x1:g,y1:0,x2:f,y2:m}))}if(d.config.grid.yaxis.lines.show){var v=0,w=0,k=d.globals.gridWidth,S=c+1;this.isRangeBar&&(S=d.globals.labels.length);for(var T=0;T<S+(this.isRangeBar?1:0);T++)this._drawGridLine({i:T,xCount:S+(this.isRangeBar?1:0),x1:0,y1:v,x2:k,y2:w,parent:this.elgridLinesH}),w=v+=d.globals.gridHeight/(this.isRangeBar?S:c)}}},{key:"_drawInvertedXYLines",value:function(a){var n=a.xCount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show)for(var c,d=o.globals.padHorizontal,f=o.globals.gridHeight,g=0;g<n+1;g++)o.config.grid.xaxis.lines.show&&this._drawGridLine({i:g,xCount:n+1,x1:d,y1:0,x2:c,y2:f,parent:this.elgridLinesV}),new me(this.ctx).drawXaxisTicks(d,0,o.globals.dom.elGraphical),c=d=d+o.globals.gridWidth/n+.3;if(o.config.grid.yaxis.lines.show)for(var m=0,v=0,w=o.globals.gridWidth,k=0;k<o.globals.dataPoints+1;k++)this._drawGridLine({i:k,xCount:o.globals.dataPoints+1,x1:0,y1:m,x2:w,y2:v,parent:this.elgridLinesH}),v=m+=o.globals.gridHeight/o.globals.dataPoints}},{key:"renderGrid",value:function(){var a=this.w,n=new be(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),a.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var o,c=a.globals.yAxisScale.length?a.globals.yAxisScale[0].result.length-1:5,d=0;d<a.globals.series.length&&(void 0!==a.globals.yAxisScale[d]&&(c=a.globals.yAxisScale[d].result.length-1),!(c>2));d++);return!a.globals.isBarHorizontal||this.isRangeBar?(o=this.xaxisLabels.length,this.isRangeBar&&(c=a.globals.labels.length,a.config.xaxis.tickAmount&&a.config.xaxis.labels.formatter&&(o=a.config.xaxis.tickAmount)),this._drawXYLines({xCount:o,tickAmount:c})):this._drawInvertedXYLines({xCount:o=c,tickAmount:c=a.globals.xTickAmount}),this.drawGridBands(o,c),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:a.globals.gridWidth/o}}},{key:"drawGridBands",value:function(a,n){var o=this.w;if(void 0!==o.config.grid.row.colors&&o.config.grid.row.colors.length>0)for(var c=0,d=o.globals.gridHeight/n,f=o.globals.gridWidth,g=0,m=0;g<n;g++,m++)m>=o.config.grid.row.colors.length&&(m=0),this._drawGridBandRect({c:m,x1:0,y1:c,x2:f,y2:d,type:"row"}),c+=o.globals.gridHeight/n;if(void 0!==o.config.grid.column.colors&&o.config.grid.column.colors.length>0)for(var v=o.globals.isBarHorizontal||"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric?a:a-1,w=o.globals.padHorizontal,k=o.globals.padHorizontal+o.globals.gridWidth/v,S=o.globals.gridHeight,T=0,_=0;T<a;T++,_++)_>=o.config.grid.column.colors.length&&(_=0),this._drawGridBandRect({c:_,x1:w,y1:0,x2:k,y2:S,type:"column"}),w+=o.globals.gridWidth/v}}]),z}(),Ha=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"niceScale",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4?arguments[4]:void 0,f=this.w,g=Math.abs(n-a);if("dataPoints"===(o=this._adjustTicksForSmallRange(o,c,g))&&(o=f.globals.dataPoints-1),a===Number.MIN_VALUE&&0===n||!le.isNumber(a)&&!le.isNumber(n)||a===Number.MIN_VALUE&&n===-Number.MAX_VALUE){var m=this.linearScale(a=0,n=o,o);return m}a>n?(console.warn("axis.min cannot be greater than axis.max"),n=a+.1):a===n&&(a=0===a?0:a-.5,n=0===n?2:n+.5);var v=[];g<1&&d&&("candlestick"===f.config.chart.type||"candlestick"===f.config.series[c].type||"boxPlot"===f.config.chart.type||"boxPlot"===f.config.series[c].type||f.globals.isRangeData)&&(n*=1.01);var w=o+1;w<2?w=2:w>2&&(w-=2);var k=g/w,S=Math.floor(le.log10(k)),T=Math.pow(10,S),_=Math.round(k/T);_<1&&(_=1);var I=_*T,H=I*Math.floor(a/I),W=I*Math.ceil(n/I),q=H;if(d&&g>2){for(;v.push(q),!((q+=I)>W););return{result:v,niceMin:v[0],niceMax:v[v.length-1]}}var V=a;(v=[]).push(V);for(var x=Math.abs(n-a)/o,E=0;E<=o;E++)v.push(V+=x);return v[v.length-2]>=n&&v.pop(),{result:v,niceMin:v[0],niceMax:v[v.length-1]}}},{key:"linearScale",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=arguments.length>3?arguments[3]:void 0,d=Math.abs(n-a);"dataPoints"===(o=this._adjustTicksForSmallRange(o,c,d))&&(o=this.w.globals.dataPoints-1);var f=d/o;o===Number.MAX_VALUE&&(o=10,f=1);for(var g=[],m=a;o>=0;)g.push(m),m+=f,o-=1;return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"logarithmicScaleNice",value:function(a,n,o){n<=0&&(n=Math.max(a,o)),a<=0&&(a=Math.min(n,o));for(var c=[],d=Math.ceil(Math.log(n)/Math.log(o)+1),f=Math.floor(Math.log(a)/Math.log(o));f<d;f++)c.push(Math.pow(o,f));return{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"logarithmicScale",value:function(a,n,o){n<=0&&(n=Math.max(a,o)),a<=0&&(a=Math.min(n,o));for(var c=[],d=Math.log(n)/Math.log(o),f=Math.log(a)/Math.log(o),g=d-f,m=Math.round(g),v=g/m,w=0,k=f;w<m;w++,k+=v)c.push(Math.pow(o,k));return c.push(Math.pow(o,d)),{result:c,niceMin:a,niceMax:n}}},{key:"_adjustTicksForSmallRange",value:function(a,n,o){var c=a;if(void 0!==n&&this.w.config.yaxis[n].labels.formatter&&void 0===this.w.config.yaxis[n].tickAmount){var d=Number(this.w.config.yaxis[n].labels.formatter(1));le.isNumber(d)&&0===this.w.globals.yValueDecimal&&(c=Math.ceil(o))}return c<a?c:a}},{key:"setYScaleForIndex",value:function(a,n,o){var c=this.w.globals,d=this.w.config,f=c.isBarHorizontal?d.xaxis:d.yaxis[a];void 0===c.yAxisScale[a]&&(c.yAxisScale[a]=[]);var g=Math.abs(o-n);f.logarithmic&&g<=5&&(c.invalidLogScale=!0),f.logarithmic&&g>5?(c.allSeriesCollapsed=!1,c.yAxisScale[a]=this.logarithmicScale(n,o,f.logBase),c.yAxisScale[a]=f.forceNiceScale?this.logarithmicScaleNice(n,o,f.logBase):this.logarithmicScale(n,o,f.logBase)):o!==-Number.MAX_VALUE&&le.isNumber(o)?(c.allSeriesCollapsed=!1,c.yAxisScale[a]=void 0===f.min&&void 0===f.max||f.forceNiceScale?this.niceScale(n,o,f.tickAmount?f.tickAmount:g<5&&g>1?g+1:5,a,void 0===d.yaxis[a].max&&void 0===d.yaxis[a].min||d.yaxis[a].forceNiceScale):this.linearScale(n,o,f.tickAmount,a)):c.yAxisScale[a]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(a,n){var o=this.w,c=o.globals,d=o.config.xaxis,f=Math.abs(n-a);return c.xAxisScale=n!==-Number.MAX_VALUE&&le.isNumber(n)?this.linearScale(a,n,d.tickAmount?d.tickAmount:f<5&&f>1?f+1:5,0):this.linearScale(0,5,5),c.xAxisScale}},{key:"setMultipleYScales",value:function(){var a=this,n=this.w.globals,o=this.w.config,c=n.minYArr.concat([]),d=n.maxYArr.concat([]),f=[];o.yaxis.forEach(function(g,m){var v=m;o.series.forEach(function(S,T){S.name===g.seriesName&&(v=T,f.push(m!==T?{index:T,similarIndex:m,alreadyExists:!0}:{index:T}))}),a.setYScaleForIndex(m,c[v],d[v])}),this.sameScaleInMultipleAxes(c,d,f)}},{key:"sameScaleInMultipleAxes",value:function(a,n,o){var c=this,d=this.w.config,f=this.w.globals,g=[];o.forEach(function(I){I.alreadyExists&&(void 0===g[I.index]&&(g[I.index]=[]),g[I.index].push(I.index),g[I.index].push(I.similarIndex))}),f.yAxisSameScaleIndices=g,g.forEach(function(I,H){g.forEach(function(W,q){var V,x;H!==q&&(V=I,x=W,V.filter(function(E){return-1!==x.indexOf(E)})).length>0&&(g[H]=g[H].concat(g[q]))})});var m=g.map(function(I){return I.filter(function(H,W){return I.indexOf(H)===W})}).map(function(I){return I.sort()});g=g.filter(function(I){return!!I});var v=m.slice(),w=v.map(function(I){return JSON.stringify(I)});v=v.filter(function(I,H){return w.indexOf(JSON.stringify(I))===H});var k=[],S=[];a.forEach(function(I,H){v.forEach(function(W,q){W.indexOf(H)>-1&&(void 0===k[q]&&(k[q]=[],S[q]=[]),k[q].push({key:H,value:I}),S[q].push({key:H,value:n[H]}))})});var T=Array.apply(null,Array(v.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),_=Array.apply(null,Array(v.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);k.forEach(function(I,H){I.forEach(function(W,q){T[H]=Math.min(W.value,T[H])})}),S.forEach(function(I,H){I.forEach(function(W,q){_[H]=Math.max(W.value,_[H])})}),a.forEach(function(I,H){S.forEach(function(W,q){var V=T[q],x=_[q];d.chart.stacked&&(x=0,W.forEach(function(E,D){E.value!==-Number.MAX_VALUE&&(x+=E.value),V!==Number.MIN_VALUE&&(V+=k[q][D].value)})),W.forEach(function(E,D){W[D].key===H&&(void 0!==d.yaxis[H].min&&(V="function"==typeof d.yaxis[H].min?d.yaxis[H].min(f.minY):d.yaxis[H].min),void 0!==d.yaxis[H].max&&(x="function"==typeof d.yaxis[H].max?d.yaxis[H].max(f.maxY):d.yaxis[H].max),c.setYScaleForIndex(H,V,x))})})})}},{key:"autoScaleY",value:function(a,n,o){a||(a=this);var c=a.w;if(c.globals.isMultipleYAxis||c.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),n;var d=c.globals.seriesX[0],f=c.config.chart.stacked;return n.forEach(function(g,m){for(var v=0,w=0;w<d.length;w++)if(d[w]>=o.xaxis.min){v=w;break}var k,S,T=c.globals.minYArr[m],_=c.globals.maxYArr[m],I=c.globals.stackedSeriesTotals;c.globals.series.forEach(function(H,W){var q=H[v];f?(k=S=q=I[v],I.forEach(function(V,x){d[x]<=o.xaxis.max&&d[x]>=o.xaxis.min&&(V>S&&null!==V&&(S=V),H[x]<k&&null!==H[x]&&(k=H[x]))})):(k=S=q,H.forEach(function(V,x){if(d[x]<=o.xaxis.max&&d[x]>=o.xaxis.min){var E=V,D=V;c.globals.series.forEach(function(F,j){null!==V&&(E=Math.min(F[x],E),D=Math.max(F[x],D))}),D>S&&null!==D&&(S=D),E<k&&null!==E&&(k=E)}})),void 0===k&&void 0===S&&(k=T,S=_),S*=S<0?.9:1.1,0==(k*=k<0?1.1:.9)&&0===S&&(k=-1,S=1),S<0&&S<_&&(S=_),k<0&&k>T&&(k=T),n.length>1?(n[W].min=void 0===g.min?k:g.min,n[W].max=void 0===g.max?S:g.max):(n[0].min=void 0===g.min?k:g.min,n[0].max=void 0===g.max?S:g.max)})}),n}}]),z}(),Ve=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.scales=new Ha(a)}return Xe(z,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=this.w.config,f=this.w.globals,g=-Number.MAX_VALUE,m=Number.MIN_VALUE;null===c&&(c=a+1);var v=f.series,w=v,k=v;"candlestick"===d.chart.type?(w=f.seriesCandleL,k=f.seriesCandleH):"boxPlot"===d.chart.type?(w=f.seriesCandleO,k=f.seriesCandleC):f.isRangeData&&(w=f.seriesRangeStart,k=f.seriesRangeEnd);for(var S=a;S<c;S++){f.dataPoints=Math.max(f.dataPoints,v[S].length),f.categoryLabels.length&&(f.dataPoints=f.categoryLabels.filter(function(I){return void 0!==I}).length);for(var T=0;T<f.series[S].length;T++){var _=v[S][T];null!==_&&le.isNumber(_)?(void 0!==k[S][T]&&(g=Math.max(g,k[S][T]),n=Math.min(n,k[S][T])),void 0!==w[S][T]&&(n=Math.min(n,w[S][T]),o=Math.max(o,w[S][T])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==f.seriesCandleC[S][T]&&(g=Math.max(g,f.seriesCandleO[S][T]),g=Math.max(g,f.seriesCandleH[S][T]),g=Math.max(g,f.seriesCandleL[S][T]),g=Math.max(g,f.seriesCandleC[S][T]),"boxPlot"===this.w.config.chart.type&&(g=Math.max(g,f.seriesCandleM[S][T]))),!d.series[S].type||"candlestick"===d.series[S].type&&"boxPlot"===d.series[S].type&&"rangeArea"===d.series[S].type&&"rangeBar"===d.series[S].type||(g=Math.max(g,f.series[S][T]),n=Math.min(n,f.series[S][T])),o=g),f.seriesGoals[S]&&f.seriesGoals[S][T]&&Array.isArray(f.seriesGoals[S][T])&&f.seriesGoals[S][T].forEach(function(I){m!==Number.MIN_VALUE&&(m=Math.min(m,I.value),n=m),g=Math.max(g,I.value),o=g}),le.isFloat(_)&&(_=le.noExponents(_),f.yValueDecimal=Math.max(f.yValueDecimal,_.toString().split(".")[1].length)),m>w[S][T]&&w[S][T]<0&&(m=w[S][T])):f.hasNullValues=!0}}return"rangeBar"===d.chart.type&&f.seriesRangeStart.length&&f.isBarHorizontal&&(m=n),"bar"===d.chart.type&&(m<0&&g<0&&(g=0),m===Number.MIN_VALUE&&(m=0)),{minY:m,maxY:g,lowestY:n,highestY:o}}},{key:"setYRange",value:function(){var a=this.w.globals,n=this.w.config;a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE;var o=Number.MAX_VALUE;if(a.isMultipleYAxis)for(var c=0;c<a.series.length;c++){var d=this.getMinYMaxY(c,o,null,c+1);a.minYArr.push(d.minY),a.maxYArr.push(d.maxY),o=d.lowestY}var f=this.getMinYMaxY(0,o,null,a.series.length);if(a.minY=f.minY,a.maxY=f.maxY,o=f.lowestY,n.chart.stacked&&this._setStackedMinMax(),("line"===n.chart.type||"area"===n.chart.type||"candlestick"===n.chart.type||"boxPlot"===n.chart.type||"rangeBar"===n.chart.type&&!a.isBarHorizontal)&&a.minY===Number.MIN_VALUE&&o!==-Number.MAX_VALUE&&o!==a.maxY){var g=a.maxY-o;(o>=0&&o<=10||void 0!==n.yaxis[0].min||void 0!==n.yaxis[0].max)&&(g=0),a.minY=o-5*g/100,o>0&&a.minY<0&&(a.minY=0),a.maxY=a.maxY+5*g/100}return n.yaxis.forEach(function(m,v){void 0!==m.max&&("number"==typeof m.max?a.maxYArr[v]=m.max:"function"==typeof m.max&&(a.maxYArr[v]=m.max(a.isMultipleYAxis?a.maxYArr[v]:a.maxY)),a.maxY=a.maxYArr[v]),void 0!==m.min&&("number"==typeof m.min?a.minYArr[v]=m.min:"function"==typeof m.min&&(a.minYArr[v]=m.min(a.isMultipleYAxis?a.minYArr[v]===Number.MIN_VALUE?0:a.minYArr[v]:a.minY)),a.minY=a.minYArr[v])}),a.isBarHorizontal&&["min","max"].forEach(function(m){void 0!==n.xaxis[m]&&"number"==typeof n.xaxis[m]&&("min"===m?a.minY=n.xaxis[m]:a.maxY=n.xaxis[m])}),a.isMultipleYAxis?(this.scales.setMultipleYScales(),a.minY=o,a.yAxisScale.forEach(function(m,v){a.minYArr[v]=m.niceMin,a.maxYArr[v]=m.niceMax})):(this.scales.setYScaleForIndex(0,a.minY,a.maxY),a.minY=a.yAxisScale[0].niceMin,a.maxY=a.yAxisScale[0].niceMax,a.minYArr[0]=a.yAxisScale[0].niceMin,a.maxYArr[0]=a.yAxisScale[0].niceMax),{minY:a.minY,maxY:a.maxY,minYArr:a.minYArr,maxYArr:a.maxYArr,yAxisScale:a.yAxisScale}}},{key:"setXRange",value:function(){var a=this.w.globals,n=this.w.config,o="numeric"===n.xaxis.type||"datetime"===n.xaxis.type||"category"===n.xaxis.type&&!a.noLabelsProvided||a.noLabelsProvided||a.isXNumeric;if(a.isXNumeric&&function(){for(var g=0;g<a.series.length;g++)if(a.labels[g])for(var m=0;m<a.labels[g].length;m++)null!==a.labels[g][m]&&le.isNumber(a.labels[g][m])&&(a.maxX=Math.max(a.maxX,a.labels[g][m]),a.initialMaxX=Math.max(a.maxX,a.labels[g][m]),a.minX=Math.min(a.minX,a.labels[g][m]),a.initialMinX=Math.min(a.minX,a.labels[g][m]))}(),a.noLabelsProvided&&0===n.xaxis.categories.length&&(a.maxX=a.labels[a.labels.length-1],a.initialMaxX=a.labels[a.labels.length-1],a.minX=1,a.initialMinX=1),a.isXNumeric||a.noLabelsProvided||a.dataFormatXNumeric){var c;if(void 0===n.xaxis.tickAmount?(c=Math.round(a.svgWidth/150),"numeric"===n.xaxis.type&&a.dataPoints<30&&(c=a.dataPoints-1),c>a.dataPoints&&0!==a.dataPoints&&(c=a.dataPoints-1)):"dataPoints"===n.xaxis.tickAmount?(a.series.length>1&&(c=a.series[a.maxValsInArrayIndex].length-1),a.isXNumeric&&(c=a.maxX-a.minX-1)):c=n.xaxis.tickAmount,a.xTickAmount=c,void 0!==n.xaxis.max&&"number"==typeof n.xaxis.max&&(a.maxX=n.xaxis.max),void 0!==n.xaxis.min&&"number"==typeof n.xaxis.min&&(a.minX=n.xaxis.min),void 0!==n.xaxis.range&&(a.minX=a.maxX-n.xaxis.range),a.minX!==Number.MAX_VALUE&&a.maxX!==-Number.MAX_VALUE)if(n.xaxis.convertedCatToNumeric&&!a.dataFormatXNumeric){for(var d=[],f=a.minX-1;f<a.maxX;f++)d.push(f+1);a.xAxisScale={result:d,niceMin:d[0],niceMax:d[d.length-1]}}else a.xAxisScale=this.scales.setXScale(a.minX,a.maxX);else a.xAxisScale=this.scales.linearScale(1,c,c),a.noLabelsProvided&&a.labels.length>0&&(a.xAxisScale=this.scales.linearScale(1,a.labels.length,c-1),a.seriesX=a.labels.slice());o&&(a.labels=a.xAxisScale.result.slice())}return a.isBarHorizontal&&a.labels.length&&(a.xTickAmount=a.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:a.minX,maxX:a.maxX}}},{key:"setZRange",value:function(){var a=this.w.globals;if(a.isDataXYZ)for(var n=0;n<a.series.length;n++)if(void 0!==a.seriesZ[n])for(var o=0;o<a.seriesZ[n].length;o++)null!==a.seriesZ[n][o]&&le.isNumber(a.seriesZ[n][o])&&(a.maxZ=Math.max(a.maxZ,a.seriesZ[n][o]),a.minZ=Math.min(a.minZ,a.seriesZ[n][o]))}},{key:"_handleSingleDataPoint",value:function(){var a=this.w.globals,n=this.w.config;if(a.minX===a.maxX){var o=new ct(this.ctx);if("datetime"===n.xaxis.type){var c=o.getDate(a.minX);n.xaxis.labels.datetimeUTC?c.setUTCDate(c.getUTCDate()-2):c.setDate(c.getDate()-2),a.minX=new Date(c).getTime();var d=o.getDate(a.maxX);n.xaxis.labels.datetimeUTC?d.setUTCDate(d.getUTCDate()+2):d.setDate(d.getDate()+2),a.maxX=new Date(d).getTime()}else("numeric"===n.xaxis.type||"category"===n.xaxis.type&&!a.noLabelsProvided)&&(a.minX=a.minX-2,a.initialMinX=a.minX,a.maxX=a.maxX+2,a.initialMaxX=a.maxX)}}},{key:"_getMinXDiff",value:function(){var a=this.w.globals;a.isXNumeric&&a.seriesX.forEach(function(n,o){1===n.length&&n.push(a.seriesX[a.maxValsInArrayIndex][a.seriesX[a.maxValsInArrayIndex].length-1]);var c=n.slice();c.sort(function(d,f){return d-f}),c.forEach(function(d,f){if(f>0){var g=d-c[f-1];g>0&&(a.minXDiff=Math.min(g,a.minXDiff))}}),1!==a.dataPoints&&a.minXDiff!==Number.MAX_VALUE||(a.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var a=this.w.globals,n=[],o=[];if(a.series.length)for(var c=0;c<a.series[a.maxValsInArrayIndex].length;c++)for(var d=0,f=0,g=0;g<a.series.length;g++)null!==a.series[g][c]&&le.isNumber(a.series[g][c])&&(a.series[g][c]>0?d=d+parseFloat(a.series[g][c])+1e-4:f+=parseFloat(a.series[g][c])),g===a.series.length-1&&(n.push(d),o.push(f));for(var m=0;m<n.length;m++)a.maxY=Math.max(a.maxY,n[m]),a.minY=Math.min(a.minY,o[m])}}]),z}(),ti=function(){function z(a,n){He(this,z),this.ctx=a,this.elgrid=n,this.w=a.w;var o=this.w;this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.axisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===o.config.chart.type&&o.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===o.config.xaxis.position&&(this.xAxisoffX=o.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new mt(a)}return Xe(z,[{key:"drawYaxis",value:function(a){var n=this,o=this.w,c=new be(this.ctx),d=o.config.yaxis[a].labels.style,f=d.fontSize,g=d.fontFamily,m=d.fontWeight,v=c.group({class:"apexcharts-yaxis",rel:a,transform:"translate("+o.globals.translateYAxisX[a]+", 0)"});if(this.axesUtils.isYAxisHidden(a))return v;var w=c.group({class:"apexcharts-yaxis-texts-g"});v.add(w);var k=o.globals.yAxisScale[a].result.length-1,S=o.globals.gridHeight/k,T=o.globals.translateY,_=o.globals.yLabelFormatters[a],I=o.globals.yAxisScale[a].result.slice();I=this.axesUtils.checkForReversedLabels(a,I);var H="";if(o.config.yaxis[a].labels.show)for(var W=function(oe){var ae=I[oe];ae=_(ae,oe,o);var ye=o.config.yaxis[a].labels.padding;o.config.yaxis[a].opposite&&0!==o.config.yaxis.length&&(ye*=-1);var xe="end";o.config.yaxis[a].opposite&&(xe="start"),"left"===o.config.yaxis[a].labels.align?xe="start":"center"===o.config.yaxis[a].labels.align?xe="middle":"right"===o.config.yaxis[a].labels.align&&(xe="end");var Le=n.axesUtils.getYAxisForeColor(d.colors,a),Pe=c.drawText({x:ye,y:T+k/10+o.config.yaxis[a].labels.offsetY+1,text:ae,textAnchor:xe,fontSize:f,fontFamily:g,fontWeight:m,maxWidth:o.config.yaxis[a].labels.maxWidth,foreColor:Array.isArray(Le)?Le[oe]:Le,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+d.cssClass});oe===k&&(H=Pe),w.add(Pe);var Je=document.createElementNS(o.globals.SVGNS,"title");if(Je.textContent=Array.isArray(ae)?ae.join(" "):ae,Pe.node.appendChild(Je),0!==o.config.yaxis[a].labels.rotate){var ot=c.rotateAroundCenter(H.node),ht=c.rotateAroundCenter(Pe.node);Pe.node.setAttribute("transform","rotate(".concat(o.config.yaxis[a].labels.rotate," ").concat(ot.x," ").concat(ht.y,")"))}T+=S},q=k;q>=0;q--)W(q);if(void 0!==o.config.yaxis[a].title.text){var V=c.group({class:"apexcharts-yaxis-title"}),x=0;o.config.yaxis[a].opposite&&(x=o.globals.translateYAxisX[a]);var E=c.drawText({x,y:o.globals.gridHeight/2+o.globals.translateY+o.config.yaxis[a].title.offsetY,text:o.config.yaxis[a].title.text,textAnchor:"end",foreColor:o.config.yaxis[a].title.style.color,fontSize:o.config.yaxis[a].title.style.fontSize,fontWeight:o.config.yaxis[a].title.style.fontWeight,fontFamily:o.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[a].title.style.cssClass});V.add(E),v.add(V)}var D=o.config.yaxis[a].axisBorder,F=31+D.offsetX;if(o.config.yaxis[a].opposite&&(F=-31-D.offsetX),D.show){var j=c.drawLine(F,o.globals.translateY+D.offsetY-2,F,o.globals.gridHeight+o.globals.translateY+D.offsetY+2,D.color,0,D.width);v.add(j)}return o.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(F,k,D,o.config.yaxis[a].axisTicks,a,S,v),v}},{key:"drawYaxisInversed",value:function(a){var n=this.w,o=new be(this.ctx),c=o.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),d=o.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});c.add(d);var f=n.globals.yAxisScale[a].result.length-1,g=n.globals.gridWidth/f+.1,m=g+n.config.xaxis.labels.offsetX,v=n.globals.xLabelFormatter,w=n.globals.yAxisScale[a].result.slice(),k=n.globals.timescaleLabels;k.length>0&&(this.xaxisLabels=k.slice(),f=(w=k.slice()).length),w=this.axesUtils.checkForReversedLabels(a,w);var S=k.length;if(n.config.xaxis.labels.show)for(var T=S?0:f;S?T<S:T>=0;S?T++:T--){var _=w[T];_=v(_,T,n);var I=n.globals.gridWidth+n.globals.padHorizontal-(m-g+n.config.xaxis.labels.offsetX);if(k.length){var H=this.axesUtils.getLabel(w,k,I,T,this.drawnLabels,this.xaxisFontSize);I=H.x,_=H.text,this.drawnLabels.push(H.text),0===T&&n.globals.skipFirstTimelinelabel&&(_=""),T===w.length-1&&n.globals.skipLastTimelinelabel&&(_="")}var W=o.drawText({x:I,y:this.xAxisoffX+n.config.xaxis.labels.offsetY+30-("top"===n.config.xaxis.position?n.globals.xAxisHeight+n.config.xaxis.axisTicks.height-2:0),text:_,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[a]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:n.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+n.config.xaxis.labels.style.cssClass});d.add(W),W.tspan(_);var q=document.createElementNS(n.globals.SVGNS,"title");q.textContent=_,W.node.appendChild(q),m+=g}return this.inversedYAxisTitleText(c),this.inversedYAxisBorder(c),c}},{key:"inversedYAxisBorder",value:function(a){var n=this.w,o=new be(this.ctx),c=n.config.xaxis.axisBorder;if(c.show){var d=0;"bar"===n.config.chart.type&&n.globals.isXNumeric&&(d-=15);var f=o.drawLine(n.globals.padHorizontal+d+c.offsetX,this.xAxisoffX,n.globals.gridWidth,this.xAxisoffX,c.color,0,c.height);this.elgrid&&this.elgrid.elGridBorders?this.elgrid.elGridBorders.add(f):a.add(f)}}},{key:"inversedYAxisTitleText",value:function(a){var n=this.w,o=new be(this.ctx);if(void 0!==n.config.xaxis.title.text){var c=o.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),d=o.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(n.config.xaxis.title.style.fontSize)+n.config.xaxis.title.offsetY+20,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});c.add(d),a.add(c)}}},{key:"yAxisTitleRotate",value:function(a,n){var o=this.w,c=new be(this.ctx),d={width:0,height:0},f={width:0,height:0},g=o.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g"));null!==g&&(d=g.getBoundingClientRect());var m=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-title text"));if(null!==m&&(f=m.getBoundingClientRect()),null!==m){var v=this.xPaddingForYAxisTitle(a,d,f,n);m.setAttribute("x",v.xPos-(n?10:0))}if(null!==m){var w=c.rotateAroundCenter(m);m.setAttribute("transform","rotate(".concat(n?-1*o.config.yaxis[a].title.rotate:o.config.yaxis[a].title.rotate," ").concat(w.x," ").concat(w.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(a,n,o,c){var d=this.w,f=0,g=0,m=10;return void 0===d.config.yaxis[a].title.text||a<0?{xPos:g,padd:0}:(c?(g=n.width+d.config.yaxis[a].title.offsetX+o.width/2+m/2,0===(f+=1)&&(g-=m/2)):(g=-1*n.width+d.config.yaxis[a].title.offsetX+m/2+o.width/2,d.globals.isBarHorizontal&&(g=-1*n.width-d.config.yaxis[a].title.offsetX-(m=25))),{xPos:g,padd:m})}},{key:"setYAxisXPosition",value:function(a,n){var o=this.w,c=0,d=0,f=18,g=1;o.config.yaxis.length>1&&(this.multipleYs=!0),o.config.yaxis.map(function(m,v){var w=o.globals.ignoreYAxisIndexes.indexOf(v)>-1||!m.show||m.floating||0===a[v].width,k=a[v].width+n[v].width;m.opposite?o.globals.isBarHorizontal?o.globals.translateYAxisX[v]=(d=o.globals.gridWidth+o.globals.translateX-1)-m.labels.offsetX:(d=o.globals.gridWidth+o.globals.translateX+g,w||(g=g+k+20),o.globals.translateYAxisX[v]=d-m.labels.offsetX+20):(c=o.globals.translateX-f,w||(f=f+k+20),o.globals.translateYAxisX[v]=c+m.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var a=this.w,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(n=le.listToArray(n)).forEach(function(o,c){var d=a.config.yaxis[c];if(d&&!d.floating&&void 0!==d.labels.align){var f=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g")),g=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-label"));g=le.listToArray(g);var m=f.getBoundingClientRect();"left"===d.labels.align?(g.forEach(function(v,w){v.setAttribute("text-anchor","start")}),d.opposite||f.setAttribute("transform","translate(-".concat(m.width,", 0)"))):"center"===d.labels.align?(g.forEach(function(v,w){v.setAttribute("text-anchor","middle")}),f.setAttribute("transform","translate(".concat(m.width/2*(d.opposite?1:-1),", 0)"))):"right"===d.labels.align&&(g.forEach(function(v,w){v.setAttribute("text-anchor","end")}),d.opposite&&f.setAttribute("transform","translate(".concat(m.width,", 0)")))}})}}]),z}(),la=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.documentEvent=le.bind(this.documentEvent,this)}return Xe(z,[{key:"addEventListener",value:function(a,n){var o=this.w;o.globals.events.hasOwnProperty(a)?o.globals.events[a].push(n):o.globals.events[a]=[n]}},{key:"removeEventListener",value:function(a,n){var o=this.w;if(o.globals.events.hasOwnProperty(a)){var c=o.globals.events[a].indexOf(n);-1!==c&&o.globals.events[a].splice(c,1)}}},{key:"fireEvent",value:function(a,n){var o=this.w;if(o.globals.events.hasOwnProperty(a)){n&&n.length||(n=[]);for(var c=o.globals.events[a],d=c.length,f=0;f<d;f++)c[f].apply(null,n)}}},{key:"setupEventHandlers",value:function(){var a=this,n=this.w,o=this.ctx,c=n.globals.dom.baseEl.querySelector(n.globals.chartClass);this.ctx.eventList.forEach(function(d){c.addEventListener(d,function(f){var g=Object.assign({},n,{seriesIndex:n.globals.capturedSeriesIndex,dataPointIndex:n.globals.capturedDataPointIndex});"mousemove"===f.type||"touchmove"===f.type?"function"==typeof n.config.chart.events.mouseMove&&n.config.chart.events.mouseMove(f,o,g):"mouseleave"===f.type||"touchleave"===f.type?"function"==typeof n.config.chart.events.mouseLeave&&n.config.chart.events.mouseLeave(f,o,g):("mouseup"===f.type&&1===f.which||"touchend"===f.type)&&("function"==typeof n.config.chart.events.click&&n.config.chart.events.click(f,o,g),o.ctx.events.fireEvent("click",[f,o,g]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(d){n.globals.dom.baseEl.addEventListener(d,a.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(a){var n=this.w,o=a.target.className;if("click"===a.type){var c=n.globals.dom.baseEl.querySelector(".apexcharts-menu");c&&c.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==o&&c.classList.remove("apexcharts-menu-open")}n.globals.clientX="touchmove"===a.type?a.touches[0].clientX:a.clientX,n.globals.clientY="touchmove"===a.type?a.touches[0].clientY:a.clientY}}]),z}(),Fs=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"setCurrentLocaleValues",value:function(a){var n=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(n=this.w.config.chart.locales.concat(window.Apex.chart.locales));var o=n.filter(function(d){return d.name===a})[0];if(!o)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var c=le.extend(dn,o);this.w.globals.locale=c.options}}]),z}(),Mt=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"drawAxis",value:function(a,n){var o,c,d=this,f=this.w.globals,g=this.w.config,m=new me(this.ctx,n),v=new ti(this.ctx,n);f.axisCharts&&"radar"!==a&&(f.isBarHorizontal?(c=v.drawYaxisInversed(0),o=m.drawXaxisInversed(0),f.dom.elGraphical.add(o),f.dom.elGraphical.add(c)):(o=m.drawXaxis(),f.dom.elGraphical.add(o),g.yaxis.map(function(w,k){if(-1===f.ignoreYAxisIndexes.indexOf(k)&&(c=v.drawYaxis(k),f.dom.Paper.add(c),"back"===d.w.config.grid.position)){var S=f.dom.Paper.children()[1];S.remove(),f.dom.Paper.add(S)}})))}}]),z}(),Mn=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"drawXCrosshairs",value:function(){var a=this.w,n=new be(this.ctx),o=new ft(this.ctx),c=a.config.xaxis.crosshairs.fill.gradient,d=a.config.xaxis.crosshairs.dropShadow,S=d.enabled,T=d.left,_=d.top,I=d.blur,H=d.color,W=d.opacity,q=a.config.xaxis.crosshairs.fill.color;if(a.config.xaxis.crosshairs.show){"gradient"===a.config.xaxis.crosshairs.fill.type&&(q=n.drawGradient("vertical",c.colorFrom,c.colorTo,c.opacityFrom,c.opacityTo,null,c.stops,null));var V=n.drawRect();1===a.config.xaxis.crosshairs.width&&(V=n.drawLine());var x=a.globals.gridHeight;(!le.isNumber(x)||x<0)&&(x=0);var E=a.config.xaxis.crosshairs.width;(!le.isNumber(E)||E<0)&&(E=0),V.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:x,width:E,height:x,fill:q,filter:"none","fill-opacity":a.config.xaxis.crosshairs.opacity,stroke:a.config.xaxis.crosshairs.stroke.color,"stroke-width":a.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":a.config.xaxis.crosshairs.stroke.dashArray}),S&&(V=o.dropShadow(V,{left:T,top:_,blur:I,color:H,opacity:W})),a.globals.dom.elGraphical.add(V)}}},{key:"drawYCrosshairs",value:function(){var a=this.w,n=new be(this.ctx),o=a.config.yaxis[0].crosshairs,c=a.globals.barPadForNumericAxis;if(a.config.yaxis[0].crosshairs.show){var d=n.drawLine(-c,0,a.globals.gridWidth+c,0,o.stroke.color,o.stroke.dashArray,o.stroke.width);d.attr({class:"apexcharts-ycrosshairs"}),a.globals.dom.elGraphical.add(d)}var f=n.drawLine(-c,0,a.globals.gridWidth+c,0,o.stroke.color,0,0);f.attr({class:"apexcharts-ycrosshairs-hidden"}),a.globals.dom.elGraphical.add(f)}}]),z}(),zs=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"checkResponsiveConfig",value:function(a){var n=this,o=this.w,c=o.config;if(0!==c.responsive.length){var d=c.responsive.slice();d.sort(function(v,w){return v.breakpoint>w.breakpoint?1:w.breakpoint>v.breakpoint?-1:0}).reverse();var f=new Ga({}),g=function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=d[0].breakpoint,k=window.innerWidth>0?window.innerWidth:screen.width;if(k>w){var S=Ce.extendArrayProps(f,o.globals.initialConfig,o);v=le.extend(S,v),v=le.extend(o.config,v),n.overrideResponsiveOptions(v)}else for(var T=0;T<d.length;T++)k<d[T].breakpoint&&(v=Ce.extendArrayProps(f,d[T].options,o),v=le.extend(o.config,v),n.overrideResponsiveOptions(v))};if(a){var m=Ce.extendArrayProps(f,a,o);m=le.extend(o.config,m),g(m=le.extend(m,a))}else g({})}}},{key:"overrideResponsiveOptions",value:function(a){var n=new Ga(a).init({responsiveOverride:!0});this.w.config=n}}]),z}(),Ua=function(){function z(a){He(this,z),this.ctx=a,this.colors=[],this.w=a.w;var n=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===n.config.chart.type&&n.config.plotOptions.treemap.distributed||"heatmap"===n.config.chart.type&&n.config.plotOptions.heatmap.distributed,this.isBarDistributed=n.config.plotOptions.bar.distributed&&("bar"===n.config.chart.type||"rangeBar"===n.config.chart.type)}return Xe(z,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var a=this,n=this.w,o=new le;if(n.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(n.config.theme.mode)),void 0===n.config.colors?n.globals.colors=this.predefined():(n.globals.colors=n.config.colors,Array.isArray(n.config.colors)&&n.config.colors.length>0&&"function"==typeof n.config.colors[0]&&(n.globals.colors=n.config.series.map(function(T,_){var I=n.config.colors[_];return I||(I=n.config.colors[0]),"function"==typeof I?(a.isColorFn=!0,I({value:n.globals.axisCharts?n.globals.series[_][0]?n.globals.series[_][0]:0:n.globals.series[_],seriesIndex:_,dataPointIndex:_,w:n})):I}))),n.globals.seriesColors.map(function(T,_){T&&(n.globals.colors[_]=T)}),n.config.theme.monochrome.enabled){var c=[],d=n.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(d=n.globals.series[0].length*n.globals.series.length);for(var f=n.config.theme.monochrome.color,g=1/(d/n.config.theme.monochrome.shadeIntensity),m=n.config.theme.monochrome.shadeTo,v=0,w=0;w<d;w++){var k=void 0;"dark"===m?(k=o.shadeColor(-1*v,f),v+=g):(k=o.shadeColor(v,f),v+=g),c.push(k)}n.globals.colors=c.slice()}var S=n.globals.colors.slice();this.pushExtraColors(n.globals.colors),["fill","stroke"].forEach(function(T){n.globals[T].colors=void 0===n.config[T].colors?a.isColorFn?n.config.colors:S:n.config[T].colors.slice(),a.pushExtraColors(n.globals[T].colors)}),n.globals.dataLabels.style.colors=void 0===n.config.dataLabels.style.colors?S:n.config.dataLabels.style.colors.slice(),this.pushExtraColors(n.globals.dataLabels.style.colors,50),n.globals.radarPolygons.fill.colors=void 0===n.config.plotOptions.radar.polygons.fill.colors?["dark"===n.config.theme.mode?"#424242":"none"]:n.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(n.globals.radarPolygons.fill.colors,20),n.globals.markers.colors=void 0===n.config.markers.colors?S:n.config.markers.colors.slice(),this.pushExtraColors(n.globals.markers.colors)}},{key:"pushExtraColors",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=this.w,d=n||c.globals.series.length;if(null===o&&(o=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===c.config.chart.type&&c.config.plotOptions.heatmap.colorScale.inverse),o&&c.globals.series.length&&(d=c.globals.series[c.globals.maxValsInArrayIndex].length*c.globals.series.length),a.length<d)for(var f=d-a.length,g=0;g<f;g++)a.push(a[g])}},{key:"updateThemeOptions",value:function(a){a.chart=a.chart||{},a.tooltip=a.tooltip||{};var n=a.theme.mode||"light",o=a.theme.palette?a.theme.palette:"dark"===n?"palette4":"palette1",c=a.chart.foreColor?a.chart.foreColor:"dark"===n?"#f6f7f8":"#373d3f";return a.tooltip.theme=n,a.chart.foreColor=c,a.theme.palette=o,a}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),z}(),In=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(a){var n=this.w,o="title"===a?n.config.title:n.config.subtitle,c=n.globals.svgWidth/2,d=o.offsetY,f="middle";if("left"===o.align?(c=10,f="start"):"right"===o.align&&(c=n.globals.svgWidth-10,f="end"),c+=o.offsetX,d=d+parseInt(o.style.fontSize,10)+o.margin/2,void 0!==o.text){var g=new be(this.ctx).drawText({x:c,y:d,text:o.text,textAnchor:f,fontSize:o.style.fontSize,fontFamily:o.style.fontFamily,fontWeight:o.style.fontWeight,foreColor:o.style.color,opacity:1});g.node.setAttribute("class","apexcharts-".concat(a,"-text")),n.globals.dom.Paper.add(g)}}}]),z}(),Ti=function(){function z(a){He(this,z),this.w=a.w,this.dCtx=a}return Xe(z,[{key:"getTitleSubtitleCoords",value:function(a){var n=this.w,o=0,c=0,d="title"===a?n.config.title.floating:n.config.subtitle.floating,f=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-text"));if(null!==f&&!d){var g=f.getBoundingClientRect();o=g.width,c=n.globals.axisCharts?g.height+5:g.height}return{width:o,height:c}}},{key:"getLegendsRect",value:function(){var a=this.w,n=a.globals.dom.baseEl.querySelector(".apexcharts-legend");a.config.legend.height||"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||(n.style.maxHeight=a.globals.svgHeight/2+"px");var o=Object.assign({},le.getBoundingClientRect(n));return this.dCtx.lgRect=null!==n&&!a.config.legend.floating&&a.config.legend.show?{x:o.x,y:o.y,height:o.height,width:0===o.height?0:o.width}:{x:0,y:0,height:0,width:0},"left"!==a.config.legend.position&&"right"!==a.config.legend.position||1.5*this.dCtx.lgRect.width>a.globals.svgWidth&&(this.dCtx.lgRect.width=a.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(a,n){var o=a;if(this.w.globals.isMultiLineX){var c=n.map(function(f,g){return Array.isArray(f)?f.length:1}),d=Math.max.apply(Math,xt(c));o=n[c.indexOf(d)]}return o}}]),z}(),ho=function(){function z(a){He(this,z),this.w=a.w,this.dCtx=a}return Xe(z,[{key:"getxAxisLabelsCoords",value:function(){var a,n=this.w,o=n.globals.labels.slice();if(n.config.xaxis.convertedCatToNumeric&&0===o.length&&(o=n.globals.categoryLabels),n.globals.timescaleLabels.length>0){var c=this.getxAxisTimeScaleLabelsCoords();a={width:c.width,height:c.height},n.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==n.config.legend.position&&"right"!==n.config.legend.position||n.config.legend.floating?0:this.dCtx.lgRect.width;var d=n.globals.xLabelFormatter,f=le.getLargestStringFromArr(o),g=this.dCtx.dimHelpers.getLargestStringFromMultiArr(f,o);n.globals.isBarHorizontal&&(g=f=n.globals.yAxisScale[0].result.reduce(function(_,I){return _.length>I.length?_:I},0));var m=new Ri(this.dCtx.ctx),v=f;f=m.xLabelFormat(d,f,v,{i:void 0,dateFormatter:new ct(this.dCtx.ctx).formatDate,w:n}),g=m.xLabelFormat(d,g,v,{i:void 0,dateFormatter:new ct(this.dCtx.ctx).formatDate,w:n}),(n.config.xaxis.convertedCatToNumeric&&void 0===f||""===String(f).trim())&&(g=f="1");var w=new be(this.dCtx.ctx),k=w.getTextRects(f,n.config.xaxis.labels.style.fontSize),S=k;if(f!==g&&(S=w.getTextRects(g,n.config.xaxis.labels.style.fontSize)),(a={width:k.width>=S.width?k.width:S.width,height:k.height>=S.height?k.height:S.height}).width*o.length>n.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==n.config.xaxis.labels.rotate||n.config.xaxis.labels.rotateAlways){if(!n.globals.isBarHorizontal){n.globals.rotateXLabels=!0;var T=function(_){return w.getTextRects(_,n.config.xaxis.labels.style.fontSize,n.config.xaxis.labels.style.fontFamily,"rotate(".concat(n.config.xaxis.labels.rotate," 0 0)"),!1)};k=T(f),f!==g&&(S=T(g)),a.height=(k.height>S.height?k.height:S.height)/1.5,a.width=k.width>S.width?k.width:S.width}}else n.globals.rotateXLabels=!1}return n.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var a,n=this.w;if(!n.globals.hasGroups)return{width:0,height:0};var o,c=(null===(a=n.config.xaxis.group.style)||void 0===a?void 0:a.fontSize)||n.config.xaxis.labels.style.fontSize,d=n.globals.groups.map(function(k){return k.title}),f=le.getLargestStringFromArr(d),g=this.dCtx.dimHelpers.getLargestStringFromMultiArr(f,d),m=new be(this.dCtx.ctx),v=m.getTextRects(f,c),w=v;return f!==g&&(w=m.getTextRects(g,c)),o={width:v.width>=w.width?v.width:w.width,height:v.height>=w.height?v.height:w.height},n.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisTitleCoords",value:function(){var a=this.w,n=0,o=0;if(void 0!==a.config.xaxis.title.text){var c=new be(this.dCtx.ctx).getTextRects(a.config.xaxis.title.text,a.config.xaxis.title.style.fontSize);n=c.width,o=c.height}return{width:n,height:o}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var a,n=this.w;this.dCtx.timescaleLabels=n.globals.timescaleLabels.slice();var o=this.dCtx.timescaleLabels.map(function(d){return d.value}),c=o.reduce(function(d,f){return void 0===d?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):d.length>f.length?d:f},0);return 1.05*(a=new be(this.dCtx.ctx).getTextRects(c,n.config.xaxis.labels.style.fontSize)).width*o.length>n.globals.gridWidth&&0!==n.config.xaxis.labels.rotate&&(n.globals.overlappingXLabels=!0),a}},{key:"additionalPaddingXLabels",value:function(a){var n=this,o=this.w,c=o.globals,d=o.config,f=d.xaxis.type,g=a.width;c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1;var m=o.config.yaxis[0].opposite&&o.globals.isBarHorizontal;d.yaxis.forEach(function(w,k){m?(n.dCtx.gridPad.left<g&&(n.dCtx.xPadLeft=g/2+1),n.dCtx.xPadRight=g/2+1):function(w,k){-1!==c.collapsedSeriesIndices.indexOf(k)||function(S){if(n.dCtx.timescaleLabels&&n.dCtx.timescaleLabels.length){var I=n.dCtx.timescaleLabels[0].position-g/1.75+n.dCtx.yAxisWidthLeft;n.dCtx.timescaleLabels[n.dCtx.timescaleLabels.length-1].position+g/1.75-n.dCtx.yAxisWidthRight>c.svgWidth-c.translateX-("right"===o.config.legend.position&&n.dCtx.lgRect.width>0?n.dCtx.lgRect.width:0)&&(c.skipLastTimelinelabel=!0),I<-(S.show&&!S.floating||"bar"!==d.chart.type&&"candlestick"!==d.chart.type&&"rangeBar"!==d.chart.type&&"boxPlot"!==d.chart.type?10:g/1.75)&&(c.skipFirstTimelinelabel=!0)}else"datetime"===f?n.dCtx.gridPad.right<g&&!c.rotateXLabels&&(c.skipLastTimelinelabel=!0):"datetime"!==f&&n.dCtx.gridPad.right<g/2-n.dCtx.yAxisWidthRight&&!c.rotateXLabels&&!o.config.xaxis.labels.trim&&("between"!==o.config.xaxis.tickPlacement||o.globals.isBarHorizontal)&&(n.dCtx.xPadRight=g/2+1)}(w)}(w,k)})}}]),z}(),uo=function(){function z(a){He(this,z),this.w=a.w,this.dCtx=a}return Xe(z,[{key:"getyAxisLabelsCoords",value:function(){var a=this,n=this.w,o=[],c=10,d=new mt(this.dCtx.ctx);return n.config.yaxis.map(function(f,g){var m=n.globals.yAxisScale[g],v=0;if(!d.isYAxisHidden(g)&&f.labels.show&&void 0!==f.labels.minWidth&&(v=f.labels.minWidth),!d.isYAxisHidden(g)&&f.labels.show&&m.result.length){var w=n.globals.yLabelFormatters[g],k=m.niceMin===Number.MIN_VALUE?0:m.niceMin,S=String(k).length>String(m.niceMax).length?k:m.niceMax,T=w(S,{seriesIndex:g,dataPointIndex:-1,w:n}),_=T;if(void 0!==T&&0!==T.length||(T=S),n.globals.isBarHorizontal){c=0;var I=n.globals.labels.slice();T=w(T=le.getLargestStringFromArr(I),{seriesIndex:g,dataPointIndex:-1,w:n}),_=a.dCtx.dimHelpers.getLargestStringFromMultiArr(T,I)}var H=new be(a.dCtx.ctx),W="rotate(".concat(f.labels.rotate," 0 0)"),q=H.getTextRects(T,f.labels.style.fontSize,f.labels.style.fontFamily,W,!1),V=q;T!==_&&(V=H.getTextRects(_,f.labels.style.fontSize,f.labels.style.fontFamily,W,!1)),o.push({width:(v>V.width||v>q.width?v:V.width>q.width?V.width:q.width)+c,height:V.height>q.height?V.height:q.height})}else o.push({width:0,height:0})}),o}},{key:"getyAxisTitleCoords",value:function(){var a=this,o=[];return this.w.config.yaxis.map(function(c,d){if(c.show&&void 0!==c.title.text){var f=new be(a.dCtx.ctx),g="rotate(".concat(c.title.rotate," 0 0)"),m=f.getTextRects(c.title.text,c.title.style.fontSize,c.title.style.fontFamily,g,!1);o.push({width:m.width,height:m.height})}else o.push({width:0,height:0})}),o}},{key:"getTotalYAxisWidth",value:function(){var a=this.w,n=0,o=0,c=0,d=a.globals.yAxisScale.length>1?10:0,f=new mt(this.dCtx.ctx),g=function(m,v){var w=a.config.yaxis[v].floating,k=0;m.width>0&&!w?(k=m.width+d,a.globals.ignoreYAxisIndexes.indexOf(v)>-1&&(k=k-m.width-d)):k=w||f.isYAxisHidden(v)?0:5,a.config.yaxis[v].opposite?c+=k:o+=k,n+=k};return a.globals.yLabelsCoords.map(function(m,v){g(m,v)}),a.globals.yTitleCoords.map(function(m,v){g(m,v)}),a.globals.isBarHorizontal&&!a.config.yaxis[0].floating&&(n=a.globals.yLabelsCoords[0].width+a.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=o,this.dCtx.yAxisWidthRight=c,n}}]),z}(),ai=function(){function z(a){He(this,z),this.w=a.w,this.dCtx=a}return Xe(z,[{key:"gridPadForColumnsInNumericAxis",value:function(a){var n=this.w;if(n.globals.noData||n.globals.allSeriesCollapsed)return 0;var o=function(w){return"bar"===w||"rangeBar"===w||"candlestick"===w||"boxPlot"===w},c=n.config.chart.type,d=0,f=o(c)?n.config.series.length:1;if(n.globals.comboBarCount>0&&(f=n.globals.comboBarCount),n.globals.collapsedSeries.forEach(function(w){o(w.type)&&(f-=1)}),n.config.chart.stacked&&(f=1),(o(c)||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&f>0){var g,m,v=Math.abs(n.globals.initialMaxX-n.globals.initialMinX);v<=3&&(v=n.globals.dataPoints),g=v/a,n.globals.minXDiff&&n.globals.minXDiff/g>0&&(m=n.globals.minXDiff/g),m>a/2&&(m/=2),(d=m/f*parseInt(n.config.plotOptions.bar.columnWidth,10)/100)<1&&(d=1),n.globals.barPadForNumericAxis=d=d/(f>1?1:1.5)+5}return d}},{key:"gridPadFortitleSubtitle",value:function(){var a=this,n=this.w,o=n.globals,c=this.dCtx.isSparkline||!n.globals.axisCharts?0:10;["title","subtitle"].forEach(function(g){c+=void 0!==n.config[g].text?n.config[g].margin:a.dCtx.isSparkline||!n.globals.axisCharts?0:5}),!n.config.legend.show||"bottom"!==n.config.legend.position||n.config.legend.floating||n.globals.axisCharts||(c+=10);var d=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),f=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");o.gridHeight=o.gridHeight-d.height-f.height-c,o.translateY=o.translateY+d.height+f.height+c}},{key:"setGridXPosForDualYAxis",value:function(a,n){var o=this.w,c=new mt(this.dCtx.ctx);o.config.yaxis.map(function(d,f){-1!==o.globals.ignoreYAxisIndexes.indexOf(f)||d.floating||c.isYAxisHidden(f)||(d.opposite&&(o.globals.translateX=o.globals.translateX-(n[f].width+a[f].width)-parseInt(o.config.yaxis[f].labels.style.fontSize,10)/1.2-12),o.globals.translateX<2&&(o.globals.translateX=2))})}}]),z}(),_n=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Ti(this),this.dimYAxis=new uo(this),this.dimXAxis=new ho(this),this.dimGrid=new ai(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Xe(z,[{key:"plotCoords",value:function(){var a=this,n=this.w,o=n.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(n.config.markers.discrete.length>0||n.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(d){var f=function Ye(z,a){return function(n){if(Array.isArray(n))return n}(z)||function(n,o){var c=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=c){var d,f,g=[],m=!0,v=!1;try{for(c=c.call(n);!(m=(d=c.next()).done)&&(g.push(d.value),!o||g.length!==o);m=!0);}catch(w){v=!0,f=w}finally{try{m||null==c.return||c.return()}finally{if(v)throw f}}return g}}(z,a)||lo(z,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d,2);a.gridPad[f[0]]=Math.max(f[1],a.w.globals.markers.largestSize/1.5)}),o.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),o.gridHeight=o.gridHeight-this.gridPad.top-this.gridPad.bottom,o.gridWidth=o.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var c=this.dimGrid.gridPadForColumnsInNumericAxis(o.gridWidth);o.gridWidth=o.gridWidth-2*c,o.translateX=o.translateX+this.gridPad.left+this.xPadLeft+(c>0?c+4:0),o.translateY=o.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var a=this,n=this.w,o=n.globals,c=this.dimYAxis.getyAxisLabelsCoords(),d=this.dimYAxis.getyAxisTitleCoords();n.globals.yLabelsCoords=[],n.globals.yTitleCoords=[],n.config.yaxis.map(function(T,_){n.globals.yLabelsCoords.push({width:c[_].width,index:_}),n.globals.yTitleCoords.push({width:d[_].width,index:_})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var f=this.dimXAxis.getxAxisLabelsCoords(),g=this.dimXAxis.getxAxisGroupLabelsCoords(),m=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(f,m,g),o.translateXAxisY=n.globals.rotateXLabels?this.xAxisHeight/8:-4,o.translateXAxisX=n.globals.rotateXLabels&&n.globals.isXNumeric&&n.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,n.globals.isBarHorizontal&&(o.rotateXLabels=!1,o.translateXAxisY=parseInt(n.config.xaxis.labels.style.fontSize,10)/1.5*-1),o.translateXAxisY=o.translateXAxisY+n.config.xaxis.labels.offsetY,o.translateXAxisX=o.translateXAxisX+n.config.xaxis.labels.offsetX;var v=this.yAxisWidth,w=this.xAxisHeight;o.xAxisLabelsHeight=this.xAxisHeight-m.height,o.xAxisGroupLabelsHeight=o.xAxisLabelsHeight-f.height,o.xAxisLabelsWidth=this.xAxisWidth,o.xAxisHeight=this.xAxisHeight;var k=10;("radar"===n.config.chart.type||this.isSparkline)&&(v=0,w=o.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===n.config.chart.type)&&(v=0,w=0,k=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(f);var S=function(){o.translateX=v,o.gridHeight=o.svgHeight-a.lgRect.height-w-(a.isSparkline||"treemap"===n.config.chart.type?0:n.globals.rotateXLabels?10:15),o.gridWidth=o.svgWidth-v};switch("top"===n.config.xaxis.position&&(k=o.xAxisHeight-n.config.xaxis.axisTicks.height-5),n.config.legend.position){case"bottom":o.translateY=k,S();break;case"top":o.translateY=this.lgRect.height+k,S();break;case"left":o.translateY=k,o.translateX=this.lgRect.width+v,o.gridHeight=o.svgHeight-w-12,o.gridWidth=o.svgWidth-this.lgRect.width-v;break;case"right":o.translateY=k,o.translateX=v,o.gridHeight=o.svgHeight-w-12,o.gridWidth=o.svgWidth-this.lgRect.width-v-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(d,c),new ti(this.ctx).setYAxisXPosition(c,d)}},{key:"setDimensionsForNonAxisCharts",value:function(){var a=this.w,n=a.globals,o=a.config,c=0;a.config.legend.show&&!a.config.legend.floating&&(c=20);var d="pie"===o.chart.type||"polarArea"===o.chart.type||"donut"===o.chart.type?"pie":"radialBar",f=o.plotOptions[d].offsetY,g=o.plotOptions[d].offsetX;if(!o.legend.show||o.legend.floating)return n.gridHeight=n.svgHeight-o.grid.padding.left+o.grid.padding.right,n.gridWidth=n.gridHeight,n.translateY=f,void(n.translateX=g+(n.svgWidth-n.gridWidth)/2);switch(o.legend.position){case"bottom":n.gridHeight=n.svgHeight-this.lgRect.height-n.goldenPadding,n.gridWidth=n.svgWidth,n.translateY=f-10,n.translateX=g+(n.svgWidth-n.gridWidth)/2;break;case"top":n.gridHeight=n.svgHeight-this.lgRect.height-n.goldenPadding,n.gridWidth=n.svgWidth,n.translateY=this.lgRect.height+f+10,n.translateX=g+(n.svgWidth-n.gridWidth)/2;break;case"left":n.gridWidth=n.svgWidth-this.lgRect.width-c,n.gridHeight="auto"!==o.chart.height?n.svgHeight:n.gridWidth,n.translateY=f,n.translateX=g+this.lgRect.width+c;break;case"right":n.gridWidth=n.svgWidth-this.lgRect.width-c-5,n.gridHeight="auto"!==o.chart.height?n.svgHeight:n.gridWidth,n.translateY=f,n.translateX=g+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(a,n,o){var c=this.w;this.xAxisHeight=(o.height+a.height+n.height)*(c.globals.isMultiLineX?1.2:c.globals.LINE_HEIGHT_RATIO)+(c.globals.hasGroups?2:1)*(c.globals.rotateXLabels?22:10)+(c.globals.rotateXLabels&&"bottom"===c.config.legend.position?10:0),this.xAxisWidth=a.width,this.xAxisHeight-n.height>c.config.xaxis.labels.maxHeight&&(this.xAxisHeight=c.config.xaxis.labels.maxHeight),c.config.xaxis.labels.minHeight&&this.xAxisHeight<c.config.xaxis.labels.minHeight&&(this.xAxisHeight=c.config.xaxis.labels.minHeight),c.config.xaxis.floating&&(this.xAxisHeight=0);var w=0,k=0;c.config.yaxis.forEach(function(S){w+=S.labels.minWidth,k+=S.labels.maxWidth}),this.yAxisWidth<w&&(this.yAxisWidth=w),this.yAxisWidth>k&&(this.yAxisWidth=k)}}]),z}(),ea=function(){function z(a){He(this,z),this.w=a.w,this.lgCtx=a}return Xe(z,[{key:"getLegendStyles",value:function(){var a=document.createElement("style");a.setAttribute("type","text/css");var n=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return a.appendChild(n),a}},{key:"getLegendBBox",value:function(){var a=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:a.height,clww:a.width}}},{key:"appendToForeignObject",value:function(){var a=this.w.globals;a.dom.elLegendForeign=document.createElementNS(a.SVGNS,"foreignObject");var n=a.dom.elLegendForeign;n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("width",a.svgWidth),n.setAttribute("height",a.svgHeight),a.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),n.appendChild(a.dom.elLegendWrap),n.appendChild(this.getLegendStyles()),a.dom.Paper.node.insertBefore(n,a.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(a,n){var o=this,c=this.w;if(c.globals.axisCharts||"radialBar"===c.config.chart.type){c.globals.resized=!0;var d=null,f=null;c.globals.risingSeries=[],c.globals.axisCharts?(d=c.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),f=parseInt(d.getAttribute("data:realIndex"),10)):(d=c.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")),f=parseInt(d.getAttribute("rel"),10)-1),n?[{cs:c.globals.collapsedSeries,csi:c.globals.collapsedSeriesIndices},{cs:c.globals.ancillaryCollapsedSeries,csi:c.globals.ancillaryCollapsedSeriesIndices}].forEach(function(w){o.riseCollapsedSeries(w.cs,w.csi,f)}):this.hideSeries({seriesEl:d,realIndex:f})}else{var g=c.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(a+1,"'] path")),m=c.config.chart.type;if("pie"===m||"polarArea"===m||"donut"===m){var v=c.config.plotOptions.pie.donut.labels;new be(this.lgCtx.ctx).pathMouseDown(g.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(g.members[0].node,v)}g.fire("click")}}},{key:"hideSeries",value:function(a){var n=a.seriesEl,o=a.realIndex,c=this.w,d=le.clone(c.config.series);if(c.globals.axisCharts){var f=!1;if(c.config.yaxis[o]&&c.config.yaxis[o].show&&c.config.yaxis[o].showAlways&&(f=!0,c.globals.ancillaryCollapsedSeriesIndices.indexOf(o)<0&&(c.globals.ancillaryCollapsedSeries.push({index:o,data:d[o].data.slice(),type:n.parentNode.className.baseVal.split("-")[1]}),c.globals.ancillaryCollapsedSeriesIndices.push(o))),!f){c.globals.collapsedSeries.push({index:o,data:d[o].data.slice(),type:n.parentNode.className.baseVal.split("-")[1]}),c.globals.collapsedSeriesIndices.push(o);var g=c.globals.risingSeries.indexOf(o);c.globals.risingSeries.splice(g,1)}}else c.globals.collapsedSeries.push({index:o,data:d[o]}),c.globals.collapsedSeriesIndices.push(o);for(var m=n.childNodes,v=0;v<m.length;v++)m[v].classList.contains("apexcharts-series-markers-wrap")&&(m[v].classList.contains("apexcharts-hide")?m[v].classList.remove("apexcharts-hide"):m[v].classList.add("apexcharts-hide"));c.globals.allSeriesCollapsed=c.globals.collapsedSeries.length===c.config.series.length,d=this._getSeriesBasedOnCollapsedState(d),this.lgCtx.ctx.updateHelpers._updateSeries(d,c.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(a,n,o){var c=this.w,d=le.clone(c.config.series);if(a.length>0){for(var f=0;f<a.length;f++)a[f].index===o&&(c.globals.axisCharts?(d[o].data=a[f].data.slice(),a.splice(f,1),n.splice(f,1),c.globals.risingSeries.push(o)):(d[o]=a[f].data,a.splice(f,1),n.splice(f,1),c.globals.risingSeries.push(o)));d=this._getSeriesBasedOnCollapsedState(d),this.lgCtx.ctx.updateHelpers._updateSeries(d,c.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(a){var n=this.w;return a.forEach(n.globals.axisCharts?function(o,c){n.globals.collapsedSeriesIndices.indexOf(c)>-1&&(a[c].data=[])}:function(o,c){n.globals.collapsedSeriesIndices.indexOf(c)>-1&&(a[c]=0)}),a}}]),z}(),un=function(){function z(a,n){He(this,z),this.ctx=a,this.w=a.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ea(this)}return Xe(z,[{key:"init",value:function(){var a=this.w,n=a.globals,o=a.config;if((o.legend.showForSingleSeries&&1===n.series.length||this.isBarsDistributed||n.series.length>1||!n.axisCharts)&&o.legend.show){for(;n.dom.elLegendWrap.firstChild;)n.dom.elLegendWrap.removeChild(n.dom.elLegendWrap.firstChild);this.drawLegends(),le.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===o.legend.position||"top"===o.legend.position?this.legendAlignHorizontal():"right"!==o.legend.position&&"left"!==o.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var a=this,n=this.w,o=n.config.legend.fontFamily,c=n.globals.seriesNames,d=n.globals.colors.slice();if("heatmap"===n.config.chart.type){var f=n.config.plotOptions.heatmap.colorScale.ranges;c=f.map(function(xe){return xe.name?xe.name:xe.from+" - "+xe.to}),d=f.map(function(xe){return xe.color})}else this.isBarsDistributed&&(c=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(c=n.config.legend.customLegendItems);for(var g=n.globals.legendFormatter,m=n.config.legend.inverseOrder,v=m?c.length-1:0;m?v>=0:v<=c.length-1;m?v--:v++){var w=g(c[v],{seriesIndex:v,w:n}),k=!1,S=!1;if(n.globals.collapsedSeries.length>0)for(var T=0;T<n.globals.collapsedSeries.length;T++)n.globals.collapsedSeries[T].index===v&&(k=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var _=0;_<n.globals.ancillaryCollapsedSeriesIndices.length;_++)n.globals.ancillaryCollapsedSeriesIndices[_]===v&&(S=!0);var I=document.createElement("span");I.classList.add("apexcharts-legend-marker");var H=n.config.legend.markers.offsetX,W=n.config.legend.markers.offsetY,q=n.config.legend.markers.height,V=n.config.legend.markers.width,x=n.config.legend.markers.strokeWidth,E=n.config.legend.markers.strokeColor,D=n.config.legend.markers.radius,F=I.style;F.background=d[v],F.color=d[v],F.setProperty("background",d[v],"important"),n.config.legend.markers.fillColors&&n.config.legend.markers.fillColors[v]&&(F.background=n.config.legend.markers.fillColors[v]),void 0!==n.globals.seriesColors[v]&&(F.background=n.globals.seriesColors[v],F.color=n.globals.seriesColors[v]),F.height=Array.isArray(q)?parseFloat(q[v])+"px":parseFloat(q)+"px",F.width=Array.isArray(V)?parseFloat(V[v])+"px":parseFloat(V)+"px",F.left=(Array.isArray(H)?parseFloat(H[v]):parseFloat(H))+"px",F.top=(Array.isArray(W)?parseFloat(W[v]):parseFloat(W))+"px",F.borderWidth=Array.isArray(x)?x[v]:x,F.borderColor=Array.isArray(E)?E[v]:E,F.borderRadius=Array.isArray(D)?parseFloat(D[v])+"px":parseFloat(D)+"px",n.config.legend.markers.customHTML&&(Array.isArray(n.config.legend.markers.customHTML)?n.config.legend.markers.customHTML[v]&&(I.innerHTML=n.config.legend.markers.customHTML[v]()):I.innerHTML=n.config.legend.markers.customHTML()),be.setAttrs(I,{rel:v+1,"data:collapsed":k||S}),(k||S)&&I.classList.add("apexcharts-inactive-legend");var j=document.createElement("div"),oe=document.createElement("span");oe.classList.add("apexcharts-legend-text"),oe.innerHTML=Array.isArray(w)?w.join(" "):w;var ae=n.config.legend.labels.useSeriesColors?n.globals.colors[v]:n.config.legend.labels.colors;ae||(ae=n.config.chart.foreColor),oe.style.color=ae,oe.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",oe.style.fontWeight=n.config.legend.fontWeight,oe.style.fontFamily=o||n.config.chart.fontFamily,be.setAttrs(oe,{rel:v+1,i:v,"data:default-text":encodeURIComponent(w),"data:collapsed":k||S}),j.appendChild(I),j.appendChild(oe);var ye=new Ce(this.ctx);n.config.legend.showForZeroSeries||0===ye.getSeriesTotalByIndex(v)&&ye.seriesHaveSameValues(v)&&!ye.isSeriesNull(v)&&-1===n.globals.collapsedSeriesIndices.indexOf(v)&&-1===n.globals.ancillaryCollapsedSeriesIndices.indexOf(v)&&j.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||ye.isSeriesNull(v)&&-1===n.globals.collapsedSeriesIndices.indexOf(v)&&-1===n.globals.ancillaryCollapsedSeriesIndices.indexOf(v)&&j.classList.add("apexcharts-hidden-null-series"),n.globals.dom.elLegendWrap.appendChild(j),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),j.classList.add("apexcharts-legend-series"),j.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",be.setAttrs(j,{rel:v+1,seriesName:le.escapeString(c[v]),"data:collapsed":k||S}),(k||S)&&j.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||j.classList.add("apexcharts-no-click")}n.globals.dom.elWrap.addEventListener("click",a.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&0===n.config.legend.customLegendItems.length&&(n.globals.dom.elWrap.addEventListener("mousemove",a.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",a.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(a,n){var o=this.w,c=o.globals.dom.baseEl.querySelector(".apexcharts-legend"),d=c.getBoundingClientRect(),f=0,g=0;if("bottom"===o.config.legend.position)g+=o.globals.svgHeight-d.height/2;else if("top"===o.config.legend.position){var m=new _n(this.ctx),v=m.dimHelpers.getTitleSubtitleCoords("title").height,w=m.dimHelpers.getTitleSubtitleCoords("subtitle").height;g=g+(v>0?v-10:0)+(w>0?w-10:0)}c.style.position="absolute",g=g+n+o.config.legend.offsetY,c.style.left=(f=f+a+o.config.legend.offsetX)+"px",c.style.top=g+"px","bottom"===o.config.legend.position?(c.style.top="auto",c.style.bottom=5-o.config.legend.offsetY+"px"):"right"===o.config.legend.position&&(c.style.left="auto",c.style.right=25+o.config.legend.offsetX+"px"),["width","height"].forEach(function(k){c.style[k]&&(c.style[k]=parseInt(o.config.legend[k],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var a=this.w;a.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var n=this.legendHelpers.getLegendBBox(),o=new _n(this.ctx),c=o.dimHelpers.getTitleSubtitleCoords("title"),d=o.dimHelpers.getTitleSubtitleCoords("subtitle"),f=0;"bottom"===a.config.legend.position?f=-n.clwh/1.8:"top"===a.config.legend.position&&(f=c.height+d.height+a.config.title.margin+a.config.subtitle.margin-10),this.setLegendWrapXY(20,f)}},{key:"legendAlignVertical",value:function(){var a=this.w,n=this.legendHelpers.getLegendBBox(),o=0;"left"===a.config.legend.position&&(o=20),"right"===a.config.legend.position&&(o=a.globals.svgWidth-n.clww-10),this.setLegendWrapXY(o,20)}},{key:"onLegendHovered",value:function(a){var n=this.w,o=a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker");if("heatmap"===n.config.chart.type||this.isBarsDistributed){if(o){var c=parseInt(a.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,c,this.w]),new ma(this.ctx).highlightRangeInSeries(a,a.target)}}else!a.target.classList.contains("apexcharts-inactive-legend")&&o&&new ma(this.ctx).toggleSeriesOnHover(a,a.target)}},{key:"onLegendClick",value:function(a){var n=this.w;if(!n.config.legend.customLegendItems.length&&(a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker"))){var o=parseInt(a.target.getAttribute("rel"),10)-1,c="true"===a.target.getAttribute("data:collapsed"),d=this.w.config.chart.events.legendClick;"function"==typeof d&&d(this.ctx,o,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,o,this.w]);var f=this.w.config.legend.markers.onClick;"function"==typeof f&&a.target.classList.contains("apexcharts-legend-marker")&&(f(this.ctx,o,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,o,this.w])),"treemap"!==n.config.chart.type&&"heatmap"!==n.config.chart.type&&!this.isBarsDistributed&&n.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(o,c)}}}]),z}(),ta=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w;var n=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=n.globals.minX,this.maxX=n.globals.maxX}return Xe(z,[{key:"createToolbar",value:function(){var a=this,n=this.w,o=function(){return document.createElement("div")},c=o();if(c.setAttribute("class","apexcharts-toolbar"),c.style.top=n.config.chart.toolbar.offsetY+"px",c.style.right=3-n.config.chart.toolbar.offsetX+"px",n.globals.dom.elWrap.appendChild(c),this.elZoom=o(),this.elZoomIn=o(),this.elZoomOut=o(),this.elPan=o(),this.elSelection=o(),this.elZoomReset=o(),this.elMenuIcon=o(),this.elMenu=o(),this.elCustomIcons=[],this.t=n.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var d=0;d<this.t.customIcons.length;d++)this.elCustomIcons.push(o());var f=[],g=function(k,S,T){var _=k.toLowerCase();a.t[_]&&n.config.chart.zoom.enabled&&f.push({el:S,icon:"string"==typeof a.t[_]?a.t[_]:T,title:a.localeValues[k],class:"apexcharts-".concat(_,"-icon")})};g("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),g("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var m=function(k){a.t[k]&&n.config.chart[k].enabled&&f.push({el:"zoom"===k?a.elZoom:a.elSelection,icon:"string"==typeof a.t[k]?a.t[k]:"zoom"===k?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:a.localeValues["zoom"===k?"selectionZoom":"selection"],class:n.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(k,"-icon")})};m("zoom"),m("selection"),this.t.pan&&n.config.chart.zoom.enabled&&f.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:n.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),g("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&f.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var v=0;v<this.elCustomIcons.length;v++)f.push({el:this.elCustomIcons[v],icon:this.t.customIcons[v].icon,title:this.t.customIcons[v].title,index:this.t.customIcons[v].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[v].class});f.forEach(function(k,S){k.index&&le.moveIndexInArray(f,S,k.index)});for(var w=0;w<f.length;w++)be.setAttrs(f[w].el,{class:f[w].class,title:f[w].title}),f[w].el.innerHTML=f[w].icon,c.appendChild(f[w].el);this._createHamburgerMenu(c),n.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):n.globals.panEnabled?this.elPan.classList.add(this.selectedClass):n.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(a){this.elMenuItems=[],a.appendChild(this.elMenu),be.setAttrs(this.elMenu,{class:"apexcharts-menu"});var n=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||n.splice(2,1);for(var o=0;o<n.length;o++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[o].innerHTML=n[o].title,be.setAttrs(this.elMenuItems[o],{class:"apexcharts-menu-item ".concat(n[o].name),title:n[o].title}),this.elMenu.appendChild(this.elMenuItems[o])}},{key:"addToolbarEventListeners",value:function(){var a=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(o){o.classList.contains("exportSVG")?o.addEventListener("click",a.handleDownload.bind(a,"svg")):o.classList.contains("exportPNG")?o.addEventListener("click",a.handleDownload.bind(a,"png")):o.classList.contains("exportCSV")&&o.addEventListener("click",a.handleDownload.bind(a,"csv"))});for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons[n].addEventListener("click",this.t.customIcons[n].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(a){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls();var o="selection"===a?n.ctx.toolbar.elSelection:n.ctx.toolbar.elZoom,c="selection"===a?"selectionEnabled":"zoomEnabled";n.w.globals[c]=!n.w.globals[c],o.classList.contains(n.ctx.toolbar.selectedClass)?o.classList.remove(n.ctx.toolbar.selectedClass):o.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var a=this.w;this.elZoom||(this.elZoom=a.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=a.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=a.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(a){this.toggleOtherControls(),"pan"===a?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var n="pan"===a?this.elPan:this.elZoom,o="pan"===a?this.elZoom:this.elPan;n&&n.classList.add(this.selectedClass),o&&o.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(a){a.ctx.toolbar.toggleOtherControls(),a.w.globals.panEnabled=!a.w.globals.panEnabled,a.ctx.toolbar.elPan.classList.contains(a.ctx.toolbar.selectedClass)?a.ctx.toolbar.elPan.classList.remove(a.ctx.toolbar.selectedClass):a.ctx.toolbar.elPan.classList.add(a.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var a=this,n=this.w;n.globals.panEnabled=!1,n.globals.zoomEnabled=!1,n.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(o){o&&o.classList.remove(a.selectedClass)})}},{key:"handleZoomIn",value:function(){var a=this.w;a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY);var n=(this.minX+this.maxX)/2,d=this._getNewMinXMaxX((this.minX+n)/2,(this.maxX+n)/2);a.globals.disableZoomIn||this.zoomUpdateOptions(d.minX,d.maxX)}},{key:"handleZoomOut",value:function(){var a=this.w;if(a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY),!("datetime"===a.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var n=(this.minX+this.maxX)/2,d=this._getNewMinXMaxX(this.minX-(n-this.minX),this.maxX-(n-this.maxX));a.globals.disableZoomOut||this.zoomUpdateOptions(d.minX,d.maxX)}}},{key:"_getNewMinXMaxX",value:function(a,n){var o=this.w.config.xaxis.convertedCatToNumeric;return{minX:o?Math.floor(a):a,maxX:o?Math.floor(n):n}}},{key:"zoomUpdateOptions",value:function(a,n){var o=this.w;if(void 0!==a||void 0!==n){if(!(o.config.xaxis.convertedCatToNumeric&&(a<1&&(a=1,n=o.globals.dataPoints),n-a<2))){var c={min:a,max:n},d=this.getBeforeZoomRange(c);d&&(c=d.xaxis);var f={xaxis:c},g=le.clone(o.globals.initialConfig.yaxis);o.config.chart.zoom.autoScaleYaxis&&(g=new Ha(this.ctx).autoScaleY(this.ctx,g,{xaxis:c})),o.config.chart.group||(f.yaxis=g),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(f,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(c,g)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(a,n){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:a,yaxis:n})}},{key:"getBeforeZoomRange",value:function(a,n){var o=null;return"function"==typeof this.ev.beforeZoom&&(o=this.ev.beforeZoom(this,{xaxis:a,yaxis:n})),o}},{key:"toggleMenu",value:function(){var a=this;window.setTimeout(function(){a.elMenu.classList.contains("apexcharts-menu-open")?a.elMenu.classList.remove("apexcharts-menu-open"):a.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(a){var n=this.w,o=new tt(this.ctx);switch(a){case"svg":o.exportToSVG(this.ctx);break;case"png":o.exportToPng(this.ctx);break;case"csv":o.exportToCSV({series:n.config.series,columnDelimiter:n.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(a){this.ctx.getSyncedCharts().forEach(function(n){var o=n.w;if(o.globals.lastXAxis.min=void 0,o.globals.lastXAxis.max=void 0,n.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof o.config.chart.events.beforeResetZoom){var c=o.config.chart.events.beforeResetZoom(n,o);c&&n.updateHelpers.revertDefaultAxisMinMax(c)}"function"==typeof o.config.chart.events.zoomed&&n.ctx.toolbar.zoomCallback({min:o.config.xaxis.min,max:o.config.xaxis.max}),o.globals.zoomed=!1;var d=n.ctx.series.emptyCollapsedSeries(le.clone(o.globals.initialSeries));n.updateHelpers._updateSeries(d,o.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),z}(),ni=function(z){Zn(n,z);var a=cn(n);function n(o){var c;return He(this,n),(c=a.call(this,o)).ctx=o,c.w=o.w,c.dragged=!1,c.graphics=new be(c.ctx),c.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],c.clientX=0,c.clientY=0,c.startX=0,c.endX=0,c.dragX=0,c.startY=0,c.endY=0,c.dragY=0,c.moveDirection="none",c}return Xe(n,[{key:"init",value:function(o){var c=this,d=o.xyRatios,f=this.w,g=this;this.xyRatios=d,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=f.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),f.globals.dom.elGraphical.add(this.zoomRect),f.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===f.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:f.globals.gridWidth,maxY:f.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===f.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:f.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=f.globals.dom.baseEl.querySelector("".concat(f.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(m){c.hoverArea.addEventListener(m,g.svgMouseEvents.bind(g,d),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(o,c){var d=this.w,f=this,g=this.ctx.toolbar,m=d.globals.zoomEnabled?d.config.chart.zoom.type:d.config.chart.selection.type,v=d.config.chart.toolbar.autoSelected;if(c.shiftKey?(this.shiftWasPressed=!0,g.enableZoomPanFromToolbar("pan"===v?"zoom":"pan")):this.shiftWasPressed&&(g.enableZoomPanFromToolbar(v),this.shiftWasPressed=!1),c.target){var w,k=c.target.classList;if(c.target.parentNode&&null!==c.target.parentNode&&(w=c.target.parentNode.classList),!(k.contains("apexcharts-selection-rect")||k.contains("apexcharts-legend-marker")||k.contains("apexcharts-legend-text")||w&&w.contains("apexcharts-toolbar"))){if(f.clientX="touchmove"===c.type||"touchstart"===c.type?c.touches[0].clientX:"touchend"===c.type?c.changedTouches[0].clientX:c.clientX,f.clientY="touchmove"===c.type||"touchstart"===c.type?c.touches[0].clientY:"touchend"===c.type?c.changedTouches[0].clientY:c.clientY,"mousedown"===c.type&&1===c.which){var S=f.gridRect.getBoundingClientRect();f.startX=f.clientX-S.left,f.startY=f.clientY-S.top,f.dragged=!1,f.w.globals.mousedown=!0}if(("mousemove"===c.type&&1===c.which||"touchmove"===c.type)&&(f.dragged=!0,d.globals.panEnabled?(d.globals.selection=null,f.w.globals.mousedown&&f.panDragging({context:f,zoomtype:m,xyRatios:o})):(f.w.globals.mousedown&&d.globals.zoomEnabled||f.w.globals.mousedown&&d.globals.selectionEnabled)&&(f.selection=f.selectionDrawing({context:f,zoomtype:m}))),"mouseup"===c.type||"touchend"===c.type||"mouseleave"===c.type){var T=f.gridRect.getBoundingClientRect();f.w.globals.mousedown&&(f.endX=f.clientX-T.left,f.endY=f.clientY-T.top,f.dragX=Math.abs(f.endX-f.startX),f.dragY=Math.abs(f.endY-f.startY),(d.globals.zoomEnabled||d.globals.selectionEnabled)&&f.selectionDrawn({context:f,zoomtype:m}),d.globals.panEnabled&&d.config.xaxis.convertedCatToNumeric&&f.delayedPanScrolled()),d.globals.zoomEnabled&&f.hideSelectionRect(this.selectionRect),f.dragged=!1,f.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var o=this.w;if(this.selectionRect){var c=this.selectionRect.node.getBoundingClientRect();c.width>0&&c.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var o=this.w,c=this.xyRatios;if(!o.globals.zoomEnabled)if(null!=o.globals.selection)this.drawSelectionRect(o.globals.selection);else if(void 0!==o.config.chart.selection.xaxis.min&&void 0!==o.config.chart.selection.xaxis.max){var d=(o.config.chart.selection.xaxis.min-o.globals.minX)/c.xRatio;this.drawSelectionRect({x:d,y:0,width:o.globals.gridWidth-(o.globals.maxX-o.config.chart.selection.xaxis.max)/c.xRatio-d,height:o.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof o.config.chart.events.selection&&o.config.chart.events.selection(this.ctx,{xaxis:{min:o.config.chart.selection.xaxis.min,max:o.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(o){var c=o.x,d=o.y,f=o.width,g=o.height,m=o.translateX,w=o.translateY,S=this.w,T=this.zoomRect,_=this.selectionRect;if(this.dragged||null!==S.globals.selection){var I={transform:"translate("+(void 0===m?0:m)+", "+(void 0===w?0:w)+")"};S.globals.zoomEnabled&&this.dragged&&(f<0&&(f=1),T.attr({x:c,y:d,width:f,height:g,fill:S.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":S.config.chart.zoom.zoomedArea.fill.opacity,stroke:S.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":S.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":S.config.chart.zoom.zoomedArea.stroke.opacity}),be.setAttrs(T.node,I)),S.globals.selectionEnabled&&(_.attr({x:c,y:d,width:f>0?f:0,height:g>0?g:0,fill:S.config.chart.selection.fill.color,"fill-opacity":S.config.chart.selection.fill.opacity,stroke:S.config.chart.selection.stroke.color,"stroke-width":S.config.chart.selection.stroke.width,"stroke-dasharray":S.config.chart.selection.stroke.dashArray,"stroke-opacity":S.config.chart.selection.stroke.opacity}),be.setAttrs(_.node,I))}}},{key:"hideSelectionRect",value:function(o){o&&o.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(o){var I,d=o.zoomtype,f=this.w,g=o.context,m=this.gridRect.getBoundingClientRect(),v=g.startX-1,w=g.startY,k=!1,S=!1,T=g.clientX-m.left-v,_=g.clientY-m.top-w;return Math.abs(T+v)>f.globals.gridWidth?T=f.globals.gridWidth-v:g.clientX-m.left<0&&(T=v),v>g.clientX-m.left&&(k=!0,T=Math.abs(T)),w>g.clientY-m.top&&(S=!0,_=Math.abs(_)),g.drawSelectionRect(I="x"===d?{x:k?v-T:v,y:0,width:T,height:f.globals.gridHeight}:"y"===d?{x:0,y:S?w-_:w,width:f.globals.gridWidth,height:_}:{x:k?v-T:v,y:S?w-_:w,width:T,height:_}),g.selectionDragging("resizing"),I}},{key:"selectionDragging",value:function(o,c){var d=this,f=this.w,g=this.xyRatios,m=this.selectionRect,v=0;"resizing"===o&&(v=30);var w=function(S){return parseFloat(m.node.getAttribute(S))},k={x:w("x"),y:w("y"),width:w("width"),height:w("height")};f.globals.selection=k,"function"==typeof f.config.chart.events.selection&&f.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var S=d.gridRect.getBoundingClientRect(),T=m.node.getBoundingClientRect(),_={xaxis:{min:f.globals.xAxisScale.niceMin+(T.left-S.left)*g.xRatio,max:f.globals.xAxisScale.niceMin+(T.right-S.left)*g.xRatio},yaxis:{min:f.globals.yAxisScale[0].niceMin+(S.bottom-T.bottom)*g.yRatio[0],max:f.globals.yAxisScale[0].niceMax-(T.top-S.top)*g.yRatio[0]}};f.config.chart.events.selection(d.ctx,_),f.config.chart.brush.enabled&&void 0!==f.config.chart.events.brushScrolled&&f.config.chart.events.brushScrolled(d.ctx,_)},v))}},{key:"selectionDrawn",value:function(o){var d=o.zoomtype,f=this.w,g=o.context,m=this.xyRatios,v=this.ctx.toolbar;if(g.startX>g.endX){var w=g.startX;g.startX=g.endX,g.endX=w}if(g.startY>g.endY){var k=g.startY;g.startY=g.endY,g.endY=k}var S=void 0,T=void 0;f.globals.isRangeBar?(S=f.globals.yAxisScale[0].niceMin+g.startX*m.invertedYRatio,T=f.globals.yAxisScale[0].niceMin+g.endX*m.invertedYRatio):(S=f.globals.xAxisScale.niceMin+g.startX*m.xRatio,T=f.globals.xAxisScale.niceMin+g.endX*m.xRatio);var _=[],I=[];if(f.config.yaxis.forEach(function(F,j){_.push(f.globals.yAxisScale[j].niceMax-m.yRatio[j]*g.startY),I.push(f.globals.yAxisScale[j].niceMax-m.yRatio[j]*g.endY)}),g.dragged&&(g.dragX>10||g.dragY>10)&&S!==T)if(f.globals.zoomEnabled){var H=le.clone(f.globals.initialConfig.yaxis),W=le.clone(f.globals.initialConfig.xaxis);if(f.globals.zoomed=!0,f.config.xaxis.convertedCatToNumeric&&(S=Math.floor(S),T=Math.floor(T),S<1&&(S=1,T=f.globals.dataPoints),T-S<2&&(T=S+1)),"xy"!==d&&"x"!==d||(W={min:S,max:T}),"xy"!==d&&"y"!==d||H.forEach(function(F,j){H[j].min=I[j],H[j].max=_[j]}),f.config.chart.zoom.autoScaleYaxis){var q=new Ha(g.ctx);H=q.autoScaleY(g.ctx,H,{xaxis:W})}if(v){var V=v.getBeforeZoomRange(W,H);V&&(W=V.xaxis?V.xaxis:W,H=V.yaxis?V.yaxis:H)}var x={xaxis:W};f.config.chart.group||(x.yaxis=H),g.ctx.updateHelpers._updateOptions(x,!1,g.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof f.config.chart.events.zoomed&&v.zoomCallback(W,H)}else if(f.globals.selectionEnabled){var E,D=null;E={min:S,max:T},"xy"!==d&&"y"!==d||(D=le.clone(f.config.yaxis)).forEach(function(F,j){D[j].min=I[j],D[j].max=_[j]}),f.globals.selection=g.selection,"function"==typeof f.config.chart.events.selection&&f.config.chart.events.selection(g.ctx,{xaxis:E,yaxis:D})}}},{key:"panDragging",value:function(o){var d=this.w,f=o.context;if(void 0!==d.globals.lastClientPosition.x){var g=d.globals.lastClientPosition.x-f.clientX,m=d.globals.lastClientPosition.y-f.clientY;Math.abs(g)>Math.abs(m)&&g>0?this.moveDirection="left":Math.abs(g)>Math.abs(m)&&g<0?this.moveDirection="right":Math.abs(m)>Math.abs(g)&&m>0?this.moveDirection="up":Math.abs(m)>Math.abs(g)&&m<0&&(this.moveDirection="down")}d.globals.lastClientPosition={x:f.clientX,y:f.clientY},d.config.xaxis.convertedCatToNumeric||f.panScrolled(d.globals.isRangeBar?d.globals.minY:d.globals.minX,d.globals.isRangeBar?d.globals.maxY:d.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var o=this.w,c=o.globals.minX,d=o.globals.maxX,f=(o.globals.maxX-o.globals.minX)/2;"left"===this.moveDirection?(c=o.globals.minX+f,d=o.globals.maxX+f):"right"===this.moveDirection&&(c=o.globals.minX-f,d=o.globals.maxX-f),c=Math.floor(c),d=Math.floor(d),this.updateScrolledChart({xaxis:{min:c,max:d}},c,d)}},{key:"panScrolled",value:function(o,c){var d=this.w,f=this.xyRatios,g=le.clone(d.globals.initialConfig.yaxis),m=f.xRatio,v=d.globals.minX,w=d.globals.maxX;d.globals.isRangeBar&&(m=f.invertedYRatio,v=d.globals.minY,w=d.globals.maxY),"left"===this.moveDirection?(o=v+d.globals.gridWidth/15*m,c=w+d.globals.gridWidth/15*m):"right"===this.moveDirection&&(o=v-d.globals.gridWidth/15*m,c=w-d.globals.gridWidth/15*m),d.globals.isRangeBar||(o<d.globals.initialMinX||c>d.globals.initialMaxX)&&(o=v,c=w);var k={min:o,max:c};d.config.chart.zoom.autoScaleYaxis&&(g=new Ha(this.ctx).autoScaleY(this.ctx,g,{xaxis:k}));var S={xaxis:{min:o,max:c}};d.config.chart.group||(S.yaxis=g),this.updateScrolledChart(S,o,c)}},{key:"updateScrolledChart",value:function(o,c,d){var f=this.w;this.ctx.updateHelpers._updateOptions(o,!1,!1),"function"==typeof f.config.chart.events.scrolled&&f.config.chart.events.scrolled(this.ctx,{xaxis:{min:c,max:d}})}}]),n}(ta),aa=function(){function z(a){He(this,z),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx}return Xe(z,[{key:"getNearestValues",value:function(a){var n=a.hoverArea,c=a.clientX,d=a.clientY,f=this.w,g=a.elGrid.getBoundingClientRect(),m=g.width,v=g.height,w=m/(f.globals.dataPoints-1),k=v/f.globals.dataPoints,S=this.hasBars();!f.globals.comboCharts&&!S||f.config.xaxis.convertedCatToNumeric||(w=m/f.globals.dataPoints);var T=c-g.left-f.globals.barPadForNumericAxis,_=d-g.top;T<0||_<0||T>m||_>v?(n.classList.remove("hovering-zoom"),n.classList.remove("hovering-pan")):f.globals.zoomEnabled?(n.classList.remove("hovering-pan"),n.classList.add("hovering-zoom")):f.globals.panEnabled&&(n.classList.remove("hovering-zoom"),n.classList.add("hovering-pan"));var I=Math.round(T/w),H=Math.floor(_/k);S&&!f.config.xaxis.convertedCatToNumeric&&(I=Math.ceil(T/w),I-=1);var W=null,q=null,V=[],x=[];if(f.globals.seriesXvalues.forEach(function(j){V.push([j[0]+1e-6].concat(j))}),f.globals.seriesYvalues.forEach(function(j){x.push([j[0]+1e-6].concat(j))}),V=V.map(function(j){return j.filter(function(oe){return le.isNumber(oe)})}),x=x.map(function(j){return j.filter(function(oe){return le.isNumber(oe)})}),f.globals.isXNumeric){var E=this.ttCtx.getElGrid().getBoundingClientRect(),D=T*(E.width/m);W=(q=this.closestInMultiArray(D,_*(E.height/v),V,x)).index,I=q.j,null!==W&&(I=(q=this.closestInArray(D,V=f.globals.seriesXvalues[W])).index)}return f.globals.capturedSeriesIndex=null===W?-1:W,(!I||I<1)&&(I=0),f.globals.capturedDataPointIndex=f.globals.isBarHorizontal?H:I,{capturedSeries:W,j:f.globals.isBarHorizontal?H:I,hoverX:T,hoverY:_}}},{key:"closestInMultiArray",value:function(a,n,o,c){var f=0,g=null,m=-1;this.w.globals.series.length>1?f=this.getFirstActiveXArray(o):g=0;var w=Math.abs(a-o[f][0]);if(o.forEach(function(T){T.forEach(function(_,I){var H=Math.abs(a-_);H<w&&(w=H,m=I)})}),-1!==m){var S=Math.abs(n-c[f][m]);g=f,c.forEach(function(T,_){var I=Math.abs(n-T[m]);I<S&&(S=I,g=_)})}return{index:g,j:m}}},{key:"getFirstActiveXArray",value:function(a){for(var n=this.w,o=0,c=a.map(function(f,g){return f.length>0?g:-1}),d=0;d<c.length;d++)if(-1!==c[d]&&-1===n.globals.collapsedSeriesIndices.indexOf(d)&&-1===n.globals.ancillaryCollapsedSeriesIndices.indexOf(d)){o=c[d];break}return o}},{key:"closestInArray",value:function(a,n){for(var c=null,d=Math.abs(a-n[0]),f=0;f<n.length;f++){var g=Math.abs(a-n[f]);g<d&&(d=g,c=f)}return{index:c}}},{key:"isXoverlap",value:function(a){var n=[],o=this.w.globals.seriesX.filter(function(d){return void 0!==d[0]});if(o.length>0)for(var c=0;c<o.length-1;c++)void 0!==o[c][a]&&void 0!==o[c+1][a]&&o[c][a]!==o[c+1][a]&&n.push("unEqual");return 0===n.length}},{key:"isInitialSeriesSameLen",value:function(){for(var a=!0,n=this.w.globals.initialSeries,o=0;o<n.length-1;o++)if(n[o].data.length!==n[o+1].data.length){a=!1;break}return a}},{key:"getBarsHeight",value:function(a){return xt(a).reduce(function(n,o){return n+o.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(a=xt(a)).sort(function(o,c){var d=Number(o.getAttribute("data:realIndex")),f=Number(c.getAttribute("data:realIndex"));return f<d?1:f>d?-1:0});var n=[];return a.forEach(function(o){n.push(o.querySelector(".apexcharts-marker"))}),n}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(a){var n=this.w,o=n.config.markers.hover.size;return void 0===o&&(o=n.globals.markers.size[a]+n.config.markers.hover.sizeOffset),o}},{key:"toggleAllTooltipSeriesGroups",value:function(a){var n=this.w,o=this.ttCtx;0===o.allTooltipSeriesGroups.length&&(o.allTooltipSeriesGroups=n.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var c=o.allTooltipSeriesGroups,d=0;d<c.length;d++)"enable"===a?(c[d].classList.add("apexcharts-active"),c[d].style.display=n.config.tooltip.items.display):(c[d].classList.remove("apexcharts-active"),c[d].style.display="none")}}]),z}(),Gc=function(){function z(a){He(this,z),this.w=a.w,this.ctx=a.ctx,this.ttCtx=a,this.tooltipUtil=new aa(a)}return Xe(z,[{key:"drawSeriesTexts",value:function(a){var n=a.shared,o=void 0===n||n,c=a.ttItems,d=a.i,f=void 0===d?0:d,g=a.j,m=void 0===g?null:g,k=a.e,S=this.w;void 0!==S.config.tooltip.custom?this.handleCustomTooltip({i:f,j:m,y1:a.y1,y2:a.y2,w:S}):this.toggleActiveInactiveSeries(o);var T=this.getValuesToPrint({i:f,j:m});this.printLabels({i:f,j:m,values:T,ttItems:c,shared:o,e:k});var _=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=_.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=_.getBoundingClientRect().height}},{key:"printLabels",value:function(a){var n,o=this,c=a.i,d=a.j,f=a.values,g=a.ttItems,m=a.shared,v=a.e,w=this.w,k=[],S=function(E){return w.globals.seriesGoals[E]&&w.globals.seriesGoals[E][d]&&Array.isArray(w.globals.seriesGoals[E][d])},T=f.xVal,_=f.zVal,I=f.xAxisTTVal,H="",W=w.globals.colors[c];null!==d&&w.config.plotOptions.bar.distributed&&(W=w.globals.colors[d]);for(var q=function(E,D){var F=o.getFormatters(c);H=o.getSeriesName({fn:F.yLbTitleFormatter,index:c,seriesIndex:c,j:d}),"treemap"===w.config.chart.type&&(H=F.yLbTitleFormatter(String(w.config.series[c].data[d].x),{series:w.globals.series,seriesIndex:c,dataPointIndex:d,w}));var j=w.config.tooltip.inverseOrder?D:E;if(w.globals.axisCharts){var oe=function(xe){var Le,Pe,Je="";return w.globals.isRangeData&&(Je+=F.yLbFormatter(null===(Le=w.globals.seriesRangeStart)||void 0===Le||null===(Pe=Le[xe])||void 0===Pe?void 0:Pe[d],{series:w.globals.seriesRangeStart,seriesIndex:xe,dataPointIndex:d,w})+" - "),Je+F.yLbFormatter(w.globals.series[xe][d],{series:w.globals.series,seriesIndex:xe,dataPointIndex:d,w})};if(m)F=o.getFormatters(j),H=o.getSeriesName({fn:F.yLbTitleFormatter,index:j,seriesIndex:c,j:d}),W=w.globals.colors[j],n=oe(j),S(j)&&(k=w.globals.seriesGoals[j][d].map(function(xe){return{attrs:xe,val:F.yLbFormatter(xe.value,{seriesIndex:j,dataPointIndex:d,w})}}));else{var ae,ye=null==v||null===(ae=v.target)||void 0===ae?void 0:ae.getAttribute("fill");ye&&(W=-1!==ye.indexOf("url")?document.querySelector(ye.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):ye),n=oe(c),S(c)&&Array.isArray(w.globals.seriesGoals[c][d])&&(k=w.globals.seriesGoals[c][d].map(function(xe){return{attrs:xe,val:F.yLbFormatter(xe.value,{seriesIndex:c,dataPointIndex:d,w})}}))}}null===d&&(n=F.yLbFormatter(w.globals.series[c],ze(ze({},w),{},{seriesIndex:c,dataPointIndex:c}))),o.DOMHandling({i:c,t:j,j:d,ttItems:g,values:{val:n,goalVals:k,xVal:T,xAxisTTVal:I,zVal:_},seriesName:H,shared:m,pColor:W})},V=0,x=w.globals.series.length-1;V<w.globals.series.length;V++,x--)q(V,x)}},{key:"getFormatters",value:function(a){var n,o=this.w,c=o.globals.yLabelFormatters[a];return void 0!==o.globals.ttVal?Array.isArray(o.globals.ttVal)?(c=o.globals.ttVal[a]&&o.globals.ttVal[a].formatter,n=o.globals.ttVal[a]&&o.globals.ttVal[a].title&&o.globals.ttVal[a].title.formatter):(c=o.globals.ttVal.formatter,"function"==typeof o.globals.ttVal.title.formatter&&(n=o.globals.ttVal.title.formatter)):n=o.config.tooltip.y.title.formatter,"function"!=typeof c&&(c=o.globals.yLabelFormatters[0]?o.globals.yLabelFormatters[0]:function(d){return d}),"function"!=typeof n&&(n=function(d){return d}),{yLbFormatter:c,yLbTitleFormatter:n}}},{key:"getSeriesName",value:function(a){var c=a.seriesIndex,d=a.j,f=this.w;return(0,a.fn)(String(f.globals.seriesNames[a.index]),{series:f.globals.series,seriesIndex:c,dataPointIndex:d,w:f})}},{key:"DOMHandling",value:function(a){var n=a.t,o=a.j,c=a.ttItems,d=a.values,f=a.seriesName,g=a.shared,m=a.pColor,v=this.w,w=this.ttCtx,k=d.val,S=d.goalVals,T=d.xVal,_=d.xAxisTTVal,I=d.zVal,H=null;H=c[n].children,v.config.tooltip.fillSeriesColor&&(c[n].style.backgroundColor=m,H[0].style.display="none"),w.showTooltipTitle&&(null===w.tooltipTitle&&(w.tooltipTitle=v.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),w.tooltipTitle.innerHTML=T),w.isXAxisTooltipEnabled&&(w.xaxisTooltipText.innerHTML=""!==_?_:T);var W=c[n].querySelector(".apexcharts-tooltip-text-y-label");W&&(W.innerHTML=f||"");var q=c[n].querySelector(".apexcharts-tooltip-text-y-value");q&&(q.innerHTML=void 0!==k?k:""),H[0]&&H[0].classList.contains("apexcharts-tooltip-marker")&&(v.config.tooltip.marker.fillColors&&Array.isArray(v.config.tooltip.marker.fillColors)&&(m=v.config.tooltip.marker.fillColors[n]),H[0].style.backgroundColor=m),v.config.tooltip.marker.show||(H[0].style.display="none");var V=c[n].querySelector(".apexcharts-tooltip-text-goals-label"),x=c[n].querySelector(".apexcharts-tooltip-text-goals-value");if(S.length&&v.globals.seriesGoals[n]){var E=function(){var D="<div >",F="<div>";S.forEach(function(j,oe){D+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(j.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(j.attrs.name,"</div>"),F+="<div>".concat(j.val,"</div>")}),V.innerHTML=D+"</div>",x.innerHTML=F+"</div>"};g?v.globals.seriesGoals[n][o]&&Array.isArray(v.globals.seriesGoals[n][o])?E():(V.innerHTML="",x.innerHTML=""):E()}else V.innerHTML="",x.innerHTML="";null!==I&&(c[n].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=v.config.tooltip.z.title,c[n].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==I?I:""),g&&H[0]&&(H[0].parentNode.style.display=null==k||v.globals.ancillaryCollapsedSeriesIndices.indexOf(n)>-1||v.globals.collapsedSeriesIndices.indexOf(n)>-1?"none":v.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(a){var n=this.w;if(a)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var o=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");o&&(o.classList.add("apexcharts-active"),o.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(a){var n=a.i,o=a.j,c=this.w,d=this.ctx.series.filteredSeriesX(),f="",g="",m=null,v=null,w={series:c.globals.series,seriesIndex:n,dataPointIndex:o,w:c},k=c.globals.ttZFormatter;null===o?v=c.globals.series[n]:c.globals.isXNumeric&&"treemap"!==c.config.chart.type?(f=d[n][o],0===d[n].length&&(f=d[this.tooltipUtil.getFirstActiveXArray(d)][o])):f=void 0!==c.globals.labels[o]?c.globals.labels[o]:"";var S=f;return f=c.globals.isXNumeric&&"datetime"===c.config.xaxis.type?new Ri(this.ctx).xLabelFormat(c.globals.ttKeyFormatter,S,S,{i:void 0,dateFormatter:new ct(this.ctx).formatDate,w:this.w}):c.globals.isBarHorizontal?c.globals.yLabelFormatters[0](S,w):c.globals.xLabelFormatter(S,w),void 0!==c.config.tooltip.x.formatter&&(f=c.globals.ttKeyFormatter(S,w)),c.globals.seriesZ.length>0&&c.globals.seriesZ[n].length>0&&(m=k(c.globals.seriesZ[n][o],c)),g="function"==typeof c.config.xaxis.tooltip.formatter?c.globals.xaxisTooltipFormatter(S,w):f,{val:Array.isArray(v)?v.join(" "):v,xVal:Array.isArray(f)?f.join(" "):f,xAxisTTVal:Array.isArray(g)?g.join(" "):g,zVal:m}}},{key:"handleCustomTooltip",value:function(a){var n=a.i,o=a.j,c=a.y1,d=a.y2,f=a.w,g=this.ttCtx.getElTooltip(),m=f.config.tooltip.custom;Array.isArray(m)&&m[n]&&(m=m[n]),g.innerHTML=m({ctx:this.ctx,series:f.globals.series,seriesIndex:n,dataPointIndex:o,y1:c,y2:d,w:f})}}]),z}(),dt=function(){function z(a){He(this,z),this.ttCtx=a,this.ctx=a.ctx,this.w=a.w}return Xe(z,[{key:"moveXCrosshairs",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.ttCtx,c=this.w,d=o.getElXCrosshairs(),f=a-o.xcrosshairsWidth/2,g=c.globals.labels.slice().length;if(null!==n&&(f=c.globals.gridWidth/g*n),null===d||c.globals.isBarHorizontal||(d.setAttribute("x",f),d.setAttribute("x1",f),d.setAttribute("x2",f),d.setAttribute("y2",c.globals.gridHeight),d.classList.add("apexcharts-active")),f<0&&(f=0),f>c.globals.gridWidth&&(f=c.globals.gridWidth),o.isXAxisTooltipEnabled){var m=f;"tickWidth"!==c.config.xaxis.crosshairs.width&&"barWidth"!==c.config.xaxis.crosshairs.width||(m=f+o.xcrosshairsWidth/2),this.moveXAxisTooltip(m)}}},{key:"moveYCrosshairs",value:function(a){var n=this.ttCtx;null!==n.ycrosshairs&&be.setAttrs(n.ycrosshairs,{y1:a,y2:a}),null!==n.ycrosshairsHidden&&be.setAttrs(n.ycrosshairsHidden,{y1:a,y2:a})}},{key:"moveXAxisTooltip",value:function(a){var n=this.w,o=this.ttCtx;if(null!==o.xaxisTooltip&&0!==o.xcrosshairsWidth){o.xaxisTooltip.classList.add("apexcharts-active");var d,c=o.xaxisOffY+n.config.xaxis.tooltip.offsetY+n.globals.translateY+1+n.config.xaxis.offsetY;a-=o.xaxisTooltip.getBoundingClientRect().width/2,isNaN(a)||(a+=n.globals.translateX,d=new be(this.ctx).getTextRects(o.xaxisTooltipText.innerHTML),o.xaxisTooltipText.style.minWidth=d.width+"px",o.xaxisTooltip.style.left=a+"px",o.xaxisTooltip.style.top=c+"px")}}},{key:"moveYAxisTooltip",value:function(a){var n=this.w,o=this.ttCtx;null===o.yaxisTTEls&&(o.yaxisTTEls=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var c=parseInt(o.ycrosshairsHidden.getAttribute("y1"),10),d=n.globals.translateY+c,f=o.yaxisTTEls[a].getBoundingClientRect().height,g=n.globals.translateYAxisX[a]-2;n.config.yaxis[a].opposite&&(g-=26),d-=f/2,-1===n.globals.ignoreYAxisIndexes.indexOf(a)?(o.yaxisTTEls[a].classList.add("apexcharts-active"),o.yaxisTTEls[a].style.top=d+"px",o.yaxisTTEls[a].style.left=g+n.config.yaxis[a].tooltip.offsetX+"px"):o.yaxisTTEls[a].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=this.w,d=this.ttCtx,f=d.getElTooltip(),g=d.tooltipRect,m=null!==o?parseFloat(o):1,v=parseFloat(a)+m+5,w=parseFloat(n)+m/2;if(v>c.globals.gridWidth/2&&(v=v-g.ttWidth-m-10),v>c.globals.gridWidth-g.ttWidth-10&&(v=c.globals.gridWidth-g.ttWidth),v<-20&&(v=-20),c.config.tooltip.followCursor){var k=d.getElGrid(),S=k.getBoundingClientRect();w=d.e.clientY+c.globals.translateY-S.top-g.ttHeight/2}else c.globals.isBarHorizontal||(g.ttHeight/2+w>c.globals.gridHeight&&(w=c.globals.gridHeight-g.ttHeight+c.globals.translateY),w<0&&(w=0));isNaN(v)||(f.style.left=(v+=c.globals.translateX)+"px",f.style.top=w+"px")}},{key:"moveMarkers",value:function(a,n){var o=this.w,c=this.ttCtx;if(o.globals.markers.size[a]>0)for(var d=o.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-marker")),f=0;f<d.length;f++)parseInt(d[f].getAttribute("rel"),10)===n&&(c.marker.resetPointsSize(),c.marker.enlargeCurrentPoint(n,d[f]));else c.marker.resetPointsSize(),this.moveDynamicPointOnHover(n,a)}},{key:"moveDynamicPointOnHover",value:function(a,n){var o,c,d=this.w,f=this.ttCtx,g=d.globals.pointsArray,m=f.tooltipUtil.getHoverMarkerSize(n),v=d.config.series[n].type;if(!v||"column"!==v&&"candlestick"!==v&&"boxPlot"!==v){o=g[n][a][0],c=g[n][a][1]?g[n][a][1]:0;var w=d.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers circle"));w&&c<d.globals.gridHeight&&c>0&&(w.setAttribute("r",m),w.setAttribute("cx",o),w.setAttribute("cy",c)),this.moveXCrosshairs(o),f.fixedTooltip||this.moveTooltip(o,c,m)}}},{key:"moveDynamicPointsOnHover",value:function(a){var n,o=this.ttCtx,c=o.w,d=0,f=0,g=c.globals.pointsArray;n=new ma(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var m=o.tooltipUtil.getHoverMarkerSize(n);g[n]&&(d=g[n][a][0],f=g[n][a][1]);var v=o.tooltipUtil.getAllMarkers();if(null!==v)for(var w=0;w<c.globals.series.length;w++){var k=g[w];if(c.globals.comboCharts&&void 0===k&&v.splice(w,0,null),k&&k.length){var S=g[w][a][1];v[w].setAttribute("cx",d),"rangeArea"!==c.config.chart.type||c.globals.comboCharts||(S-=Math.abs(S-g[w][a+c.globals.series[w].length][1])/2),null!==S&&!isNaN(S)&&S<c.globals.gridHeight+m&&S+m>0?(v[w]&&v[w].setAttribute("r",m),v[w]&&v[w].setAttribute("cy",S)):v[w]&&v[w].setAttribute("r",0)}}this.moveXCrosshairs(d),o.fixedTooltip||this.moveTooltip(d,f||c.globals.gridHeight,m)}},{key:"moveStickyTooltipOverBars",value:function(a){var n=this.w,o=this.ttCtx,c=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length,d=c>=2&&c%2==0?Math.floor(c/2):Math.floor(c/2)+1;n.globals.isBarHorizontal&&(d=new ma(this.ctx).getActiveConfigSeriesIndex("desc")+1);var f=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(d,"'] path[j='").concat(a,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(a,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(a,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(a,"']")),g=f?parseFloat(f.getAttribute("cx")):0,m=f?parseFloat(f.getAttribute("cy")):0,v=f?parseFloat(f.getAttribute("barWidth")):0,w=f?parseFloat(f.getAttribute("barHeight")):0,k=o.getElGrid().getBoundingClientRect(),S=f.classList.contains("apexcharts-candlestick-area")||f.classList.contains("apexcharts-boxPlot-area");n.globals.isXNumeric?(f&&!S&&(g-=c%2!=0?v/2:0),f&&S&&n.globals.comboCharts&&(g-=v/2)):n.globals.isBarHorizontal||(g=o.xAxisTicksPositions[a-1]+o.dataPointsDividedWidth/2,isNaN(g)&&(g=o.xAxisTicksPositions[a]-o.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?(m>n.globals.gridHeight/2&&(m-=o.tooltipRect.ttHeight),(m=m+n.config.grid.padding.top+w/3)+w>n.globals.gridHeight&&(m=n.globals.gridHeight-w)):n.config.tooltip.followCursor?m=o.e.clientY-k.top-o.tooltipRect.ttHeight/2:m+o.tooltipRect.ttHeight+15>n.globals.gridHeight&&(m=n.globals.gridHeight),m<-10&&(m=-10),n.globals.isBarHorizontal||this.moveXCrosshairs(g),o.fixedTooltip||this.moveTooltip(g,m||n.globals.gridHeight)}}]),z}(),mr=function(){function z(a){He(this,z),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx,this.tooltipPosition=new dt(a)}return Xe(z,[{key:"drawDynamicPoints",value:function(){var a=this.w,n=new be(this.ctx),o=new On(this.ctx),c=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");c=xt(c),a.config.chart.stacked&&c.sort(function(k,S){return parseFloat(k.getAttribute("data:realIndex"))-parseFloat(S.getAttribute("data:realIndex"))});for(var d=0;d<c.length;d++){var f=c[d].querySelector(".apexcharts-series-markers-wrap");if(null!==f){var g=void 0,m="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(m+=" no-pointer-events");var v=o.getMarkerConfig({cssClass:m,seriesIndex:Number(f.getAttribute("data:realIndex"))});(g=n.drawMarker(0,0,v)).node.setAttribute("default-marker-size",0);var w=document.createElementNS(a.globals.SVGNS,"g");w.classList.add("apexcharts-series-markers"),w.appendChild(g.node),f.appendChild(w)}}}},{key:"enlargeCurrentPoint",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=this.w;"bubble"!==d.config.chart.type&&this.newPointSize(a,n);var f=n.getAttribute("cx"),g=n.getAttribute("cy");if(null!==o&&null!==c&&(f=o,g=c),this.tooltipPosition.moveXCrosshairs(f),!this.fixedTooltip){if("radar"===d.config.chart.type){var m=this.ttCtx.getElGrid(),v=m.getBoundingClientRect();f=this.ttCtx.e.clientX-v.left}this.tooltipPosition.moveTooltip(f,g,d.config.markers.hover.size)}}},{key:"enlargePoints",value:function(a){for(var n=this.w,o=this,c=this.ttCtx,d=a,f=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),g=n.config.markers.hover.size,m=0;m<f.length;m++){var v=f[m].getAttribute("rel"),w=f[m].getAttribute("index");if(void 0===g&&(g=n.globals.markers.size[w]+n.config.markers.hover.sizeOffset),d===parseInt(v,10)){o.newPointSize(d,f[m]);var k=f[m].getAttribute("cx"),S=f[m].getAttribute("cy");o.tooltipPosition.moveXCrosshairs(k),c.fixedTooltip||o.tooltipPosition.moveTooltip(k,S,g)}else o.oldPointSize(f[m])}}},{key:"newPointSize",value:function(a,n){var o=this.w,c=o.config.markers.hover.size,d=0===a?n.parentNode.firstChild:n.parentNode.lastChild;if("0"!==d.getAttribute("default-marker-size")){var f=parseInt(d.getAttribute("index"),10);void 0===c&&(c=o.globals.markers.size[f]+o.config.markers.hover.sizeOffset),c<0&&(c=0),d.setAttribute("r",c)}}},{key:"oldPointSize",value:function(a){var n=parseFloat(a.getAttribute("default-marker-size"));a.setAttribute("r",n)}},{key:"resetPointsSize",value:function(){for(var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),n=0;n<a.length;n++){var o=parseFloat(a[n].getAttribute("default-marker-size"));le.isNumber(o)&&o>=0?a[n].setAttribute("r",o):a[n].setAttribute("r",0)}}}]),z}(),Uc=function(){function z(a){He(this,z),this.w=a.w,this.ttCtx=a}return Xe(z,[{key:"getAttr",value:function(a,n){return parseFloat(a.target.getAttribute(n))}},{key:"handleHeatTreeTooltip",value:function(a){var n=a.e,o=a.opt,c=a.x,d=a.y,g=this.ttCtx,m=this.w;if(n.target.classList.contains("apexcharts-".concat(a.type,"-rect"))){var v=this.getAttr(n,"i"),w=this.getAttr(n,"j"),k=this.getAttr(n,"cx"),S=this.getAttr(n,"cy"),T=this.getAttr(n,"width"),_=this.getAttr(n,"height");if(g.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:v,j:w,shared:!1,e:n}),m.globals.capturedSeriesIndex=v,m.globals.capturedDataPointIndex=w,c=k+g.tooltipRect.ttWidth/2+T,d=S+g.tooltipRect.ttHeight/2-_/2,g.tooltipPosition.moveXCrosshairs(k+T/2),c>m.globals.gridWidth/2&&(c=k-g.tooltipRect.ttWidth/2+T),g.w.config.tooltip.followCursor){var I=m.globals.dom.elWrap.getBoundingClientRect();c=m.globals.clientX-I.left-(c>m.globals.gridWidth/2?g.tooltipRect.ttWidth:0),d=m.globals.clientY-I.top-(d>m.globals.gridHeight/2?g.tooltipRect.ttHeight:0)}}return{x:c,y:d}}},{key:"handleMarkerTooltip",value:function(a){var n,o,c=a.e,d=a.opt,f=a.x,g=a.y,m=this.w,v=this.ttCtx;if(c.target.classList.contains("apexcharts-marker")){var w=parseInt(d.paths.getAttribute("cx"),10),k=parseInt(d.paths.getAttribute("cy"),10),S=parseFloat(d.paths.getAttribute("val"));if(o=parseInt(d.paths.getAttribute("rel"),10),n=parseInt(d.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,v.intersect){var T=le.findAncestor(d.paths,"apexcharts-series");T&&(n=parseInt(T.getAttribute("data:realIndex"),10))}if(v.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:n,j:o,shared:!v.showOnIntersect&&m.config.tooltip.shared,e:c}),"mouseup"===c.type&&v.markerClick(c,n,o),m.globals.capturedSeriesIndex=n,m.globals.capturedDataPointIndex=o,f=w,g=k+m.globals.translateY-1.4*v.tooltipRect.ttHeight,v.w.config.tooltip.followCursor){var _=v.getElGrid().getBoundingClientRect();g=v.e.clientY+m.globals.translateY-_.top}S<0&&(g=k),v.marker.enlargeCurrentPoint(o,d.paths,f,g)}return{x:f,y:g}}},{key:"handleBarTooltip",value:function(a){var n,o,c=a.e,d=a.opt,f=this.w,g=this.ttCtx,m=g.getElTooltip(),v=0,w=0,k=0,S=this.getBarTooltipXY({e:c,opt:d}),T=S.barHeight,_=S.j;f.globals.capturedSeriesIndex=n=S.i,f.globals.capturedDataPointIndex=_,f.globals.isBarHorizontal&&g.tooltipUtil.hasBars()||!f.config.tooltip.shared?(w=S.x,k=S.y,o=Array.isArray(f.config.stroke.width)?f.config.stroke.width[n]:f.config.stroke.width,v=w):f.globals.comboCharts||f.config.tooltip.shared||(v/=2),isNaN(k)?k=f.globals.svgHeight-g.tooltipRect.ttHeight:k<0&&(k=0);var I=parseInt(d.paths.parentNode.getAttribute("data:realIndex"),10),H=f.globals.isMultipleYAxis?f.config.yaxis[I]&&f.config.yaxis[I].reversed:f.config.yaxis[0].reversed;if(w+g.tooltipRect.ttWidth>f.globals.gridWidth&&!H?w-=g.tooltipRect.ttWidth:w<0&&(w=0),g.w.config.tooltip.followCursor){var W=g.getElGrid().getBoundingClientRect();k=g.e.clientY-W.top}null===g.tooltip&&(g.tooltip=f.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),f.config.tooltip.shared||g.tooltipPosition.moveXCrosshairs(f.globals.comboBarCount>0?v+o/2:v),!g.fixedTooltip&&(!f.config.tooltip.shared||f.globals.isBarHorizontal&&g.tooltipUtil.hasBars())&&(H&&(w-=g.tooltipRect.ttWidth)<0&&(w=0),!H||f.globals.isBarHorizontal&&g.tooltipUtil.hasBars()||(k=k+T-2*(f.globals.series[n][_]<0?T:0)),g.tooltipRect.ttHeight+k>f.globals.gridHeight?k=f.globals.gridHeight-g.tooltipRect.ttHeight+f.globals.translateY:(k=k+f.globals.translateY-g.tooltipRect.ttHeight/2)<0&&(k=0),m.style.left=w+f.globals.translateX+"px",m.style.top=k+"px")}},{key:"getBarTooltipXY",value:function(a){var n=a.e,o=a.opt,c=this.w,d=null,f=this.ttCtx,g=0,m=0,v=0,w=0,k=0,S=n.target.classList;if(S.contains("apexcharts-bar-area")||S.contains("apexcharts-candlestick-area")||S.contains("apexcharts-boxPlot-area")||S.contains("apexcharts-rangebar-area")){var T=n.target,_=T.getBoundingClientRect(),I=o.elGrid.getBoundingClientRect(),H=_.height;k=_.height;var W=_.width,q=parseInt(T.getAttribute("cx"),10),V=parseInt(T.getAttribute("cy"),10);w=parseFloat(T.getAttribute("barWidth"));var x="touchmove"===n.type?n.touches[0].clientX:n.clientX;d=parseInt(T.getAttribute("j"),10),g=parseInt(T.parentNode.getAttribute("rel"),10)-1;var E=T.getAttribute("data-range-y1"),D=T.getAttribute("data-range-y2");c.globals.comboCharts&&(g=parseInt(T.parentNode.getAttribute("data:realIndex"),10)),f.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:g,j:d,y1:E?parseInt(E,10):null,y2:D?parseInt(D,10):null,shared:!f.showOnIntersect&&c.config.tooltip.shared,e:n}),c.config.tooltip.followCursor?c.globals.isBarHorizontal?(m=x-I.left+15,v=V-f.dataPointsDividedHeight+H/2-f.tooltipRect.ttHeight/2):(m=c.globals.isXNumeric?q-W/2:q-f.dataPointsDividedWidth+W/2,v=n.clientY-I.top-f.tooltipRect.ttHeight/2-15):c.globals.isBarHorizontal?((m=q)<f.xyRatios.baseLineInvertedY&&(m=q-f.tooltipRect.ttWidth),v=V-f.dataPointsDividedHeight+H/2-f.tooltipRect.ttHeight/2):(m=c.globals.isXNumeric?q-W/2:q-f.dataPointsDividedWidth+W/2,v=V)}return{x:m,y:v,barHeight:k,barWidth:w,i:g,j:d}}}]),z}(),go=function(){function z(a){He(this,z),this.w=a.w,this.ttCtx=a}return Xe(z,[{key:"drawXaxisTooltip",value:function(){var a=this.w,n=this.ttCtx,o="bottom"===a.config.xaxis.position;n.xaxisOffY=o?a.globals.gridHeight+1:-a.globals.xAxisHeight-a.config.xaxis.axisTicks.height+3;var c=o?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",d=a.globals.dom.elWrap;n.isXAxisTooltipEnabled&&null===a.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(n.xaxisTooltip=document.createElement("div"),n.xaxisTooltip.setAttribute("class",c+" apexcharts-theme-"+a.config.tooltip.theme),d.appendChild(n.xaxisTooltip),n.xaxisTooltipText=document.createElement("div"),n.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),n.xaxisTooltipText.style.fontFamily=a.config.xaxis.tooltip.style.fontFamily||a.config.chart.fontFamily,n.xaxisTooltipText.style.fontSize=a.config.xaxis.tooltip.style.fontSize,n.xaxisTooltip.appendChild(n.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var a=this.w,n=this.ttCtx,o=function(d){var f=a.config.yaxis[d].opposite||a.config.yaxis[d].crosshairs.opposite;n.yaxisOffX=f?a.globals.gridWidth+1:1;var g="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(d,f?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");a.globals.yAxisSameScaleIndices.map(function(v,w){v.map(function(k,S){S===d&&(g+=a.config.yaxis[S].show?" ":" apexcharts-yaxistooltip-hidden")})});var m=a.globals.dom.elWrap;null===a.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(d))&&(n.yaxisTooltip=document.createElement("div"),n.yaxisTooltip.setAttribute("class",g+" apexcharts-theme-"+a.config.tooltip.theme),m.appendChild(n.yaxisTooltip),0===d&&(n.yaxisTooltipText=[]),n.yaxisTooltipText[d]=document.createElement("div"),n.yaxisTooltipText[d].classList.add("apexcharts-yaxistooltip-text"),n.yaxisTooltip.appendChild(n.yaxisTooltipText[d]))},c=0;c<a.config.yaxis.length;c++)o(c)}},{key:"setXCrosshairWidth",value:function(){var a=this.w,n=this.ttCtx,o=n.getElXCrosshairs();if(n.xcrosshairsWidth=parseInt(a.config.xaxis.crosshairs.width,10),a.globals.comboCharts){var c=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==c&&"barWidth"===a.config.xaxis.crosshairs.width){var d=parseFloat(c.getAttribute("barWidth"));n.xcrosshairsWidth=d}else"tickWidth"===a.config.xaxis.crosshairs.width&&(n.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length)}else if("tickWidth"===a.config.xaxis.crosshairs.width)n.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length;else if("barWidth"===a.config.xaxis.crosshairs.width){var m=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==m){var v=parseFloat(m.getAttribute("barWidth"));n.xcrosshairsWidth=v}else n.xcrosshairsWidth=1}a.globals.isBarHorizontal&&(n.xcrosshairsWidth=0),null!==o&&n.xcrosshairsWidth>0&&o.setAttribute("width",n.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var a=this.w,n=this.ttCtx;n.ycrosshairs=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),n.ycrosshairsHidden=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(a,n,o){var c=this.ttCtx,d=this.w,f=d.globals.yLabelFormatters[a];if(c.yaxisTooltips[a]){var g=c.getElGrid().getBoundingClientRect(),w=d.globals.minYArr[a]+(d.globals.maxYArr[a]-d.globals.minYArr[a]-(n-g.top)*o.yRatio[a]);c.tooltipPosition.moveYCrosshairs(n-g.top),c.yaxisTooltipText[a].innerHTML=f(w),c.tooltipPosition.moveYAxisTooltip(a)}}}]),z}(),fo=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new aa(this),this.tooltipLabels=new Gc(this),this.tooltipPosition=new dt(this),this.marker=new mr(this),this.intersect=new Uc(this),this.axesTooltip=new go(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Xe(z,[{key:"getElTooltip",value:function(a){return a||(a=this),a.w.globals.dom.baseEl?a.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(a){var n=this.w;this.xyRatios=a,this.isXAxisTooltipEnabled=n.config.xaxis.tooltip.enabled&&n.globals.axisCharts,this.yaxisTooltips=n.config.yaxis.map(function(f,g){return!!(f.show&&f.tooltip.enabled&&n.globals.axisCharts)}),this.allTooltipSeriesGroups=[],n.globals.axisCharts||(this.showTooltipTitle=!1);var o=document.createElement("div");if(o.classList.add("apexcharts-tooltip"),n.config.tooltip.cssClass&&o.classList.add(n.config.tooltip.cssClass),o.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),n.globals.dom.elWrap.appendChild(o),n.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var c=new me(this.ctx);this.xAxisTicksPositions=c.getXAxisTicksPositions()}if(!n.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==n.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==n.config.markers.size&&0!==n.globals.markers.largestSize||this.marker.drawDynamicPoints(this),n.globals.collapsedSeries.length!==n.globals.series.length){this.dataPointsDividedHeight=n.globals.gridHeight/n.globals.dataPoints,this.dataPointsDividedWidth=n.globals.gridWidth/n.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||n.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,o.appendChild(this.tooltipTitle));var d=n.globals.series.length;(n.globals.xyCharts||n.globals.comboCharts)&&this.tConfig.shared&&(d=this.showOnIntersect?1:n.globals.series.length),this.legendLabels=n.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(d),this.addSVGEvents()}}},{key:"createTTElements",value:function(a){for(var n=this,o=this.w,c=[],d=this.getElTooltip(),f=function(m){var v=document.createElement("div");v.classList.add("apexcharts-tooltip-series-group"),v.style.order=o.config.tooltip.inverseOrder?a-m:m+1,n.tConfig.shared&&n.tConfig.enabledOnSeries&&Array.isArray(n.tConfig.enabledOnSeries)&&n.tConfig.enabledOnSeries.indexOf(m)<0&&v.classList.add("apexcharts-tooltip-series-group-hidden");var w=document.createElement("span");w.classList.add("apexcharts-tooltip-marker"),w.style.backgroundColor=o.globals.colors[m],v.appendChild(w);var k=document.createElement("div");k.classList.add("apexcharts-tooltip-text"),k.style.fontFamily=n.tConfig.style.fontFamily||o.config.chart.fontFamily,k.style.fontSize=n.tConfig.style.fontSize,["y","goals","z"].forEach(function(S){var T=document.createElement("div");T.classList.add("apexcharts-tooltip-".concat(S,"-group"));var _=document.createElement("span");_.classList.add("apexcharts-tooltip-text-".concat(S,"-label")),T.appendChild(_);var I=document.createElement("span");I.classList.add("apexcharts-tooltip-text-".concat(S,"-value")),T.appendChild(I),k.appendChild(T)}),v.appendChild(k),d.appendChild(v),c.push(v)},g=0;g<a;g++)f(g);return c}},{key:"addSVGEvents",value:function(){var a=this.w,n=a.config.chart.type,o=this.getElTooltip(),c=!("bar"!==n&&"candlestick"!==n&&"boxPlot"!==n&&"rangeBar"!==n),d="area"===n||"line"===n||"scatter"===n||"bubble"===n||"radar"===n,f=a.globals.dom.Paper.node,g=this.getElGrid();g&&(this.seriesBound=g.getBoundingClientRect());var m,v=[],w=[],k={hoverArea:f,elGrid:g,tooltipEl:o,tooltipY:v,tooltipX:w,ttItems:this.ttItems};if(a.globals.axisCharts&&(d?m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):c?m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==n&&"treemap"!==n||(m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),m&&m.length))for(var S=0;S<m.length;S++)v.push(m[S].getAttribute("cy")),w.push(m[S].getAttribute("cx"));if(a.globals.xyCharts&&!this.showOnIntersect||a.globals.comboCharts&&!this.showOnIntersect||c&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([f],k);else if(c&&!a.globals.comboCharts||d&&this.showOnIntersect)this.addDatapointEventsListeners(k);else if(!a.globals.axisCharts||"heatmap"===n||"treemap"===n){var T=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(T,k)}if(this.showOnIntersect){var _=a.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");_.length>0&&this.addPathsEventListeners(_,k),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(k)}}},{key:"drawFixedTooltipRect",value:function(){var a=this.w,n=this.getElTooltip(),o=n.getBoundingClientRect(),c=o.width+10,d=o.height+10,f=this.tConfig.fixed.offsetX,g=this.tConfig.fixed.offsetY,m=this.tConfig.fixed.position.toLowerCase();return m.indexOf("right")>-1&&(f=f+a.globals.svgWidth-c+10),m.indexOf("bottom")>-1&&(g=g+a.globals.svgHeight-d-10),n.style.left=f+"px",n.style.top=g+"px",{x:f,y:g,ttWidth:c,ttHeight:d}}},{key:"addDatapointEventsListeners",value:function(a){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(n,a)}},{key:"addPathsEventListeners",value:function(a,n){for(var o=this,c=function(f){var g={paths:a[f],tooltipEl:n.tooltipEl,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:n.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(m){return a[f].addEventListener(m,o.onSeriesHover.bind(o,g),{capture:!1,passive:!0})})},d=0;d<a.length;d++)c(d)}},{key:"onSeriesHover",value:function(a,n){var o=this,c=Date.now()-this.lastHoverTime;c>=100?this.seriesHover(a,n):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){o.seriesHover(a,n)},100-c))}},{key:"seriesHover",value:function(a,n){var o=this;this.lastHoverTime=Date.now();var c=[],d=this.w;d.config.chart.group&&(c=this.ctx.getGroupedCharts()),d.globals.axisCharts&&(d.globals.minX===-1/0&&d.globals.maxX===1/0||0===d.globals.dataPoints)||(c.length?c.forEach(function(f){var g=o.getElTooltip(f);f.w.globals.minX===o.w.globals.minX&&f.w.globals.maxX===o.w.globals.maxX&&f.w.globals.tooltip.seriesHoverByContext({chartCtx:f,ttCtx:f.w.globals.tooltip,opt:{paths:a.paths,tooltipEl:g,tooltipY:a.tooltipY,tooltipX:a.tooltipX,elGrid:a.elGrid,hoverArea:a.hoverArea,ttItems:f.w.globals.tooltip.ttItems},e:n})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:a,e:n}))}},{key:"seriesHoverByContext",value:function(a){var n=a.chartCtx,o=a.ttCtx,c=a.opt,d=a.e,f=n.w,g=this.getElTooltip();g&&(o.tooltipRect={x:0,y:0,ttWidth:g.getBoundingClientRect().width,ttHeight:g.getBoundingClientRect().height},o.e=d,o.tooltipUtil.hasBars()&&!f.globals.comboCharts&&!o.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ma(n).toggleSeriesOnHover(d,d.target.parentNode),o.fixedTooltip&&o.drawFixedTooltipRect(),f.globals.axisCharts?o.axisChartsTooltips({e:d,opt:c,tooltipRect:o.tooltipRect}):o.nonAxisChartsTooltips({e:d,opt:c,tooltipRect:o.tooltipRect}))}},{key:"axisChartsTooltips",value:function(a){var n,o,c=a.e,d=a.opt,f=this.w,g=d.elGrid.getBoundingClientRect(),m="touchmove"===c.type?c.touches[0].clientX:c.clientX,v="touchmove"===c.type?c.touches[0].clientY:c.clientY;if(this.clientY=v,this.clientX=m,f.globals.capturedSeriesIndex=-1,f.globals.capturedDataPointIndex=-1,v<g.top||v>g.top+g.height)this.handleMouseOut(d);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!f.config.tooltip.shared){var w=parseInt(d.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(w)<0)return void this.handleMouseOut(d)}var k=this.getElTooltip(),S=this.getElXCrosshairs(),T=f.globals.xyCharts||"bar"===f.config.chart.type&&!f.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||f.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===c.type||"touchmove"===c.type||"mouseup"===c.type){if(f.globals.collapsedSeries.length+f.globals.ancillaryCollapsedSeries.length===f.globals.series.length)return;null!==S&&S.classList.add("apexcharts-active");var _=this.yaxisTooltips.filter(function(W){return!0===W});if(null!==this.ycrosshairs&&_.length&&this.ycrosshairs.classList.add("apexcharts-active"),T&&!this.showOnIntersect)this.handleStickyTooltip(c,m,v,d);else if("heatmap"===f.config.chart.type||"treemap"===f.config.chart.type){var I=this.intersect.handleHeatTreeTooltip({e:c,opt:d,x:n,y:o,type:f.config.chart.type});o=I.y,k.style.left=(n=I.x)+"px",k.style.top=o+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:c,opt:d}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:c,opt:d,x:n,y:o});if(this.yaxisTooltips.length)for(var H=0;H<f.config.yaxis.length;H++)this.axesTooltip.drawYaxisTooltipText(H,v,this.xyRatios);d.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==c.type&&"touchend"!==c.type||this.handleMouseOut(d)}}},{key:"nonAxisChartsTooltips",value:function(a){var n=a.e,o=a.opt,c=a.tooltipRect,d=this.w,f=o.paths.getAttribute("rel"),g=this.getElTooltip(),m=d.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===n.type||"touchmove"===n.type){g.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:parseInt(f,10)-1,shared:!1});var w=d.globals.clientY-m.top-c.ttHeight-10;if(g.style.left=d.globals.clientX-m.left-c.ttWidth/2+"px",g.style.top=w+"px",d.config.legend.tooltipHoverFormatter){var k=f-1,S=(0,d.config.legend.tooltipHoverFormatter)(this.legendLabels[k].getAttribute("data:default-text"),{seriesIndex:k,dataPointIndex:k,w:d});this.legendLabels[k].innerHTML=S}}else"mouseout"!==n.type&&"touchend"!==n.type||(g.classList.remove("apexcharts-active"),d.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(T){var _=T.getAttribute("data:default-text");T.innerHTML=decodeURIComponent(_)}))}},{key:"handleStickyTooltip",value:function(a,n,o,c){var d=this.w,f=this.tooltipUtil.getNearestValues({context:this,hoverArea:c.hoverArea,elGrid:c.elGrid,clientX:n,clientY:o}),g=f.j,m=f.capturedSeries,v=c.elGrid.getBoundingClientRect();f.hoverX<0||f.hoverX>v.width?this.handleMouseOut(c):null!==m?this.handleStickyCapturedSeries(a,m,c,g):(this.tooltipUtil.isXoverlap(g)||d.globals.isBarHorizontal)&&this.create(a,this,0,g,c.ttItems)}},{key:"handleStickyCapturedSeries",value:function(a,n,o,c){var d=this.w;this.tConfig.shared||null!==d.globals.series[n][c]?void 0!==d.globals.series[n][c]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(c)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(a,this,n,c,o.ttItems):this.create(a,this,n,c,o.ttItems,!1):this.tooltipUtil.isXoverlap(c)&&this.create(a,this,0,c,o.ttItems):this.handleMouseOut(o)}},{key:"deactivateHoverFilter",value:function(){for(var a=this.w,n=new be(this.ctx),o=a.globals.dom.Paper.select(".apexcharts-bar-area"),c=0;c<o.length;c++)n.pathMouseLeave(o[c])}},{key:"handleMouseOut",value:function(a){var n=this.w,o=this.getElXCrosshairs();if(a.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==n.config.chart.type&&this.marker.resetPointsSize(),null!==o&&o.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var c=0;c<this.yaxisTTEls.length;c++)this.yaxisTTEls[c].classList.remove("apexcharts-active")}n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(d){var f=d.getAttribute("data:default-text");d.innerHTML=decodeURIComponent(f)})}},{key:"markerClick",value:function(a,n,o){var c=this.w;"function"==typeof c.config.chart.events.markerClick&&c.config.chart.events.markerClick(a,this.ctx,{seriesIndex:n,dataPointIndex:o,w:c}),this.ctx.events.fireEvent("markerClick",[a,this.ctx,{seriesIndex:n,dataPointIndex:o,w:c}])}},{key:"create",value:function(a,n,o,c,d){var f,g,m,v,w,k,S,T,_,I,H,W,q,V,x,E,D=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,F=this.w,j=n;"mouseup"===a.type&&this.markerClick(a,o,c),null===D&&(D=this.tConfig.shared);var oe=this.tooltipUtil.hasMarkers(),ae=this.tooltipUtil.getElBars();if(F.config.legend.tooltipHoverFormatter){var ye=F.config.legend.tooltipHoverFormatter,xe=Array.from(this.legendLabels);xe.forEach(function(at){var Ii=at.getAttribute("data:default-text");at.innerHTML=decodeURIComponent(Ii)});for(var Le=0;Le<xe.length;Le++){var Pe=xe[Le],Je=parseInt(Pe.getAttribute("i"),10),ot=decodeURIComponent(Pe.getAttribute("data:default-text")),ht=ye(ot,{seriesIndex:D?Je:o,dataPointIndex:c,w:F});if(D)Pe.innerHTML=F.globals.collapsedSeriesIndices.indexOf(Je)<0?ht:ot;else if(Pe.innerHTML=Je===o?ht:ot,o===Je)break}}var ut=ze(ze({ttItems:d,i:o,j:c},void 0!==(null===(f=F.globals.seriesRange)||void 0===f||null===(g=f[o])||void 0===g||null===(m=g[c])||void 0===m||null===(v=m.y[0])||void 0===v?void 0:v.y1)&&{y1:null===(w=F.globals.seriesRange)||void 0===w||null===(k=w[o])||void 0===k||null===(S=k[c])||void 0===S||null===(T=S.y[0])||void 0===T?void 0:T.y1}),void 0!==(null===(_=F.globals.seriesRange)||void 0===_||null===(I=_[o])||void 0===I||null===(H=I[c])||void 0===H||null===(W=H.y[0])||void 0===W?void 0:W.y2)&&{y2:null===(q=F.globals.seriesRange)||void 0===q||null===(V=q[o])||void 0===V||null===(x=V[c])||void 0===x||null===(E=x.y[0])||void 0===E?void 0:E.y2});if(D){if(j.tooltipLabels.drawSeriesTexts(ze(ze({},ut),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),oe&&(F.globals.markers.largestSize>0?j.marker.enlargePoints(c):j.tooltipPosition.moveDynamicPointsOnHover(c)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(ae),this.barSeriesHeight>0)){var wt=new be(this.ctx),St=F.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(c,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(c);for(var ca=0;ca<St.length;ca++)wt.pathMouseEnter(St[ca])}}else j.tooltipLabels.drawSeriesTexts(ze({shared:!1},ut)),this.tooltipUtil.hasBars()&&j.tooltipPosition.moveStickyTooltipOverBars(c),oe&&j.tooltipPosition.moveMarkers(o,c)}}]),z}(),Pi=function(){function z(a){He(this,z),this.w=a.w,this.barCtx=a,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Xe(z,[{key:"handleBarDataLabels",value:function(a){var n=a.x,o=a.y,c=a.y1,d=a.y2,f=a.i,g=a.j,m=a.realIndex,v=a.series,w=a.barHeight,k=a.barWidth,S=a.barYPosition,T=a.visibleSeries,_=a.renderedPath,I=this.w,H=new be(this.barCtx.ctx),W=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[m]:this.barCtx.strokeWidth,q=n+parseFloat(k*T),V=o+parseFloat(w*T);I.globals.isXNumeric&&!I.globals.isBarHorizontal&&(q=n+parseFloat(k*(T+1)),V=o+parseFloat(w*(T+1))-W);var x,j,E=null,D=n,F=o,oe=I.config.dataLabels,ae=this.barCtx.barOptions.dataLabels,ye=this.barCtx.barOptions.dataLabels.total;void 0!==S&&this.barCtx.isRangeBar&&(V=S,F=S);var xe=oe.offsetX,Le=oe.offsetY,Pe={width:0,height:0};I.config.dataLabels.enabled&&(Pe=H.getTextRects(I.globals.yLabelFormatters[0](this.barCtx.series[f][g]),parseFloat(oe.style.fontSize)));var ot={x:n,y:o,i:f,j:g,realIndex:m,renderedPath:_,bcx:q,bcy:V,barHeight:w,barWidth:k,textRects:Pe,strokeWidth:W,dataLabelsX:D,dataLabelsY:F,dataLabelsConfig:oe,barDataLabelsConfig:ae,barTotalDataLabelsConfig:ye,offX:xe,offY:Le};return j=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(ot):this.calculateColumnsDataLabelsPosition(ot),_.attr({cy:j.bcy,cx:j.bcx,j:g,val:v[f][g],barHeight:w,barWidth:k}),x=this.drawCalculatedDataLabels({x:j.dataLabelsX,y:j.dataLabelsY,val:this.barCtx.isRangeBar?[c,d]:v[f][g],i:m,j:g,barWidth:k,barHeight:w,textRects:Pe,dataLabelsConfig:oe}),I.config.chart.stacked&&ye.enabled&&(E=this.drawTotalDataLabels({x:j.totalDataLabelsX,y:j.totalDataLabelsY,realIndex:m,textAnchor:j.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:m,j:g}),dataLabelsConfig:oe,barTotalDataLabelsConfig:ye})),{dataLabels:x,totalDataLabels:E}}},{key:"getStackedTotalDataLabel",value:function(a){var n=a.realIndex,o=a.j,c=this.w,d=this.barCtx.stackedSeriesTotals[o];return this.totalFormatter&&(d=this.totalFormatter(d,ze(ze({},c),{},{seriesIndex:n,dataPointIndex:o,w:c}))),d}},{key:"calculateColumnsDataLabelsPosition",value:function(a){var n,o,c,d=this.w,f=a.i,g=a.j,m=a.realIndex,v=a.y,w=a.bcx,k=a.barWidth,S=a.barHeight,T=a.textRects,_=a.dataLabelsY,I=a.dataLabelsConfig,H=a.barDataLabelsConfig,W=a.barTotalDataLabelsConfig,q=a.strokeWidth,V=a.offX,x=a.offY;S=Math.abs(S);var E="vertical"===d.config.plotOptions.bar.dataLabels.orientation;w-=q/2,n=d.globals.isXNumeric?w-k/2+V:w-d.globals.gridWidth/d.globals.dataPoints+k/2+V,E&&(n=n+T.height/2-q/2-2);var F=this.barCtx.series[f][g]<0,j=v;switch(this.barCtx.isReversed&&(j=v-S+(F?2*S:0),v-=S),H.position){case"center":_=E?F?j+S/2+x:j+S/2-x:F?j-S/2+T.height/2+x:j+S/2+T.height/2-x;break;case"bottom":_=E?F?j+S+x:j+S-x:F?j-S+T.height+q+x:j+S-T.height/2+q-x;break;case"top":_=E?F?j+x:j-x:F?j-T.height/2-x:j+T.height+x}if(this.barCtx.lastActiveBarSerieIndex===m&&W.enabled){var oe=new be(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:m,j:g}),I.fontSize);o=F?j-oe.height/2-x-W.offsetY+18:j+oe.height+x+W.offsetY-18,c=n+W.offsetX}return d.config.chart.stacked||(_<0?_=0+q:_+T.height/3>d.globals.gridHeight&&(_=d.globals.gridHeight-q)),{bcx:w,bcy:v,dataLabelsX:n,dataLabelsY:_,totalDataLabelsX:c,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(a){var n=this.w,o=a.x,c=a.i,d=a.j,f=a.realIndex,g=a.bcy,m=a.barHeight,v=a.barWidth,w=a.textRects,k=a.dataLabelsX,S=a.strokeWidth,T=a.dataLabelsConfig,_=a.barDataLabelsConfig,I=a.barTotalDataLabelsConfig,H=a.offX,W=a.offY,q=n.globals.gridHeight/n.globals.dataPoints;v=Math.abs(v);var V,x,E=g-(this.barCtx.isRangeBar?0:q)+m/2+w.height/2+W-3,D="start",F=this.barCtx.series[c][d]<0,j=o;switch(this.barCtx.isReversed&&(j=o+v-(F?2*v:0),o=n.globals.gridWidth-v),_.position){case"center":k=F?j+v/2-H:Math.max(w.width/2,j-v/2)+H;break;case"bottom":k=F?j+v-S-Math.round(w.width/2)-H:j-v+S+Math.round(w.width/2)+H;break;case"top":k=F?j-S+Math.round(w.width/2)-H:j-S-Math.round(w.width/2)+H}if(this.barCtx.lastActiveBarSerieIndex===f&&I.enabled){var oe=new be(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:f,j:d}),T.fontSize);F?(V=j-S+Math.round(oe.width/2)-H-I.offsetX-15,D="end"):V=j-S-Math.round(oe.width/2)+H+I.offsetX+15,x=E+I.offsetY}return n.config.chart.stacked||(k<0?k=k+w.width+S:k+w.width/2>n.globals.gridWidth&&(k=n.globals.gridWidth-w.width-S)),{bcx:o,bcy:g,dataLabelsX:k,dataLabelsY:E,totalDataLabelsX:V,totalDataLabelsY:x,totalDataLabelsAnchor:D}}},{key:"drawCalculatedDataLabels",value:function(a){var n=a.x,o=a.y,c=a.val,d=a.i,f=a.j,g=a.textRects,m=a.barHeight,v=a.barWidth,w=a.dataLabelsConfig,k=this.w,S="rotate(0)";"vertical"===k.config.plotOptions.bar.dataLabels.orientation&&(S="rotate(-90, ".concat(n,", ").concat(o,")"));var T=new ei(this.barCtx.ctx),_=new be(this.barCtx.ctx),I=w.formatter,H=null,W=k.globals.collapsedSeriesIndices.indexOf(d)>-1;if(w.enabled&&!W){H=_.group({class:"apexcharts-data-labels",transform:S});var q="";void 0!==c&&(q=I(c,ze(ze({},k),{},{seriesIndex:d,dataPointIndex:f,w:k})));var V=k.globals.series[d][f]<0,x=k.config.plotOptions.bar.dataLabels.position;"vertical"===k.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(w.textAnchor=V?"end":"start"),"center"===x&&(w.textAnchor="middle"),"bottom"===x&&(w.textAnchor=V?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&v<_.getTextRects(q,parseFloat(w.style.fontSize)).width&&(q=""),k.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?g.width/1.6>Math.abs(v)&&(q=""):g.height/1.6>Math.abs(m)&&(q=""));var E=ze({},w);this.barCtx.isHorizontal&&c<0&&("start"===w.textAnchor?E.textAnchor="end":"end"===w.textAnchor&&(E.textAnchor="start")),T.plotDataLabelsText({x:n,y:o,text:q,i:d,j:f,parent:H,dataLabelsConfig:E,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return H}},{key:"drawTotalDataLabels",value:function(a){var n,o=a.x,c=a.y,d=a.val,f=a.realIndex,g=a.textAnchor,m=a.barTotalDataLabelsConfig,v=new be(this.barCtx.ctx);return m.enabled&&void 0!==o&&void 0!==c&&this.barCtx.lastActiveBarSerieIndex===f&&(n=v.drawText({x:o,y:c,foreColor:m.style.color,text:d,textAnchor:g,fontFamily:m.style.fontFamily,fontSize:m.style.fontSize,fontWeight:m.style.fontWeight})),n}}]),z}(),po=function(){function z(a){He(this,z),this.w=a.w,this.barCtx=a}return Xe(z,[{key:"initVariables",value:function(a){var n=this.w;this.barCtx.series=a,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var o=0;o<a.length;o++)if(a[o].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=a[o].length),n.globals.isXNumeric)for(var c=0;c<a[o].length;c++)n.globals.seriesX[o][c]>n.globals.minX&&n.globals.seriesX[o][c]<n.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=n.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=a.length-1,n.globals.comboCharts||this.checkZeroSeries({series:a})}},{key:"initialPositions",value:function(){var a,n,o,c,d,f,g,m,v=this.w,w=v.globals.dataPoints;this.barCtx.isRangeBar&&(w=v.globals.labels.length);var k=this.barCtx.seriesLen;if(v.config.plotOptions.bar.rangeBarGroupRows&&(k=1),this.barCtx.isHorizontal)d=(o=v.globals.gridHeight/w)/k,v.globals.isXNumeric&&(d=(o=v.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),d=d*parseInt(this.barCtx.barOptions.barHeight,10)/100,m=this.barCtx.baseLineInvertedY+v.globals.padHorizontal+(this.barCtx.isReversed?v.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),n=(o-d*this.barCtx.seriesLen)/2;else{if(c=v.globals.gridWidth/this.barCtx.visibleItems,v.config.xaxis.convertedCatToNumeric&&(c=v.globals.gridWidth/v.globals.dataPoints),f=c/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,v.globals.isXNumeric){var S=this.barCtx.xRatio;v.config.xaxis.convertedCatToNumeric&&(S=this.barCtx.initialXRatio),v.globals.minXDiff&&.5!==v.globals.minXDiff&&v.globals.minXDiff/S>0&&(c=v.globals.minXDiff/S),(f=c/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(f=1)}g=v.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?v.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),a=v.globals.padHorizontal+(c-f*this.barCtx.seriesLen)/2}return{x:a,y:n,yDivision:o,xDivision:c,barHeight:d,barWidth:f,zeroH:g,zeroW:m}}},{key:"getPathFillColor",value:function(a,n,o,c){var d,f,g,m,v=this.w,w=new X(this.barCtx.ctx),k=null,S=this.barCtx.barOptions.distributed?o:n;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(T){a[n][o]>=T.from&&a[n][o]<=T.to&&(k=T.color)}),v.config.series[n].data[o]&&v.config.series[n].data[o].fillColor&&(k=v.config.series[n].data[o].fillColor),w.fillPath({seriesNumber:this.barCtx.barOptions.distributed?S:c,dataPointIndex:o,color:k,value:a[n][o],fillConfig:null===(d=v.config.series[n].data[o])||void 0===d?void 0:d.fill,fillType:null!==(f=v.config.series[n].data[o])&&void 0!==f&&null!==(g=f.fill)&&void 0!==g&&g.type?null===(m=v.config.series[n].data[o])||void 0===m?void 0:m.fill.type:v.config.fill.type})}},{key:"getStrokeWidth",value:function(a,n,o){var c=0,d=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[a][n],d.config.stroke.show&&(this.barCtx.isNullValue||(c=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth)),c}},{key:"shouldApplyRadius",value:function(a){var n=this.w,o=!1;return n.config.plotOptions.bar.borderRadius>0&&(n.config.chart.stacked&&"last"===n.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===a&&(o=!0):o=!0),o}},{key:"barBackground",value:function(a){var n=a.j,o=a.i,c=a.x1,d=a.x2,f=a.y1,g=a.y2,m=a.elSeries,v=this.w,w=new be(this.barCtx.ctx),k=new ma(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&k===o){n>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(n%=this.barCtx.barOptions.colors.backgroundBarColors.length);var T=w.drawRect(void 0!==c?c:0,void 0!==f?f:0,void 0!==d?d:v.globals.gridWidth,void 0!==g?g:v.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[n],this.barCtx.barOptions.colors.backgroundBarOpacity);m.add(T),T.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(a){var n,o=a.barWidth,c=a.barXPosition,d=a.y1,f=a.y2,g=a.strokeWidth,m=a.realIndex,v=a.i,w=a.j,k=a.w,S=new be(this.barCtx.ctx);(g=Array.isArray(g)?g[m]:g)||(g=0);var T=o,_=c;null!==(n=k.config.series[m].data[w])&&void 0!==n&&n.columnWidthOffset&&(_=c-k.config.series[m].data[w].columnWidthOffset/2,T=o+k.config.series[m].data[w].columnWidthOffset);var I=_,H=_+T;f+=.001;var W=S.move(I,d+=.001),q=S.move(I,d),V=S.line(H-g,d);return k.globals.previousPaths.length>0&&(q=this.barCtx.getPreviousPath(m,w,!1)),W=W+S.line(I,f)+S.line(H-g,f)+S.line(H-g,d)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),q=q+S.line(I,d)+V+V+V+V+V+S.line(I,d)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(m)&&(W=S.roundPathCorners(W,k.config.plotOptions.bar.borderRadius)),k.config.chart.stacked&&(this.barCtx.yArrj.push(f),this.barCtx.yArrjF.push(Math.abs(d-f)),this.barCtx.yArrjVal.push(this.barCtx.series[v][w])),{pathTo:W,pathFrom:q}}},{key:"getBarpaths",value:function(a){var n,o=a.barYPosition,c=a.barHeight,d=a.x1,f=a.x2,g=a.strokeWidth,m=a.realIndex,v=a.i,w=a.j,k=a.w,S=new be(this.barCtx.ctx);(g=Array.isArray(g)?g[m]:g)||(g=0);var T=o,_=c;null!==(n=k.config.series[m].data[w])&&void 0!==n&&n.barHeightOffset&&(T=o-k.config.series[m].data[w].barHeightOffset/2,_=c+k.config.series[m].data[w].barHeightOffset);var I=T,H=T+_;f+=.001;var W=S.move(d+=.001,I),q=S.move(d,I);k.globals.previousPaths.length>0&&(q=this.barCtx.getPreviousPath(m,w,!1));var V=S.line(d,H-g);return W=W+S.line(f,I)+S.line(f,H-g)+V+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),q=q+S.line(d,I)+V+V+V+V+V+S.line(d,I)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(m)&&(W=S.roundPathCorners(W,k.config.plotOptions.bar.borderRadius)),k.config.chart.stacked&&(this.barCtx.xArrj.push(f),this.barCtx.xArrjF.push(Math.abs(d-f)),this.barCtx.xArrjVal.push(this.barCtx.series[v][w])),{pathTo:W,pathFrom:q}}},{key:"checkZeroSeries",value:function(a){for(var n=a.series,o=this.w,c=0;c<n.length;c++){for(var d=0,f=0;f<n[o.globals.maxValsInArrayIndex].length;f++)d+=n[c][f];0===d&&this.barCtx.zeroSerieses.push(c)}for(var g=n.length-1;g>=0;g--)this.barCtx.zeroSerieses.indexOf(g)>-1&&g===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var m=n.length-1;m>=0;m--)o.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(a,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=o?n:null;return null!=a&&(c=n+a/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?a/this.barCtx.invertedYRatio:0)),c}},{key:"getYForValue",value:function(a,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=o?n:null;return null!=a&&(c=n-a/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?a/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),c}},{key:"getGoalValues",value:function(a,n,o,c,d){var f=this,g=this.w,m=[];return g.globals.seriesGoals[c]&&g.globals.seriesGoals[c][d]&&Array.isArray(g.globals.seriesGoals[c][d])&&g.globals.seriesGoals[c][d].forEach(function(v){var w;m.push((pr(w={},a,"x"===a?f.getXForValue(v.value,n,!1):f.getYForValue(v.value,o,!1)),pr(w,"attrs",v),w))}),m}},{key:"drawGoalLine",value:function(a){var n=a.barXPosition,o=a.barYPosition,c=a.goalX,d=a.goalY,f=a.barWidth,g=a.barHeight,m=new be(this.barCtx.ctx),v=m.group({className:"apexcharts-bar-goals-groups"}),w=null;return this.barCtx.isHorizontal?Array.isArray(c)&&c.forEach(function(k){var S=void 0!==k.attrs.strokeHeight?k.attrs.strokeHeight:g/2,T=o+S+g/2;w=m.drawLine(k.x,T-2*S,k.x,T,k.attrs.strokeColor?k.attrs.strokeColor:void 0,k.attrs.strokeDashArray,k.attrs.strokeWidth?k.attrs.strokeWidth:2,k.attrs.strokeLineCap),v.add(w)}):Array.isArray(d)&&d.forEach(function(k){var S=void 0!==k.attrs.strokeWidth?k.attrs.strokeWidth:f/2,T=n+S+f/2;w=m.drawLine(T-2*S,k.y,T,k.y,k.attrs.strokeColor?k.attrs.strokeColor:void 0,k.attrs.strokeDashArray,k.attrs.strokeHeight?k.attrs.strokeHeight:2,k.attrs.strokeLineCap),v.add(w)}),v}}]),z}(),gn=function(){function z(a,n){He(this,z),this.ctx=a,this.w=a.w;var o=this.w;this.barOptions=o.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=o.config.stroke.width,this.isNullValue=!1,this.isRangeBar=o.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=n,null!==this.xyRatios&&(this.xRatio=n.xRatio,this.initialXRatio=n.initialXRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var c=new ma(this.ctx);this.lastActiveBarSerieIndex=c.getActiveConfigSeriesIndex("desc",["bar","column"]);var d=c.getBarSeriesIndices(),f=new Ce(this.ctx);this.stackedSeriesTotals=f.getStackedSeriesTotals(this.w.config.series.map(function(g,m){return-1===d.indexOf(m)?m:-1}).filter(function(g){return-1!==g})),this.barHelpers=new po(this)}return Xe(z,[{key:"draw",value:function(a,n){var o=this.w,c=new be(this.ctx),d=new Ce(this.ctx,o);a=d.getLogSeries(a),this.series=a,this.yRatio=d.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);var f=c.group({class:"apexcharts-bar-series apexcharts-plot-series"});o.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var g=0,m=0;g<a.length;g++,m++){var v,w,k,S,T=void 0,_=void 0,I=[],H=[],W=o.globals.comboCharts?n[g]:g,q=c.group({class:"apexcharts-series",rel:g+1,seriesName:le.escapeString(o.globals.seriesNames[W]),"data:realIndex":W});this.ctx.series.addCollapsedClassToSeries(q,W),a[g].length>0&&(this.visibleI=this.visibleI+1);var V=0,x=0;this.yRatio.length>1&&(this.yaxisIndex=W),this.isReversed=o.config.yaxis[this.yaxisIndex]&&o.config.yaxis[this.yaxisIndex].reversed;var E=this.barHelpers.initialPositions();_=E.y,V=E.barHeight,w=E.yDivision,S=E.zeroW,T=E.x,x=E.barWidth,v=E.xDivision,k=E.zeroH,this.horizontal||H.push(T+x/2);for(var D=c.group({class:"apexcharts-datalabels","data:realIndex":W}),F=c.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),j=0;j<o.globals.dataPoints;j++){var oe=this.barHelpers.getStrokeWidth(g,j,W),ae=null,ye={indexes:{i:g,j,realIndex:W,bc:m},x:T,y:_,strokeWidth:oe,elSeries:q};this.isHorizontal?(ae=this.drawBarPaths(ze(ze({},ye),{},{barHeight:V,zeroW:S,yDivision:w})),x=this.series[g][j]/this.invertedYRatio):(ae=this.drawColumnPaths(ze(ze({},ye),{},{xDivision:v,barWidth:x,zeroH:k})),V=this.series[g][j]/this.yRatio[this.yaxisIndex]);var xe=this.barHelpers.drawGoalLine({barXPosition:ae.barXPosition,barYPosition:ae.barYPosition,goalX:ae.goalX,goalY:ae.goalY,barHeight:V,barWidth:x});xe&&F.add(xe),_=ae.y,T=ae.x,j>0&&H.push(T+x/2),I.push(_);var Le=this.barHelpers.getPathFillColor(a,g,j,W);this.renderSeries({realIndex:W,pathFill:Le,j,i:g,pathFrom:ae.pathFrom,pathTo:ae.pathTo,strokeWidth:oe,elSeries:q,x:T,y:_,series:a,barHeight:V,barWidth:x,elDataLabelsWrap:D,elGoalsMarkers:F,visibleSeries:this.visibleI,type:"bar"})}o.globals.seriesXvalues[W]=H,o.globals.seriesYvalues[W]=I,f.add(q)}return f}},{key:"renderSeries",value:function(a){var n=a.realIndex,o=a.pathFill,c=a.lineFill,d=a.j,f=a.i,g=a.pathFrom,m=a.pathTo,v=a.strokeWidth,w=a.elSeries,k=a.x,S=a.y,T=a.y1,_=a.y2,I=a.series,H=a.barHeight,W=a.barWidth,q=a.barYPosition,V=a.elDataLabelsWrap,x=a.elGoalsMarkers,E=a.visibleSeries,D=a.type,F=this.w,j=new be(this.ctx);c||(c=this.barOptions.distributed?F.globals.stroke.colors[d]:F.globals.stroke.colors[n]),F.config.series[f].data[d]&&F.config.series[f].data[d].strokeColor&&(c=F.config.series[f].data[d].strokeColor),this.isNullValue&&(o="none");var ae=j.renderPaths({i:f,j:d,realIndex:n,pathFrom:g,pathTo:m,stroke:c,strokeWidth:v,strokeLineCap:F.config.stroke.lineCap,fill:o,animationDelay:d/F.config.chart.animations.animateGradually.delay*(F.config.chart.animations.speed/F.globals.dataPoints)/2.4,initialSpeed:F.config.chart.animations.speed,dataChangeSpeed:F.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(D,"-area")});ae.attr("clip-path","url(#gridRectMask".concat(F.globals.cuid,")"));var ye=F.config.forecastDataPoints;ye.count>0&&d>=F.globals.dataPoints-ye.count&&(ae.node.setAttribute("stroke-dasharray",ye.dashArray),ae.node.setAttribute("stroke-width",ye.strokeWidth),ae.node.setAttribute("fill-opacity",ye.fillOpacity)),void 0!==T&&void 0!==_&&(ae.attr("data-range-y1",T),ae.attr("data-range-y2",_)),new ft(this.ctx).setSelectionFilter(ae,n,d),w.add(ae);var xe=new Pi(this).handleBarDataLabels({x:k,y:S,y1:T,y2:_,i:f,j:d,series:I,realIndex:n,barHeight:H,barWidth:W,barYPosition:q,renderedPath:ae,visibleSeries:E});return null!==xe.dataLabels&&V.add(xe.dataLabels),xe.totalDataLabels&&V.add(xe.totalDataLabels),w.add(V),x&&w.add(x),w}},{key:"drawBarPaths",value:function(a){var f,n=a.indexes,o=a.barHeight,c=a.strokeWidth,d=a.zeroW,g=a.y,m=a.yDivision,v=a.elSeries,w=this.w,k=n.i,S=n.j;w.globals.isXNumeric&&(g=(w.globals.seriesX[k][S]-w.globals.minX)/this.invertedXRatio-o);var T=g+o*this.visibleI;f=this.barHelpers.getXForValue(this.series[k][S],d);var _=this.barHelpers.getBarpaths({barYPosition:T,barHeight:o,x1:d,x2:f,strokeWidth:c,series:this.series,realIndex:n.realIndex,i:k,j:S,w});return w.globals.isXNumeric||(g+=m),this.barHelpers.barBackground({j:S,i:k,y1:T-o*this.visibleI,y2:o*this.seriesLen,elSeries:v}),{pathTo:_.pathTo,pathFrom:_.pathFrom,x:f,y:g,goalX:this.barHelpers.getGoalValues("x",d,null,k,S),barYPosition:T}}},{key:"drawColumnPaths",value:function(a){var c,n=a.indexes,o=a.x,d=a.xDivision,f=a.barWidth,g=a.zeroH,m=a.strokeWidth,v=a.elSeries,w=this.w,k=n.realIndex,S=n.i,T=n.j,_=n.bc;if(w.globals.isXNumeric){var I=k;w.globals.seriesX[k].length||(I=w.globals.maxValsInArrayIndex),w.globals.seriesX[I][T]&&(o=(w.globals.seriesX[I][T]-w.globals.minX)/this.xRatio-f*this.seriesLen/2)}var H=o+f*this.visibleI;c=this.barHelpers.getYForValue(this.series[S][T],g);var W=this.barHelpers.getColumnPaths({barXPosition:H,barWidth:f,y1:g,y2:c,strokeWidth:m,series:this.series,realIndex:n.realIndex,i:S,j:T,w});return w.globals.isXNumeric||(o+=d),this.barHelpers.barBackground({bc:_,j:T,i:S,x1:H-m/2-f*this.visibleI,x2:f*this.seriesLen+m/2,elSeries:v}),{pathTo:W.pathTo,pathFrom:W.pathFrom,x:o,y:c,goalY:this.barHelpers.getGoalValues("y",null,g,S,T),barXPosition:H}}},{key:"getPreviousPath",value:function(a,n){for(var o,c=this.w,d=0;d<c.globals.previousPaths.length;d++){var f=c.globals.previousPaths[d];f.paths&&f.paths.length>0&&parseInt(f.realIndex,10)===parseInt(a,10)&&void 0!==c.globals.previousPaths[d].paths[n]&&(o=c.globals.previousPaths[d].paths[n].d)}return o}}]),z}(),pt=function(z){Zn(n,z);var a=cn(n);function n(){return He(this,n),a.apply(this,arguments)}return Xe(n,[{key:"draw",value:function(o,c){var d=this,f=this.w;this.graphics=new be(this.ctx),this.bar=new gn(this.ctx,this.xyRatios);var g=new Ce(this.ctx,f);o=g.getLogSeries(o),this.yRatio=g.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o),"100%"===f.config.chart.stackType&&(o=f.globals.seriesPercent.slice()),this.series=o,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var m=0;m<o.length;m++)o[m].length>0&&(this.totalItems+=o[m].length);for(var v=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),w=0,k=0,S=function(I,H){var W=void 0,q=void 0,V=void 0,x=void 0,E=[],D=[],F=f.globals.comboCharts?c[I]:I;d.yRatio.length>1&&(d.yaxisIndex=F),d.isReversed=f.config.yaxis[d.yaxisIndex]&&f.config.yaxis[d.yaxisIndex].reversed;var j=d.graphics.group({class:"apexcharts-series",seriesName:le.escapeString(f.globals.seriesNames[F]),rel:I+1,"data:realIndex":F});d.ctx.series.addCollapsedClassToSeries(j,F);var oe=d.graphics.group({class:"apexcharts-datalabels","data:realIndex":F}),ae=d.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ye=0,xe=0,Le=d.initialPositions(w,k,W,q,V,x);k=Le.y,ye=Le.barHeight,q=Le.yDivision,x=Le.zeroW,w=Le.x,xe=Le.barWidth,W=Le.xDivision,V=Le.zeroH,d.yArrj=[],d.yArrjF=[],d.yArrjVal=[],d.xArrj=[],d.xArrjF=[],d.xArrjVal=[],1===d.prevY.length&&d.prevY[0].every(function(St){return isNaN(St)})&&(d.prevY[0]=d.prevY[0].map(function(St){return V}),d.prevYF[0]=d.prevYF[0].map(function(St){return 0}));for(var Pe=0;Pe<f.globals.dataPoints;Pe++){var Je=d.barHelpers.getStrokeWidth(I,Pe,F),ot={indexes:{i:I,j:Pe,realIndex:F,bc:H},strokeWidth:Je,x:w,y:k,elSeries:j},ht=null;d.isHorizontal?(ht=d.drawStackedBarPaths(ze(ze({},ot),{},{zeroW:x,barHeight:ye,yDivision:q})),xe=d.series[I][Pe]/d.invertedYRatio):(ht=d.drawStackedColumnPaths(ze(ze({},ot),{},{xDivision:W,barWidth:xe,zeroH:V})),ye=d.series[I][Pe]/d.yRatio[d.yaxisIndex]);var ut=d.barHelpers.drawGoalLine({barXPosition:ht.barXPosition,barYPosition:ht.barYPosition,goalX:ht.goalX,goalY:ht.goalY,barHeight:ye,barWidth:xe});ut&&ae.add(ut),k=ht.y,E.push(w=ht.x),D.push(k);var wt=d.barHelpers.getPathFillColor(o,I,Pe,F);j=d.renderSeries({realIndex:F,pathFill:wt,j:Pe,i:I,pathFrom:ht.pathFrom,pathTo:ht.pathTo,strokeWidth:Je,elSeries:j,x:w,y:k,series:o,barHeight:ye,barWidth:xe,elDataLabelsWrap:oe,elGoalsMarkers:ae,type:"bar",visibleSeries:0})}f.globals.seriesXvalues[F]=E,f.globals.seriesYvalues[F]=D,d.prevY.push(d.yArrj),d.prevYF.push(d.yArrjF),d.prevYVal.push(d.yArrjVal),d.prevX.push(d.xArrj),d.prevXF.push(d.xArrjF),d.prevXVal.push(d.xArrjVal),v.add(j)},T=0,_=0;T<o.length;T++,_++)S(T,_);return v}},{key:"initialPositions",value:function(o,c,d,f,g,m){var v,w,k=this.w;return this.isHorizontal?(v=(v=f=k.globals.gridHeight/k.globals.dataPoints)*parseInt(k.config.plotOptions.bar.barHeight,10)/100,m=this.baseLineInvertedY+k.globals.padHorizontal+(this.isReversed?k.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),c=(f-v)/2):(w=d=k.globals.gridWidth/k.globals.dataPoints,w=k.globals.isXNumeric&&k.globals.dataPoints>1?(d=k.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:w*parseInt(k.config.plotOptions.bar.columnWidth,10)/100,g=k.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?k.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),o=k.globals.padHorizontal+(d-w)/2),{x:o,y:c,yDivision:f,xDivision:d,barHeight:v,barWidth:w,zeroH:g,zeroW:m}}},{key:"drawStackedBarPaths",value:function(o){for(var c,v,d=o.indexes,f=o.barHeight,g=o.strokeWidth,m=o.zeroW,w=o.y,k=o.yDivision,S=o.elSeries,T=this.w,_=w,I=d.i,H=d.j,W=0,q=0;q<this.prevXF.length;q++)W+=this.prevXF[q][H];if(I>0){var V=m;this.prevXVal[I-1][H]<0?V=this.series[I][H]>=0?this.prevX[I-1][H]+W-2*(this.isReversed?W:0):this.prevX[I-1][H]:this.prevXVal[I-1][H]>=0&&(V=this.series[I][H]>=0?this.prevX[I-1][H]:this.prevX[I-1][H]-W+2*(this.isReversed?W:0)),c=V}else c=m;var x=this.barHelpers.getBarpaths({barYPosition:_,barHeight:f,x1:c,x2:v=null===this.series[I][H]?c:c+this.series[I][H]/this.invertedYRatio-2*(this.isReversed?this.series[I][H]/this.invertedYRatio:0),strokeWidth:g,series:this.series,realIndex:d.realIndex,i:I,j:H,w:T});return this.barHelpers.barBackground({j:H,i:I,y1:_,y2:f,elSeries:S}),w+=k,{pathTo:x.pathTo,pathFrom:x.pathFrom,goalX:this.barHelpers.getGoalValues("x",m,null,I,H),barYPosition:_,x:v,y:w}}},{key:"drawStackedColumnPaths",value:function(o){var f,c=o.indexes,d=o.x,g=o.xDivision,m=o.barWidth,v=o.zeroH,w=o.elSeries,k=this.w,S=c.i,T=c.j,_=c.bc;if(k.globals.isXNumeric){var I=k.globals.seriesX[S][T];I||(I=0),d=(I-k.globals.minX)/this.xRatio-m/2}for(var H,W=d,q=0,V=0;V<this.prevYF.length;V++)q+=isNaN(this.prevYF[V][T])?0:this.prevYF[V][T];if(S>0&&!k.globals.isXNumeric||S>0&&k.globals.isXNumeric&&k.globals.seriesX[S-1][T]===k.globals.seriesX[S][T]){var x,E,D=Math.min(this.yRatio.length+1,S+1);if(void 0!==this.prevY[S-1])for(var F=1;F<D;F++)if(!isNaN(this.prevY[S-F][T])){E=this.prevY[S-F][T];break}for(var j=1;j<D;j++){if(this.prevYVal[S-j][T]<0){x=this.series[S][T]>=0?E-q+2*(this.isReversed?q:0):E;break}if(this.prevYVal[S-j][T]>=0){x=this.series[S][T]>=0?E:E+q-2*(this.isReversed?q:0);break}}void 0===x&&(x=k.globals.gridHeight),H=this.prevYF[0].every(function(ae){return 0===ae})&&this.prevYF.slice(1,S).every(function(ae){return ae.every(function(ye){return isNaN(ye)})})?v:x}else H=v;var oe=this.barHelpers.getColumnPaths({barXPosition:W,barWidth:m,y1:H,y2:f=this.series[S][T]?H-this.series[S][T]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[S][T]/this.yRatio[this.yaxisIndex]:0):H,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:c.realIndex,i:S,j:T,w:k});return this.barHelpers.barBackground({bc:_,j:T,i:S,x1:W,x2:m,elSeries:w}),d+=g,{pathTo:oe.pathTo,pathFrom:oe.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,v,S,T),barXPosition:W,x:k.globals.isXNumeric?d-g:d,y:f}}}]),n}(gn),Ze=function(z){Zn(n,z);var a=cn(n);function n(){return He(this,n),a.apply(this,arguments)}return Xe(n,[{key:"draw",value:function(o,c){var d=this,f=this.w,g=new be(this.ctx),m=new X(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=f.config.plotOptions.bar.horizontal;var v=new Ce(this.ctx,f);o=v.getLogSeries(o),this.series=o,this.yRatio=v.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o);for(var w=g.group({class:"apexcharts-".concat(f.config.chart.type,"-series apexcharts-plot-series")}),k=function(T){d.isBoxPlot="boxPlot"===f.config.chart.type||"boxPlot"===f.config.series[T].type;var _,I,H,W,j,oe,q=void 0,V=void 0,x=[],E=[],D=f.globals.comboCharts?c[T]:T,F=g.group({class:"apexcharts-series",seriesName:le.escapeString(f.globals.seriesNames[D]),rel:T+1,"data:realIndex":D});d.ctx.series.addCollapsedClassToSeries(F,D),o[T].length>0&&(d.visibleI=d.visibleI+1),d.yRatio.length>1&&(d.yaxisIndex=D);var ae=d.barHelpers.initialPositions();V=ae.y,j=ae.barHeight,I=ae.yDivision,W=ae.zeroW,_=ae.xDivision,H=ae.zeroH,E.push((q=ae.x)+(oe=ae.barWidth)/2);for(var ye=g.group({class:"apexcharts-datalabels","data:realIndex":D}),xe=function(Pe){var Je=d.barHelpers.getStrokeWidth(T,Pe,D),ot=null,ht={indexes:{i:T,j:Pe,realIndex:D},x:q,y:V,strokeWidth:Je,elSeries:F};ot=d.isHorizontal?d.drawHorizontalBoxPaths(ze(ze({},ht),{},{yDivision:I,barHeight:j,zeroW:W})):d.drawVerticalBoxPaths(ze(ze({},ht),{},{xDivision:_,barWidth:oe,zeroH:H})),V=ot.y,q=ot.x,Pe>0&&E.push(q+oe/2),x.push(V),ot.pathTo.forEach(function(ut,wt){var St=!d.isBoxPlot&&d.candlestickOptions.wick.useFillColor?ot.color[wt]:f.globals.stroke.colors[T],ca=m.fillPath({seriesNumber:D,dataPointIndex:Pe,color:ot.color[wt],value:o[T][Pe]});d.renderSeries({realIndex:D,pathFill:ca,lineFill:St,j:Pe,i:T,pathFrom:ot.pathFrom,pathTo:ut,strokeWidth:Je,elSeries:F,x:q,y:V,series:o,barHeight:j,barWidth:oe,elDataLabelsWrap:ye,visibleSeries:d.visibleI,type:f.config.chart.type})})},Le=0;Le<f.globals.dataPoints;Le++)xe(Le);f.globals.seriesXvalues[D]=E,f.globals.seriesYvalues[D]=x,w.add(F)},S=0;S<o.length;S++)k(S);return w}},{key:"drawVerticalBoxPaths",value:function(o){var c=o.indexes,d=o.x,f=o.xDivision,g=o.barWidth,m=o.zeroH,v=o.strokeWidth,w=this.w,k=new be(this.ctx),S=c.i,T=c.j,_=!0,I=w.config.plotOptions.candlestick.colors.upward,H=w.config.plotOptions.candlestick.colors.downward,W="";this.isBoxPlot&&(W=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var q=this.yRatio[this.yaxisIndex],V=c.realIndex,x=this.getOHLCValue(V,T),E=m,D=m;x.o>x.c&&(_=!1);var F=Math.min(x.o,x.c),j=Math.max(x.o,x.c),oe=x.m;w.globals.isXNumeric&&(d=(w.globals.seriesX[V][T]-w.globals.minX)/this.xRatio-g/2);var ae=d+g*this.visibleI;null==this.series[S][T]?(F=m,j=m):(F=m-F/q,j=m-j/q,E=m-x.h/q,D=m-x.l/q,oe=m-x.m/q);var ye=k.move(ae,m),xe=k.move(ae+g/2,F);return w.globals.previousPaths.length>0&&(xe=this.getPreviousPath(V,T,!0)),ye=this.isBoxPlot?[k.move(ae,F)+k.line(ae+g/2,F)+k.line(ae+g/2,E)+k.line(ae+g/4,E)+k.line(ae+g-g/4,E)+k.line(ae+g/2,E)+k.line(ae+g/2,F)+k.line(ae+g,F)+k.line(ae+g,oe)+k.line(ae,oe)+k.line(ae,F+v/2),k.move(ae,oe)+k.line(ae+g,oe)+k.line(ae+g,j)+k.line(ae+g/2,j)+k.line(ae+g/2,D)+k.line(ae+g-g/4,D)+k.line(ae+g/4,D)+k.line(ae+g/2,D)+k.line(ae+g/2,j)+k.line(ae,j)+k.line(ae,oe)+"z"]:[k.move(ae,j)+k.line(ae+g/2,j)+k.line(ae+g/2,E)+k.line(ae+g/2,j)+k.line(ae+g,j)+k.line(ae+g,F)+k.line(ae+g/2,F)+k.line(ae+g/2,D)+k.line(ae+g/2,F)+k.line(ae,F)+k.line(ae,j-v/2)],xe+=k.move(ae,F),w.globals.isXNumeric||(d+=f),{pathTo:ye,pathFrom:xe,x:d,y:j,barXPosition:ae,color:this.isBoxPlot?W:_?[I]:[H]}}},{key:"drawHorizontalBoxPaths",value:function(o){var c=o.indexes,d=o.y,f=o.yDivision,g=o.barHeight,m=o.zeroW,v=o.strokeWidth,w=this.w,k=new be(this.ctx),S=c.i,T=c.j,_=this.boxOptions.colors.lower;this.isBoxPlot&&(_=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var I=this.invertedYRatio,H=c.realIndex,W=this.getOHLCValue(H,T),q=m,V=m,x=Math.min(W.o,W.c),E=Math.max(W.o,W.c),D=W.m;w.globals.isXNumeric&&(d=(w.globals.seriesX[H][T]-w.globals.minX)/this.invertedXRatio-g/2);var F=d+g*this.visibleI;null==this.series[S][T]?(x=m,E=m):(x=m+x/I,E=m+E/I,q=m+W.h/I,V=m+W.l/I,D=m+W.m/I);var j=k.move(m,F),oe=k.move(x,F+g/2);return w.globals.previousPaths.length>0&&(oe=this.getPreviousPath(H,T,!0)),j=[k.move(x,F)+k.line(x,F+g/2)+k.line(q,F+g/2)+k.line(q,F+g/2-g/4)+k.line(q,F+g/2+g/4)+k.line(q,F+g/2)+k.line(x,F+g/2)+k.line(x,F+g)+k.line(D,F+g)+k.line(D,F)+k.line(x+v/2,F),k.move(D,F)+k.line(D,F+g)+k.line(E,F+g)+k.line(E,F+g/2)+k.line(V,F+g/2)+k.line(V,F+g-g/4)+k.line(V,F+g/4)+k.line(V,F+g/2)+k.line(E,F+g/2)+k.line(E,F)+k.line(D,F)+"z"],oe+=k.move(x,F),w.globals.isXNumeric||(d+=f),{pathTo:j,pathFrom:oe,x:E,y:d,barYPosition:F,color:_}}},{key:"getOHLCValue",value:function(o,c){var d=this.w;return{o:this.isBoxPlot?d.globals.seriesCandleH[o][c]:d.globals.seriesCandleO[o][c],h:this.isBoxPlot?d.globals.seriesCandleO[o][c]:d.globals.seriesCandleH[o][c],m:d.globals.seriesCandleM[o][c],l:this.isBoxPlot?d.globals.seriesCandleC[o][c]:d.globals.seriesCandleL[o][c],c:this.isBoxPlot?d.globals.seriesCandleL[o][c]:d.globals.seriesCandleC[o][c]}}}]),n}(gn),Dn=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"checkColorRange",value:function(){var a=this.w,n=!1,o=a.config.plotOptions[a.config.chart.type];return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(c,d){c.from<=0&&(n=!0)}),n}},{key:"getShadeColor",value:function(a,n,o,c){var d=this.w,f=1,g=d.config.plotOptions[a].shadeIntensity,m=this.determineColor(a,n,o);d.globals.hasNegs||c?f=d.config.plotOptions[a].reverseNegativeShade?m.percent<0?m.percent/100*(1.25*g):1.25*g*(1-m.percent/100):m.percent<=0?1-(1+m.percent/100)*g:(1-m.percent/100)*g:(f=1-m.percent/100,"treemap"===a&&(f=1.25*g*(1-m.percent/100)));var v=m.color,w=new le;return d.config.plotOptions[a].enableShades&&(v=le.hexToRgba(w.shadeColor("dark"===this.w.config.theme.mode?-1*f:f,m.color),d.config.fill.opacity)),{color:v,colorProps:m}}},{key:"determineColor",value:function(a,n,o){var c=this.w,d=c.globals.series[n][o],f=c.config.plotOptions[a],g=f.colorScale.inverse?o:n;f.distributed&&"treemap"===c.config.chart.type&&(g=o);var m=c.globals.colors[g],v=null,w=Math.min.apply(Math,xt(c.globals.series[n])),k=Math.max.apply(Math,xt(c.globals.series[n]));f.distributed||"heatmap"!==a||(w=c.globals.minY,k=c.globals.maxY),void 0!==f.colorScale.min&&(w=f.colorScale.min<c.globals.minY?f.colorScale.min:c.globals.minY,k=f.colorScale.max>c.globals.maxY?f.colorScale.max:c.globals.maxY);var S=Math.abs(k)+Math.abs(w),T=100*d/(0===S?S-1e-6:S);return f.colorScale.ranges.length>0&&f.colorScale.ranges.map(function(_,I){if(d>=_.from&&d<=_.to){m=_.color,v=_.foreColor?_.foreColor:null,w=_.from,k=_.to;var H=Math.abs(k)+Math.abs(w);T=100*d/(0===H?H-1e-6:H)}}),{color:m,foreColor:v,percent:T}}},{key:"calculateDataLabels",value:function(a){var n=a.text,o=a.x,c=a.y,d=a.i,f=a.j,g=a.colorProps,m=a.fontSize,v=this.w.config.dataLabels,w=new be(this.ctx),k=new ei(this.ctx),S=null;if(v.enabled){S=w.group({class:"apexcharts-data-labels"});var _=v.offsetY,I=o+v.offsetX,H=c+parseFloat(v.style.fontSize)/3+_;k.plotDataLabelsText({x:I,y:H,text:n,i:d,j:f,color:g.foreColor,parent:S,fontSize:m,dataLabelsConfig:v})}return S}},{key:"addListeners",value:function(a){var n=new be(this.ctx);a.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,a)),a.node.addEventListener("mousedown",n.pathMouseDown.bind(this,a))}}]),z}(),Xs=function(){function z(a,n){He(this,z),this.ctx=a,this.w=a.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Dn(a),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Xe(z,[{key:"draw",value:function(a){var n=this.w,o=new be(this.ctx),c=o.group({class:"apexcharts-heatmap"});c.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")"));var d=n.globals.gridWidth/n.globals.dataPoints,f=n.globals.gridHeight/n.globals.series.length,g=0,m=!1;this.negRange=this.helpers.checkColorRange();var v=a.slice();n.config.yaxis[0].reversed&&(m=!0,v.reverse());for(var w=m?0:v.length-1;m?w<v.length:w>=0;m?w++:w--){var k=o.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:le.escapeString(n.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(this.ctx.series.addCollapsedClassToSeries(k,w),n.config.chart.dropShadow.enabled){var S=n.config.chart.dropShadow;new ft(this.ctx).dropShadow(k,S,w)}for(var T=0,_=n.config.plotOptions.heatmap.shadeIntensity,I=0;I<v[w].length;I++){var H=this.helpers.getShadeColor(n.config.chart.type,w,I,this.negRange),W=H.color,q=H.colorProps;"image"===n.config.fill.type&&(W=new X(this.ctx).fillPath({seriesNumber:w,dataPointIndex:I,opacity:n.globals.hasNegs?q.percent<0?1-(1+q.percent/100):_+q.percent/100:q.percent/100,patternID:le.randomId(),width:n.config.fill.image.width?n.config.fill.image.width:d,height:n.config.fill.image.height?n.config.fill.image.height:f}));var x=o.drawRect(T,g,d,f,this.rectRadius);if(x.attr({cx:T,cy:g}),x.node.classList.add("apexcharts-heatmap-rect"),k.add(x),x.attr({fill:W,i:w,index:w,j:I,val:v[w][I],"stroke-width":this.strokeWidth,stroke:n.config.plotOptions.heatmap.useFillColorAsStroke?W:n.globals.stroke.colors[0],color:W}),this.helpers.addListeners(x),n.config.chart.animations.enabled&&!n.globals.dataChanged){var E=1;n.globals.resized||(E=n.config.chart.animations.speed),this.animateHeatMap(x,T,g,d,f,E)}if(n.globals.dataChanged){var D=1;if(this.dynamicAnim.enabled&&n.globals.shouldAnimate){D=this.dynamicAnim.speed;var F=n.globals.previousPaths[w]&&n.globals.previousPaths[w][I]&&n.globals.previousPaths[w][I].color;F||(F="rgba(255, 255, 255, 0)"),this.animateHeatColor(x,le.isColorHex(F)?F:le.rgb2hex(F),le.isColorHex(W)?W:le.rgb2hex(W),D)}}var j=(0,n.config.dataLabels.formatter)(n.globals.series[w][I],{value:n.globals.series[w][I],seriesIndex:w,dataPointIndex:I,w:n}),oe=this.helpers.calculateDataLabels({text:j,x:T+d/2,y:g+f/2,i:w,j:I,colorProps:q,series:v});null!==oe&&k.add(oe),T+=d}g+=f,c.add(k)}var ae=n.globals.yAxisScale[0].result.slice();return n.config.yaxis[0].reversed?ae.unshift(""):ae.push(""),n.globals.yAxisScale[0].result=ae,n.config.yaxis[0].labels.offsetY=-n.globals.gridHeight/n.globals.series.length/2,c}},{key:"animateHeatMap",value:function(a,n,o,c,d,f){var g=new Ca(this.ctx);g.animateRect(a,{x:n+c/2,y:o+d/2,width:0,height:0},{x:n,y:o,width:c,height:d},f,function(){g.animationCompleted(a)})}},{key:"animateHeatColor",value:function(a,n,o,c){a.attr({fill:n}).animate(c).attr({fill:o})}}]),z}(),mo=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"drawYAxisTexts",value:function(a,n,o,c){var d=this.w,f=d.config.yaxis[0],g=d.globals.yLabelFormatters[0];return new be(this.ctx).drawText({x:a+f.labels.offsetX,y:n+f.labels.offsetY,text:g(c,o),textAnchor:"middle",fontSize:f.labels.style.fontSize,fontFamily:f.labels.style.fontFamily,foreColor:Array.isArray(f.labels.style.colors)?f.labels.style.colors[o]:f.labels.style.colors})}}]),z}(),br=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=Math.min(n.globals.gridWidth,n.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,this.fullAngle="radialBar"===n.config.chart.type?360:Math.abs(n.config.plotOptions.pie.endAngle-n.config.plotOptions.pie.startAngle),this.initialAngle=n.config.plotOptions.pie.startAngle%this.fullAngle,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Xe(z,[{key:"draw",value:function(a){var n=this,o=this.w,c=new be(this.ctx);if(this.ret=c.group({class:"apexcharts-pie"}),o.globals.noData)return this.ret;for(var d=0,f=0;f<a.length;f++)d+=le.negToZero(a[f]);var g=[],m=c.group();0===d&&(d=1e-5),a.forEach(function(F){n.maxY=Math.max(n.maxY,F)}),o.config.yaxis[0].max&&(this.maxY=o.config.yaxis[0].max),"back"===o.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var v=0;v<a.length;v++){var w=this.fullAngle*le.negToZero(a[v])/d;g.push(w),"polarArea"===this.chartType?(g[v]=this.fullAngle/a.length,this.sliceSizes.push(o.globals.radialSize*a[v]/this.maxY)):this.sliceSizes.push(o.globals.radialSize)}if(o.globals.dataChanged){for(var k,S=0,T=0;T<o.globals.previousPaths.length;T++)S+=le.negToZero(o.globals.previousPaths[T]);for(var _=0;_<o.globals.previousPaths.length;_++)k=this.fullAngle*le.negToZero(o.globals.previousPaths[_])/S,this.prevSectorAngleArr.push(k)}this.donutSize<0&&(this.donutSize=0);var I=o.config.plotOptions.pie.customScale,q=o.globals.gridWidth/2-o.globals.gridWidth/2*I,V=o.globals.gridHeight/2-o.globals.gridHeight/2*I;if("donut"===this.chartType){var x=c.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:o.config.plotOptions.pie.donut.background?o.config.plotOptions.pie.donut.background:"transparent"}),m.add(x)}var E=this.drawArcs(g,a);if(this.sliceLabels.forEach(function(F){E.add(F)}),m.attr({transform:"translate(".concat(q,", ").concat(V,") scale(").concat(I,")")}),m.add(E),this.ret.add(m),this.donutDataLabels.show){var D=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:q,translateY:V});this.ret.add(D)}return"front"===o.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(a,n){var o=this.w,c=new ft(this.ctx),d=new be(this.ctx),f=new X(this.ctx),g=d.group({class:"apexcharts-slices"}),m=this.initialAngle,v=this.initialAngle,w=this.initialAngle,k=this.initialAngle;this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0;for(var S=0;S<a.length;S++){var T=d.group({class:"apexcharts-series apexcharts-pie-series",seriesName:le.escapeString(o.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});g.add(T),w=(m=w)+a[S],k=(v=k)+this.prevSectorAngleArr[S];var _=w<m?this.fullAngle+w-m:w-m,I=f.fillPath({seriesNumber:S,size:this.sliceSizes[S],value:n[S]}),H=this.getChangedPath(v,k),W=d.drawPath({d:H,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[S]:this.lineColorArr,strokeWidth:0,fill:I,fillOpacity:o.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(S)});W.attr({index:0,j:S}),c.setSelectionFilter(W,0,S),o.config.chart.dropShadow.enabled&&c.dropShadow(W,o.config.chart.dropShadow,S),this.addListeners(W,this.donutDataLabels),be.setAttrs(W.node,{"data:angle":_,"data:startAngle":m,"data:strokeWidth":this.strokeWidth,"data:value":n[S]});var V={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?V=le.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize/1.25+o.config.plotOptions.pie.dataLabels.offset,(m+_/2)%this.fullAngle):"donut"===this.chartType&&(V=le.polarToCartesian(this.centerX,this.centerY,(o.globals.radialSize+this.donutSize)/2+o.config.plotOptions.pie.dataLabels.offset,(m+_/2)%this.fullAngle)),T.add(W);var x=0;if(!this.initialAnim||o.globals.resized||o.globals.dataChanged?this.animBeginArr.push(0):(0==(x=_/this.fullAngle*o.config.chart.animations.speed)&&(x=1),this.animDur=x+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(W,this.dynamicAnim&&o.globals.dataChanged?{size:this.sliceSizes[S],endAngle:w,startAngle:m,prevStartAngle:v,prevEndAngle:k,animateStartingPos:!0,i:S,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:o.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[S],endAngle:w,startAngle:m,i:S,totalItems:a.length-1,animBeginArr:this.animBeginArr,dur:x}),o.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&W.click(this.pieClicked.bind(this,S)),void 0!==o.globals.selectedDataPoints[0]&&o.globals.selectedDataPoints[0].indexOf(S)>-1&&this.pieClicked(S),o.config.dataLabels.enabled){var E=V.x,D=V.y,F=100*_/this.fullAngle+"%";if(0!==_&&o.config.plotOptions.pie.dataLabels.minAngleToShowLabel<a[S]){var j=o.config.dataLabels.formatter;void 0!==j&&(F=j(o.globals.seriesPercent[S][0],{seriesIndex:S,w:o}));var oe=o.globals.dataLabels.style.colors[S],ae=d.group({class:"apexcharts-datalabels"}),ye=d.drawText({x:E,y:D,text:F,textAnchor:"middle",fontSize:o.config.dataLabels.style.fontSize,fontFamily:o.config.dataLabels.style.fontFamily,fontWeight:o.config.dataLabels.style.fontWeight,foreColor:oe});ae.add(ye),o.config.dataLabels.dropShadow.enabled&&c.dropShadow(ye,o.config.dataLabels.dropShadow),ye.node.classList.add("apexcharts-pie-label"),o.config.chart.animations.animate&&!1===o.globals.resized&&(ye.node.classList.add("apexcharts-pie-label-delay"),ye.node.style.animationDelay=o.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ae)}}}return g}},{key:"addListeners",value:function(a,n){var o=new be(this.ctx);a.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this,a)),a.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,a.node,n)),a.node.addEventListener("mousedown",o.pathMouseDown.bind(this,a)),this.donutDataLabels.total.showAlways||(a.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,a.node,n)),a.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,a.node,n)))}},{key:"animatePaths",value:function(a,n){var c=n.endAngle<n.startAngle?this.fullAngle+n.endAngle-n.startAngle:n.endAngle-n.startAngle,d=c,f=n.startAngle,g=n.startAngle;void 0!==n.prevStartAngle&&void 0!==n.prevEndAngle&&(f=n.prevEndAngle,d=n.prevEndAngle<n.prevStartAngle?this.fullAngle+n.prevEndAngle-n.prevStartAngle:n.prevEndAngle-n.prevStartAngle),n.i===this.w.config.series.length-1&&(c+g>this.fullAngle?n.endAngle=n.endAngle-(c+g):c+g<this.fullAngle&&(n.endAngle=n.endAngle+(this.fullAngle-(c+g)))),c===this.fullAngle&&(c=this.fullAngle-.01),this.animateArc(a,f,g,c,d,n)}},{key:"animateArc",value:function(a,n,o,c,d,f){var g,m=this,v=this.w,w=new Ca(this.ctx),k=f.size;(isNaN(n)||isNaN(d))&&(n=o,d=c,f.dur=0);var S=c,T=o,_=n<o?this.fullAngle+n-o:n-o;v.globals.dataChanged&&f.shouldSetPrevPaths&&f.prevEndAngle&&(g=m.getPiePath({me:m,startAngle:f.prevStartAngle,angle:f.prevEndAngle<f.prevStartAngle?this.fullAngle+f.prevEndAngle-f.prevStartAngle:f.prevEndAngle-f.prevStartAngle,size:k}),a.attr({d:g})),0!==f.dur?a.animate(f.dur,v.globals.easing,f.animBeginArr[f.i]).afterAll(function(){"pie"!==m.chartType&&"donut"!==m.chartType&&"polarArea"!==m.chartType||this.animate(v.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":m.strokeWidth}),f.i===v.config.series.length-1&&w.animationCompleted(a)}).during(function(I){S=_+(c-_)*I,f.animateStartingPos&&(S=d+(c-d)*I,T=n-d+(o-(n-d))*I),g=m.getPiePath({me:m,startAngle:T,angle:S,size:k}),a.node.setAttribute("data:pathOrig",g),a.attr({d:g})}):(g=m.getPiePath({me:m,startAngle:T,angle:c,size:k}),f.isTrack||(v.globals.animationEnded=!0),a.node.setAttribute("data:pathOrig",g),a.attr({d:g,"stroke-width":m.strokeWidth}))}},{key:"pieClicked",value:function(a){var n,o=this.w,c=this,d=c.sliceSizes[a]+(o.config.plotOptions.pie.expandOnClick?4:0),f=o.globals.dom.Paper.select(".apexcharts-".concat(c.chartType.toLowerCase(),"-slice-").concat(a)).members[0];if("true"!==f.attr("data:pieClicked")){var g=o.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(g,function(k){k.setAttribute("data:pieClicked","false");var S=k.getAttribute("data:pathOrig");k.setAttribute("d",S)}),f.attr("data:pieClicked","true");var m=parseInt(f.attr("data:startAngle"),10),v=parseInt(f.attr("data:angle"),10);n=c.getPiePath({me:c,startAngle:m,angle:v,size:d}),360!==v&&f.plot(n)}else{f.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(f.node,this.donutDataLabels);var w=f.attr("data:pathOrig");f.attr({d:w})}}},{key:"getChangedPath",value:function(a,n){var o="";return this.dynamicAnim&&this.w.globals.dataChanged&&(o=this.getPiePath({me:this,startAngle:a,angle:n-a,size:this.size})),o}},{key:"getPiePath",value:function(a){var n=a.me,o=a.startAngle,c=a.angle,d=a.size,f=o,g=Math.PI*(f-90)/180,m=c+o;Math.ceil(m)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(m=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(m)>this.fullAngle&&(m-=this.fullAngle);var v=Math.PI*(m-90)/180,w=n.centerX+d*Math.cos(g),k=n.centerY+d*Math.sin(g),S=n.centerX+d*Math.cos(v),T=n.centerY+d*Math.sin(v),_=le.polarToCartesian(n.centerX,n.centerY,n.donutSize,m),I=le.polarToCartesian(n.centerX,n.centerY,n.donutSize,f),H=c>180?1:0,W=["M",w,k,"A",d,d,0,H,1,S,T];return"donut"===n.chartType?[].concat(W,["L",_.x,_.y,"A",n.donutSize,n.donutSize,0,H,0,I.x,I.y,"L",w,k,"z"]).join(" "):"pie"===n.chartType||"polarArea"===n.chartType?[].concat(W,["L",n.centerX,n.centerY,"L",w,k]).join(" "):[].concat(W).join(" ")}},{key:"drawPolarElements",value:function(a){var n=this.w,o=new Ha(this.ctx),c=new be(this.ctx),d=new mo(this.ctx),f=c.group(),g=c.group(),m=o.niceScale(0,Math.ceil(this.maxY),n.config.yaxis[0].tickAmount,0,!0),v=m.result.reverse(),w=m.result.length;this.maxY=m.niceMax;for(var k=n.globals.radialSize,S=k/(w-1),T=0;T<w-1;T++){var _=c.drawCircle(k);if(_.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":n.config.plotOptions.polarArea.rings.strokeWidth,stroke:n.config.plotOptions.polarArea.rings.strokeColor}),n.config.yaxis[0].show){var I=d.drawYAxisTexts(this.centerX,this.centerY-k+parseInt(n.config.yaxis[0].labels.style.fontSize,10)/2,T,v[T]);g.add(I)}f.add(_),k-=S}this.drawSpokes(a),a.add(f),a.add(g)}},{key:"renderInnerDataLabels",value:function(a,n){var o=this.w,c=new be(this.ctx),d=c.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(n.translateX?n.translateX:0,", ").concat(n.translateY?n.translateY:0,") scale(").concat(o.config.plotOptions.pie.customScale,")")}),f=a.total.show;d.node.style.opacity=n.opacity;var g,m,v=n.centerX,w=n.centerY;g=void 0===a.name.color?o.globals.colors[0]:a.name.color;var k=a.name.fontSize,S=a.name.fontFamily,T=a.name.fontWeight;m=void 0===a.value.color?o.config.chart.foreColor:a.value.color;var _=a.value.formatter,I="",H="";if(f?(g=a.total.color,k=a.total.fontSize,S=a.total.fontFamily,T=a.total.fontWeight,H=a.total.label,I=a.total.formatter(o)):1===o.globals.series.length&&(I=_(o.globals.series[0],o),H=o.globals.seriesNames[0]),H&&(H=a.name.formatter(H,a.total.show,o)),a.name.show){var W=c.drawText({x:v,y:w+parseFloat(a.name.offsetY),text:H,textAnchor:"middle",foreColor:g,fontSize:k,fontWeight:T,fontFamily:S});W.node.classList.add("apexcharts-datalabel-label"),d.add(W)}if(a.value.show){var q=a.name.show?parseFloat(a.value.offsetY)+16:a.value.offsetY,V=c.drawText({x:v,y:w+q,text:I,textAnchor:"middle",foreColor:m,fontWeight:a.value.fontWeight,fontSize:a.value.fontSize,fontFamily:a.value.fontFamily});V.node.classList.add("apexcharts-datalabel-value"),d.add(V)}return d}},{key:"printInnerLabels",value:function(a,n,o,c){var d,f=this.w;c?d=void 0===a.name.color?f.globals.colors[parseInt(c.parentNode.getAttribute("rel"),10)-1]:a.name.color:f.globals.series.length>1&&a.total.show&&(d=a.total.color);var g=f.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),m=f.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");o=(0,a.value.formatter)(o,f),c||"function"!=typeof a.total.formatter||(o=a.total.formatter(f)),n=a.name.formatter(n,n===a.total.label,f),null!==g&&(g.textContent=n),null!==m&&(m.textContent=o),null!==g&&(g.style.fill=d)}},{key:"printDataLabelsInner",value:function(a,n){var o=this.w,c=a.getAttribute("data:value"),d=o.globals.seriesNames[parseInt(a.parentNode.getAttribute("rel"),10)-1];o.globals.series.length>1&&this.printInnerLabels(n,d,c,a);var f=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==f&&(f.style.opacity=1)}},{key:"drawSpokes",value:function(a){var n=this,o=this.w,c=new be(this.ctx),d=o.config.plotOptions.polarArea.spokes;if(0!==d.strokeWidth){for(var f=[],g=360/o.globals.series.length,m=0;m<o.globals.series.length;m++)f.push(le.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize,o.config.plotOptions.pie.startAngle+g*m));f.forEach(function(v,w){var k=c.drawLine(v.x,v.y,n.centerX,n.centerY,Array.isArray(d.connectorColors)?d.connectorColors[w]:d.connectorColors);a.add(k)})}}},{key:"revertDataLabelsInner",value:function(a,n,o){var c=this,d=this.w,f=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),g=!1,m=d.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),v=function(S){var T=S.makeSliceOut,_=S.printLabel;Array.prototype.forEach.call(m,function(I){"true"===I.getAttribute("data:pieClicked")&&(T&&(g=!0),_&&c.printDataLabelsInner(I,n))})};if(v({makeSliceOut:!0,printLabel:!1}),n.total.show&&d.globals.series.length>1)g&&!n.total.showAlways?v({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(n,n.total.label,n.total.formatter(d));else if(v({makeSliceOut:!1,printLabel:!0}),!g)if(d.globals.selectedDataPoints.length&&d.globals.series.length>1)if(d.globals.selectedDataPoints[0].length>0){var w=d.globals.selectedDataPoints[0],k=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(w));this.printDataLabelsInner(k,n)}else f&&d.globals.selectedDataPoints.length&&0===d.globals.selectedDataPoints[0].length&&(f.style.opacity=0);else f&&d.globals.series.length>1&&(f.style.opacity=0)}}]),z}(),xr=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new be(this.ctx),this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight+1.5*n.globals.goldenPadding:n.globals.gridWidth,this.isLog=n.config.yaxis[0].logarithmic,this.coreUtils=new Ce(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(n.globals.maxY,0):n.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):n.globals.minY,this.polygons=n.config.plotOptions.radar.polygons,this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-n.globals.xAxisLabelsWidth/1.75),void 0!==n.config.plotOptions.radar.size&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Xe(z,[{key:"draw",value:function(a){var n=this,o=this.w,c=new X(this.ctx),d=[],f=new ei(this.ctx);a.length&&(this.dataPointsLen=a[o.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var w=o.globals.gridHeight/2+o.config.plotOptions.radar.offsetY,k=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(o.globals.gridWidth/2+o.config.plotOptions.radar.offsetX||0,", ").concat(w||0,")")}),S=[],T=null,_=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),a.forEach(function(H,W){var q=H.length===o.globals.dataPoints,V=n.graphics.group().attr({class:"apexcharts-series","data:longestSeries":q,seriesName:le.escapeString(o.globals.seriesNames[W]),rel:W+1,"data:realIndex":W});n.dataRadiusOfPercent[W]=[],n.dataRadius[W]=[],n.angleArr[W]=[],H.forEach(function(Le,Pe){var Je=Math.abs(n.maxValue-n.minValue);Le+=Math.abs(n.minValue),n.isLog&&(Le=n.coreUtils.getLogVal(Le,0)),n.dataRadiusOfPercent[W][Pe]=Le/Je,n.dataRadius[W][Pe]=n.dataRadiusOfPercent[W][Pe]*n.size,n.angleArr[W][Pe]=Pe*n.disAngle}),S=n.getDataPointsPos(n.dataRadius[W],n.angleArr[W]);var x=n.createPaths(S,{x:0,y:0});T=n.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),_=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":W}),o.globals.delayedElements.push({el:T.node,index:W});var E={i:W,realIndex:W,animationDelay:W,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:o.globals.stroke.colors[W],strokeLineCap:o.config.stroke.lineCap},D=null;o.globals.previousPaths.length>0&&(D=n.getPreviousPath(W));for(var F=0;F<x.linePathsTo.length;F++){var j=n.graphics.renderPaths(ze(ze({},E),{},{pathFrom:null===D?x.linePathsFrom[F]:D,pathTo:x.linePathsTo[F],strokeWidth:Array.isArray(n.strokeWidth)?n.strokeWidth[W]:n.strokeWidth,fill:"none",drawShadow:!1}));V.add(j);var oe=c.fillPath({seriesNumber:W}),ae=n.graphics.renderPaths(ze(ze({},E),{},{pathFrom:null===D?x.areaPathsFrom[F]:D,pathTo:x.areaPathsTo[F],strokeWidth:0,fill:oe,drawShadow:!1}));o.config.chart.dropShadow.enabled&&new ft(n.ctx).dropShadow(ae,Object.assign({},o.config.chart.dropShadow,{noUserSpaceOnUse:!0}),W),V.add(ae)}H.forEach(function(Le,Pe){var Je=new On(n.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:W,dataPointIndex:Pe}),ot=n.graphics.drawMarker(S[Pe].x,S[Pe].y,Je);ot.attr("rel",Pe),ot.attr("j",Pe),ot.attr("index",W),ot.node.setAttribute("default-marker-size",Je.pSize);var ht=n.graphics.group({class:"apexcharts-series-markers"});ht&&ht.add(ot),T.add(ht),V.add(T);var ut=o.config.dataLabels;if(ut.enabled){var wt=ut.formatter(o.globals.series[W][Pe],{seriesIndex:W,dataPointIndex:Pe,w:o});f.plotDataLabelsText({x:S[Pe].x,y:S[Pe].y,text:wt,textAnchor:"middle",i:W,j:W,parent:_,offsetCorrection:!1,dataLabelsConfig:ze({},ut)})}V.add(_)}),d.push(V)}),this.drawPolygons({parent:k}),o.config.xaxis.labels.show){var I=this.drawXAxisTexts();k.add(I)}return d.forEach(function(H){k.add(H)}),k.add(this.yaxisLabels),k}},{key:"drawPolygons",value:function(a){for(var n=this,o=this.w,c=a.parent,d=new mo(this.ctx),f=o.globals.yAxisScale[0].result.reverse(),g=f.length,m=[],v=this.size/(g-1),w=0;w<g;w++)m[w]=v*w;m.reverse();var k=[],S=[];m.forEach(function(T,_){var I=le.getPolygonPos(T,n.dataPointsLen),H="";I.forEach(function(W,q){if(0===_){var V=n.graphics.drawLine(W.x,W.y,0,0,Array.isArray(n.polygons.connectorColors)?n.polygons.connectorColors[q]:n.polygons.connectorColors);S.push(V)}0===q&&n.yaxisLabelsTextsPos.push({x:W.x,y:W.y}),H+=W.x+","+W.y+" "}),k.push(H)}),k.forEach(function(T,_){var I=n.polygons.strokeColors,H=n.polygons.strokeWidth,W=n.graphics.drawPolygon(T,Array.isArray(I)?I[_]:I,Array.isArray(H)?H[_]:H,o.globals.radarPolygons.fill.colors[_]);c.add(W)}),S.forEach(function(T){c.add(T)}),o.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(T,_){var I=d.drawYAxisTexts(T.x,T.y,_,f[_]);n.yaxisLabels.add(I)})}},{key:"drawXAxisTexts",value:function(){var a=this,n=this.w,o=n.config.xaxis.labels,c=this.graphics.group({class:"apexcharts-xaxis"}),d=le.getPolygonPos(this.size,this.dataPointsLen);return n.globals.labels.forEach(function(f,g){var m=n.config.xaxis.labels.formatter,v=new ei(a.ctx);if(d[g]){var w=a.getTextPos(d[g],a.size),k=m(f,{seriesIndex:-1,dataPointIndex:g,w:n});v.plotDataLabelsText({x:w.newX,y:w.newY,text:k,textAnchor:w.textAnchor,i:g,j:g,parent:c,color:Array.isArray(o.style.colors)&&o.style.colors[g]?o.style.colors[g]:"#a8a8a8",dataLabelsConfig:ze({textAnchor:w.textAnchor,dropShadow:{enabled:!1}},o),offsetCorrection:!1})}}),c}},{key:"createPaths",value:function(a,n){var o=this,c=[],d=[],f=[],g=[];if(a.length){d=[this.graphics.move(n.x,n.y)],g=[this.graphics.move(n.x,n.y)];var m=this.graphics.move(a[0].x,a[0].y),v=this.graphics.move(a[0].x,a[0].y);a.forEach(function(w,k){m+=o.graphics.line(w.x,w.y),v+=o.graphics.line(w.x,w.y),k===a.length-1&&(m+="Z",v+="Z")}),c.push(m),f.push(v)}return{linePathsFrom:d,linePathsTo:c,areaPathsFrom:g,areaPathsTo:f}}},{key:"getTextPos",value:function(a,n){var o="middle",c=a.x,d=a.y;return Math.abs(a.x)>=10?a.x>0?(o="start",c+=10):a.x<0&&(o="end",c-=10):o="middle",Math.abs(a.y)>=n-10&&(a.y<0?d-=10:a.y>0&&(d+=10)),{textAnchor:o,newX:c,newY:d}}},{key:"getPreviousPath",value:function(a){for(var n=this.w,o=null,c=0;c<n.globals.previousPaths.length;c++){var d=n.globals.previousPaths[c];d.paths.length>0&&parseInt(d.realIndex,10)===parseInt(a,10)&&void 0!==n.globals.previousPaths[c].paths[0]&&(o=n.globals.previousPaths[c].paths[0].d)}return o}},{key:"getDataPointsPos",value:function(a,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;a=a||[],n=n||[];for(var c=[],d=0;d<o;d++){var f={};f.x=a[d]*Math.sin(n[d]),f.y=-a[d]*Math.cos(n[d]),c.push(f)}return c}}]),z}(),bo=function(z){Zn(n,z);var a=cn(n);function n(o){var c;He(this,n),(c=a.call(this,o)).ctx=o,c.w=o.w,c.animBeginArr=[0],c.animDur=0;var d=c.w;return c.startAngle=d.config.plotOptions.radialBar.startAngle,c.endAngle=d.config.plotOptions.radialBar.endAngle,c.totalAngle=Math.abs(d.config.plotOptions.radialBar.endAngle-d.config.plotOptions.radialBar.startAngle),c.trackStartAngle=d.config.plotOptions.radialBar.track.startAngle,c.trackEndAngle=d.config.plotOptions.radialBar.track.endAngle,c.donutDataLabels=c.w.config.plotOptions.radialBar.dataLabels,c.radialDataLabels=c.donutDataLabels,c.trackStartAngle||(c.trackStartAngle=c.startAngle),c.trackEndAngle||(c.trackEndAngle=c.endAngle),360===c.endAngle&&(c.endAngle=359.99),c.margin=parseInt(d.config.plotOptions.radialBar.track.margin,10),c}return Xe(n,[{key:"draw",value:function(o){var c=this.w,d=new be(this.ctx),f=d.group({class:"apexcharts-radialbar"});if(c.globals.noData)return f;var g=d.group(),m=this.defaultSize/2,v=c.globals.gridWidth/2,w=this.defaultSize/2.05;c.config.chart.sparkline.enabled||(w=w-c.config.stroke.width-c.config.chart.dropShadow.blur);var k=c.globals.fill.colors;if(c.config.plotOptions.radialBar.track.show){var S=this.drawTracks({size:w,centerX:v,centerY:m,colorArr:k,series:o});g.add(S)}var T=this.drawArcs({size:w,centerX:v,centerY:m,colorArr:k,series:o}),_=360;c.config.plotOptions.radialBar.startAngle<0&&(_=this.totalAngle);var I=(360-_)/360;if(c.globals.radialSize=w-w*I,this.radialDataLabels.value.show){var H=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);c.globals.radialSize+=H*I}return g.add(T.g),"front"===c.config.plotOptions.radialBar.hollow.position&&(T.g.add(T.elHollow),T.dataLabels&&T.g.add(T.dataLabels)),f.add(g),f}},{key:"drawTracks",value:function(o){var c=this.w,d=new be(this.ctx),f=d.group({class:"apexcharts-tracks"}),g=new ft(this.ctx),m=new X(this.ctx),v=this.getStrokeWidth(o);o.size=o.size-v/2;for(var w=0;w<o.series.length;w++){var k=d.group({class:"apexcharts-radialbar-track apexcharts-track"});f.add(k),k.attr({rel:w+1}),o.size=o.size-v-this.margin;var S=c.config.plotOptions.radialBar.track,T=m.fillPath({seriesNumber:0,size:o.size,fillColors:Array.isArray(S.background)?S.background[w]:S.background,solid:!0}),_=this.trackStartAngle,I=this.trackEndAngle;Math.abs(I)+Math.abs(_)>=360&&(I=360-Math.abs(this.startAngle)-.1);var H=d.drawPath({d:"",stroke:T,strokeWidth:v*parseInt(S.strokeWidth,10)/100,fill:"none",strokeOpacity:S.opacity,classes:"apexcharts-radialbar-area"});S.dropShadow.enabled&&g.dropShadow(H,S.dropShadow),k.add(H),H.attr("id","apexcharts-radialbarTrack-"+w),this.animatePaths(H,{centerX:o.centerX,centerY:o.centerY,endAngle:I,startAngle:_,size:o.size,i:w,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:c.globals.easing})}return f}},{key:"drawArcs",value:function(o){var c=this.w,d=new be(this.ctx),f=new X(this.ctx),g=new ft(this.ctx),m=d.group(),v=this.getStrokeWidth(o);o.size=o.size-v/2;var w=c.config.plotOptions.radialBar.hollow.background,k=o.size-v*o.series.length-this.margin*o.series.length-v*parseInt(c.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,S=k-c.config.plotOptions.radialBar.hollow.margin;void 0!==c.config.plotOptions.radialBar.hollow.image&&(w=this.drawHollowImage(o,m,k,w));var T=this.drawHollow({size:S,centerX:o.centerX,centerY:o.centerY,fill:w||"transparent"});c.config.plotOptions.radialBar.hollow.dropShadow.enabled&&g.dropShadow(T,c.config.plotOptions.radialBar.hollow.dropShadow);var I=1;!this.radialDataLabels.total.show&&c.globals.series.length>1&&(I=0);var H=null;this.radialDataLabels.show&&(H=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:k,centerX:o.centerX,centerY:o.centerY,opacity:I})),"back"===c.config.plotOptions.radialBar.hollow.position&&(m.add(T),H&&m.add(H));var W=!1;c.config.plotOptions.radialBar.inverseOrder&&(W=!0);for(var q=W?o.series.length-1:0;W?q>=0:q<o.series.length;W?q--:q++){var V=d.group({class:"apexcharts-series apexcharts-radial-series",seriesName:le.escapeString(c.globals.seriesNames[q])});m.add(V),V.attr({rel:q+1,"data:realIndex":q}),this.ctx.series.addCollapsedClassToSeries(V,q),o.size=o.size-v-this.margin;var x=f.fillPath({seriesNumber:q,size:o.size,value:o.series[q]}),E=this.startAngle,D=void 0,F=le.negToZero(o.series[q]>100?100:o.series[q])/100,j=Math.round(this.totalAngle*F)+this.startAngle,oe=void 0;c.globals.dataChanged&&(D=this.startAngle,oe=Math.round(this.totalAngle*le.negToZero(c.globals.previousPaths[q])/100)+D),Math.abs(j)+Math.abs(E)>=360&&(j-=.01),Math.abs(oe)+Math.abs(D)>=360&&(oe-=.01);var ae=j-E,ye=Array.isArray(c.config.stroke.dashArray)?c.config.stroke.dashArray[q]:c.config.stroke.dashArray,xe=d.drawPath({d:"",stroke:x,strokeWidth:v,fill:"none",fillOpacity:c.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+q,strokeDashArray:ye});be.setAttrs(xe.node,{"data:angle":ae,"data:value":o.series[q]}),c.config.chart.dropShadow.enabled&&g.dropShadow(xe,c.config.chart.dropShadow,q),g.setSelectionFilter(xe,0,q),this.addListeners(xe,this.radialDataLabels),V.add(xe),xe.attr({index:0,j:q});var Pe=0;!this.initialAnim||c.globals.resized||c.globals.dataChanged||(Pe=c.config.chart.animations.speed),c.globals.dataChanged&&(Pe=c.config.chart.animations.dynamicAnimation.speed),this.animDur=Pe/(1.2*o.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(xe,{centerX:o.centerX,centerY:o.centerY,endAngle:j,startAngle:E,prevEndAngle:oe,prevStartAngle:D,size:o.size,i:q,totalItems:2,animBeginArr:this.animBeginArr,dur:Pe,shouldSetPrevPaths:!0,easing:c.globals.easing})}return{g:m,elHollow:T,dataLabels:H}}},{key:"drawHollow",value:function(o){var c=new be(this.ctx).drawCircle(2*o.size);return c.attr({class:"apexcharts-radialbar-hollow",cx:o.centerX,cy:o.centerY,r:o.size,fill:o.fill}),c}},{key:"drawHollowImage",value:function(o,c,d,f){var g=this.w,m=new X(this.ctx),v=le.randomId(),w=g.config.plotOptions.radialBar.hollow.image;if(g.config.plotOptions.radialBar.hollow.imageClipped)m.clippedImgArea({width:d,height:d,image:w,patternID:"pattern".concat(g.globals.cuid).concat(v)}),f="url(#pattern".concat(g.globals.cuid).concat(v,")");else{var k=g.config.plotOptions.radialBar.hollow.imageWidth,S=g.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===k&&void 0===S){var T=g.globals.dom.Paper.image(w).loaded(function(I){this.move(o.centerX-I.width/2+g.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-I.height/2+g.config.plotOptions.radialBar.hollow.imageOffsetY)});c.add(T)}else{var _=g.globals.dom.Paper.image(w).loaded(function(I){this.move(o.centerX-k/2+g.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-S/2+g.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(k,S)});c.add(_)}}return f}},{key:"getStrokeWidth",value:function(o){return o.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(o.series.length+1)-this.margin}}]),n}(br),Oi=function(z){Zn(n,z);var a=cn(n);function n(){return He(this,n),a.apply(this,arguments)}return Xe(n,[{key:"draw",value:function(o,c){var d=this.w,f=new be(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=o,this.seriesRangeStart=d.globals.seriesRangeStart,this.seriesRangeEnd=d.globals.seriesRangeEnd,this.barHelpers.initVariables(o);for(var g=f.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),m=0;m<o.length;m++){var v,w,k,S=void 0,T=void 0,_=void 0,I=d.globals.comboCharts?c[m]:m,H=f.group({class:"apexcharts-series",seriesName:le.escapeString(d.globals.seriesNames[I]),rel:m+1,"data:realIndex":I});this.ctx.series.addCollapsedClassToSeries(H,I),o[m].length>0&&(this.visibleI=this.visibleI+1);var W=0,q=0;this.yRatio.length>1&&(this.yaxisIndex=I);var V=this.barHelpers.initialPositions();T=V.y,k=V.zeroW,S=V.x,q=V.barWidth,v=V.xDivision,w=V.zeroH;for(var x=f.group({class:"apexcharts-datalabels","data:realIndex":I}),E=f.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),D=0;D<d.globals.dataPoints;D++){var F=this.barHelpers.getStrokeWidth(m,D,I),j=this.seriesRangeStart[m][D],oe=this.seriesRangeEnd[m][D],ae=null,ye=null,xe={x:S,y:T,strokeWidth:F,elSeries:H};if(_=V.yDivision,W=V.barHeight,this.isHorizontal){ye=T+W*this.visibleI;var Le=this.seriesLen;d.config.plotOptions.bar.rangeBarGroupRows&&(Le=1);var Pe=(_-W*Le)/2;if(void 0===d.config.series[m].data[D])break;if(d.config.series[m].data[D].x){var Je=this.detectOverlappingBars({i:m,j:D,barYPosition:ye,srty:Pe,barHeight:W,yDivision:_,initPositions:V});W=Je.barHeight,ye=Je.barYPosition}q=(ae=this.drawRangeBarPaths(ze({indexes:{i:m,j:D,realIndex:I},barHeight:W,barYPosition:ye,zeroW:k,yDivision:_,y1:j,y2:oe},xe))).barWidth}else W=(ae=this.drawRangeColumnPaths(ze({indexes:{i:m,j:D,realIndex:I},zeroH:w,barWidth:q,xDivision:v},xe))).barHeight;var ot=this.barHelpers.drawGoalLine({barXPosition:ae.barXPosition,barYPosition:ye,goalX:ae.goalX,goalY:ae.goalY,barHeight:W,barWidth:q});ot&&E.add(ot),T=ae.y,S=ae.x;var ht=this.barHelpers.getPathFillColor(o,m,D,I);this.renderSeries({realIndex:I,pathFill:ht,lineFill:d.globals.stroke.colors[I],j:D,i:m,x:S,y:T,y1:j,y2:oe,pathFrom:ae.pathFrom,pathTo:ae.pathTo,strokeWidth:F,elSeries:H,series:o,barHeight:W,barYPosition:ye,barWidth:q,elDataLabelsWrap:x,elGoalsMarkers:E,visibleSeries:this.visibleI,type:"rangebar"})}g.add(H)}return g}},{key:"detectOverlappingBars",value:function(o){var c=o.i,d=o.j,f=o.barYPosition,g=o.srty,m=o.barHeight,v=o.yDivision,w=o.initPositions,k=this.w,S=[],T=k.config.series[c].data[d].rangeName,_=k.config.series[c].data[d].x,I=k.globals.labels.indexOf(_),H=k.globals.seriesRange[c].findIndex(function(W){return W.x===_&&W.overlaps.length>0});return f=k.config.plotOptions.bar.rangeBarGroupRows?g+v*I:g+m*this.visibleI+v*I,H>-1&&!k.config.plotOptions.bar.rangeBarOverlap&&(S=k.globals.seriesRange[c][H].overlaps).indexOf(T)>-1&&(f=(m=w.barHeight/S.length)*this.visibleI+v*(100-parseInt(this.barOptions.barHeight,10))/100/2+m*(this.visibleI+S.indexOf(T))+v*I),{barYPosition:f,barHeight:m}}},{key:"drawRangeColumnPaths",value:function(o){var c=o.indexes,d=o.x,f=o.xDivision,g=o.barWidth,m=o.zeroH,v=this.w,w=c.i,k=c.j,S=this.yRatio[this.yaxisIndex],T=c.realIndex,_=this.getRangeValue(T,k),I=Math.min(_.start,_.end),H=Math.max(_.start,_.end);v.globals.isXNumeric&&(d=(v.globals.seriesX[w][k]-v.globals.minX)/this.xRatio-g/2);var W=d+g*this.visibleI;null==this.series[w][k]?I=m:(I=m-I/S,H=m-H/S);var q=Math.abs(H-I),V=this.barHelpers.getColumnPaths({barXPosition:W,barWidth:g,y1:I,y2:H,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:c.realIndex,i:T,j:k,w:v});return v.globals.isXNumeric||(d+=f),{pathTo:V.pathTo,pathFrom:V.pathFrom,barHeight:q,x:d,y:H,goalY:this.barHelpers.getGoalValues("y",null,m,w,k),barXPosition:W}}},{key:"drawRangeBarPaths",value:function(o){var c=o.indexes,d=o.y,m=o.yDivision,v=o.barHeight,w=o.barYPosition,k=o.zeroW,S=this.w,T=k+o.y1/this.invertedYRatio,_=k+o.y2/this.invertedYRatio,I=Math.abs(_-T),H=this.barHelpers.getBarpaths({barYPosition:w,barHeight:v,x1:T,x2:_,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:c.realIndex,realIndex:c.realIndex,j:c.j,w:S});return S.globals.isXNumeric||(d+=m),{pathTo:H.pathTo,pathFrom:H.pathFrom,barWidth:I,x:_,goalX:this.barHelpers.getGoalValues("x",k,null,c.realIndex,c.j),y:d}}},{key:"getRangeValue",value:function(o,c){var d=this.w;return{start:d.globals.seriesRangeStart[o][c],end:d.globals.seriesRangeEnd[o][c]}}}]),n}(gn),vr=function(){function z(a){He(this,z),this.w=a.w,this.lineCtx=a}return Xe(z,[{key:"sameValueSeriesFix",value:function(a,n){var o=this.w;if(("gradient"===o.config.fill.type||"gradient"===o.config.fill.type[a])&&new Ce(this.lineCtx.ctx,o).seriesHaveSameValues(a)){var c=n[a].slice();c[c.length-1]=c[c.length-1]+1e-6,n[a]=c}return n}},{key:"calculatePoints",value:function(a){var n=a.series,c=a.x,d=a.y,f=a.i,g=a.j,m=a.prevY,v=this.w,w=[],k=[];if(0===g){var S=this.lineCtx.categoryAxisCorrection+v.config.markers.offsetX;v.globals.isXNumeric&&(S=(v.globals.seriesX[a.realIndex][0]-v.globals.minX)/this.lineCtx.xRatio+v.config.markers.offsetX),w.push(S),k.push(le.isNumber(n[f][0])?m+v.config.markers.offsetY:null),w.push(c+v.config.markers.offsetX),k.push(le.isNumber(n[f][g+1])?d+v.config.markers.offsetY:null)}else w.push(c+v.config.markers.offsetX),k.push(le.isNumber(n[f][g+1])?d+v.config.markers.offsetY:null);return{x:w,y:k}}},{key:"checkPreviousPaths",value:function(a){for(var n=a.pathFromLine,o=a.pathFromArea,c=a.realIndex,d=this.w,f=0;f<d.globals.previousPaths.length;f++){var g=d.globals.previousPaths[f];("line"===g.type||"area"===g.type)&&g.paths.length>0&&parseInt(g.realIndex,10)===parseInt(c,10)&&("line"===g.type?(this.lineCtx.appendPathFrom=!1,n=d.globals.previousPaths[f].paths[0].d):"area"===g.type&&(this.lineCtx.appendPathFrom=!1,o=d.globals.previousPaths[f].paths[0].d,d.config.stroke.show&&d.globals.previousPaths[f].paths[1]&&(n=d.globals.previousPaths[f].paths[1].d)))}return{pathFromLine:n,pathFromArea:o}}},{key:"determineFirstPrevY",value:function(a){var n,o=a.i,c=a.series,d=a.prevY,f=a.lineYPosition,g=this.w;if(void 0!==(null===(n=c[o])||void 0===n?void 0:n[0]))d=(f=g.config.chart.stacked&&o>0?this.lineCtx.prevSeriesY[o-1][0]:this.lineCtx.zeroY)-c[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?c[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(g.config.chart.stacked&&o>0&&void 0===c[o][0])for(var m=o-1;m>=0;m--)if(null!=c[m][0]){d=f=this.lineCtx.prevSeriesY[m][0];break}return{prevY:d,lineYPosition:f}}}]),z}(),yr=function(){function z(a,n,o){He(this,z),this.ctx=a,this.w=a.w,this.xyRatios=n,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||o,this.scatter=new Bs(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new vr(this),this.markers=new On(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Xe(z,[{key:"draw",value:function(a,n,o,c){var d=this.w,f=new be(this.ctx),g=d.globals.comboCharts?n:d.config.chart.type,m=f.group({class:"apexcharts-".concat(g,"-series apexcharts-plot-series")}),v=new Ce(this.ctx,d);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,a=v.getLogSeries(a),this.yRatio=v.getLogYRatios(this.yRatio);for(var w=[],k=0;k<a.length;k++){a=this.lineHelpers.sameValueSeriesFix(k,a);var S=d.globals.comboCharts?o[k]:k;this._initSerieVariables(a,k,S);var T=[],_=[],I=d.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,S),d.globals.isXNumeric&&d.globals.seriesX.length>0&&(I=(d.globals.seriesX[S][0]-d.globals.minX)/this.xRatio),_.push(I);var H,W=I,q=void 0,V=W,x=this.zeroY,E=this.zeroY;x=this.lineHelpers.determineFirstPrevY({i:k,series:a,prevY:x,lineYPosition:0}).prevY,T.push(x),H=x,"rangeArea"===g&&(q=E=this.lineHelpers.determineFirstPrevY({i:k,series:c,prevY:E,lineYPosition:0}).prevY);var D={type:g,series:a,realIndex:S,i:k,x:I,y:1,pX:W,pY:H,pathsFrom:this._calculatePathsFrom({type:g,series:a,i:k,realIndex:S,prevX:V,prevY:x,prevY2:E}),linePaths:[],areaPaths:[],seriesIndex:o,lineYPosition:0,xArrj:_,yArrj:T,seriesRangeEnd:c},F=this._iterateOverDataPoints(ze(ze({},D),{},{iterations:"rangeArea"===g?a[k].length-1:void 0,isRangeStart:!0}));if("rangeArea"===g){var j=this._calculatePathsFrom({series:c,i:k,realIndex:S,prevX:V,prevY:E}),oe=this._iterateOverDataPoints(ze(ze({},D),{},{series:c,pY:q,pathsFrom:j,iterations:c[k].length-1,isRangeStart:!1}));F.linePaths[0]=oe.linePath+F.linePath,F.pathFromLine=oe.pathFromLine+F.pathFromLine}this._handlePaths({type:g,realIndex:S,i:k,paths:F}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),w.push(this.elSeries)}if(d.config.chart.stacked)for(var ae=w.length;ae>0;ae--)m.add(w[ae-1]);else for(var ye=0;ye<w.length;ye++)m.add(w[ye]);return m}},{key:"_initSerieVariables",value:function(a,n,o){var c=this.w,d=new be(this.ctx);this.xDivision=c.globals.gridWidth/(c.globals.dataPoints-("on"===c.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(c.config.stroke.width)?c.config.stroke.width[o]:c.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=o),this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed,this.zeroY=c.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?c.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>c.globals.gridHeight||"end"===c.config.plotOptions.area.fillTo)&&(this.areaBottomY=c.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=d.group({class:"apexcharts-series",seriesName:le.escapeString(c.globals.seriesNames[o])}),this.elPointsMain=d.group({class:"apexcharts-series-markers-wrap","data:realIndex":o}),this.elDataLabelsWrap=d.group({class:"apexcharts-datalabels","data:realIndex":o}),this.elSeries.attr({"data:longestSeries":a[n].length===c.globals.dataPoints,rel:n+1,"data:realIndex":o}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(a){var n,o,c,d,f=a.type,g=a.series,m=a.i,v=a.realIndex,w=a.prevX,k=a.prevY,S=a.prevY2,T=this.w,_=new be(this.ctx);if(null===g[m][0]){for(var I=0;I<g[m].length;I++)if(null!==g[m][I]){n=_.move(w=this.xDivision*I,k=this.zeroY-g[m][I]/this.yRatio[this.yaxisIndex]),o=_.move(w,this.areaBottomY);break}}else n=_.move(w,k),"rangeArea"===f&&(n=_.move(w,S)+_.line(w,k)),o=_.move(w,this.areaBottomY)+_.line(w,k);if(c=_.move(-1,this.zeroY)+_.line(-1,this.zeroY),d=_.move(-1,this.zeroY)+_.line(-1,this.zeroY),T.globals.previousPaths.length>0){var H=this.lineHelpers.checkPreviousPaths({pathFromLine:c,pathFromArea:d,realIndex:v});c=H.pathFromLine,d=H.pathFromArea}return{prevX:w,prevY:k,linePath:n,areaPath:o,pathFromLine:c,pathFromArea:d}}},{key:"_handlePaths",value:function(a){var n=a.type,o=a.realIndex,c=a.i,d=a.paths,f=this.w,g=new be(this.ctx),m=new X(this.ctx);this.prevSeriesY.push(d.yArrj),f.globals.seriesXvalues[o]=d.xArrj,f.globals.seriesYvalues[o]=d.yArrj;var v=f.config.forecastDataPoints;if(v.count>0&&"rangeArea"!==n){var w=f.globals.seriesXvalues[o][f.globals.seriesXvalues[o].length-v.count-1],k=g.drawRect(w,0,f.globals.gridWidth,f.globals.gridHeight,0);f.globals.dom.elForecastMask.appendChild(k.node);var S=g.drawRect(0,0,w,f.globals.gridHeight,0);f.globals.dom.elNonForecastMask.appendChild(S.node)}this.pointsChart||f.globals.delayedElements.push({el:this.elPointsMain.node,index:o});var T={i:c,realIndex:o,animationDelay:c,initialSpeed:f.config.chart.animations.speed,dataChangeSpeed:f.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(n)};if("area"===n)for(var _=m.fillPath({seriesNumber:o}),I=0;I<d.areaPaths.length;I++){var H=g.renderPaths(ze(ze({},T),{},{pathFrom:d.pathFromArea,pathTo:d.areaPaths[I],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:_}));this.elSeries.add(H)}if(f.config.stroke.show&&!this.pointsChart){var W=null;if("line"===n)W=m.fillPath({seriesNumber:o,i:c});else if("solid"===f.config.stroke.fill.type)W=f.globals.stroke.colors[o];else{var q=f.config.fill;f.config.fill=f.config.stroke.fill,W=m.fillPath({seriesNumber:o,i:c}),f.config.fill=q}for(var V=0;V<d.linePaths.length;V++){var x=W;"rangeArea"===n&&(x=m.fillPath({seriesNumber:o}));var E=ze(ze({},T),{},{pathFrom:d.pathFromLine,pathTo:d.linePaths[V],stroke:W,strokeWidth:this.strokeWidth,strokeLineCap:f.config.stroke.lineCap,fill:"rangeArea"===n?x:"none"}),D=g.renderPaths(E);if(this.elSeries.add(D),D.attr("fill-rule","evenodd"),v.count>0&&"rangeArea"!==n){var F=g.renderPaths(E);F.node.setAttribute("stroke-dasharray",v.dashArray),v.strokeWidth&&F.node.setAttribute("stroke-width",v.strokeWidth),this.elSeries.add(F),F.attr("clip-path","url(#forecastMask".concat(f.globals.cuid,")")),D.attr("clip-path","url(#nonForecastMask".concat(f.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(a){var n=a.type,o=a.series,c=a.iterations,d=a.realIndex,f=a.i,g=a.x,m=a.y,v=a.pX,w=a.pY,k=a.pathsFrom,S=a.linePaths,T=a.areaPaths,_=a.seriesIndex,I=a.lineYPosition,H=a.xArrj,W=a.yArrj,q=a.isRangeStart,V=a.seriesRangeEnd,x=this.w,E=new be(this.ctx),D=this.yRatio,F=k.prevY,j=k.linePath,oe=k.areaPath,ae=k.pathFromLine,ye=k.pathFromArea,xe=le.isNumber(x.globals.minYArr[d])?x.globals.minYArr[d]:x.globals.minY;c||(c=x.globals.dataPoints>1?x.globals.dataPoints-1:x.globals.dataPoints);for(var Le=m,Pe=0;Pe<c;Pe++){var Je=null==o[f][Pe+1];if(x.globals.isXNumeric){var ot=x.globals.seriesX[d][Pe+1];void 0===x.globals.seriesX[d][Pe+1]&&(ot=x.globals.seriesX[d][c-1]),g=(ot-x.globals.minX)/this.xRatio}else g+=this.xDivision;I=x.config.chart.stacked&&f>0&&x.globals.collapsedSeries.length<x.config.series.length-1?this.prevSeriesY[function(wt){for(var St=wt,ca=0;ca<x.globals.series.length;ca++)if(x.globals.collapsedSeriesIndices.indexOf(wt)>-1){St--;break}return St>=0?St:0}(f-1)][Pe+1]:this.zeroY,Je?m=I-xe/D[this.yaxisIndex]+2*(this.isReversed?xe/D[this.yaxisIndex]:0):(m=I-o[f][Pe+1]/D[this.yaxisIndex]+2*(this.isReversed?o[f][Pe+1]/D[this.yaxisIndex]:0),"rangeArea"===n&&(Le=I-V[f][Pe+1]/D[this.yaxisIndex]+2*(this.isReversed?V[f][Pe+1]/D[this.yaxisIndex]:0))),H.push(g),W.push(m);var ht=this.lineHelpers.calculatePoints({series:o,x:g,y:m,realIndex:d,i:f,j:Pe,prevY:F}),ut=this._createPaths({type:n,series:o,i:f,realIndex:d,j:Pe,x:g,y:m,y2:Le,pX:v,pY:w,linePath:j,areaPath:oe,linePaths:S,areaPaths:T,seriesIndex:_,isRangeStart:q});T=ut.areaPaths,S=ut.linePaths,v=ut.pX,w=ut.pY,oe=ut.areaPath,j=ut.linePath,this.appendPathFrom&&(ae+=E.line(g,this.zeroY),ye+=E.line(g,this.zeroY)),this.handleNullDataPoints(o,ht,f,Pe,d),this._handleMarkersAndLabels({type:n,pointsPos:ht,i:f,j:Pe,realIndex:d,isRangeStart:q})}return{yArrj:W,xArrj:H,pathFromArea:ye,areaPaths:T,pathFromLine:ae,linePaths:S,linePath:j,areaPath:oe}}},{key:"_handleMarkersAndLabels",value:function(a){var n=a.type,o=a.pointsPos,c=a.isRangeStart,d=a.i,f=a.j,g=a.realIndex,m=this.w,v=new ei(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,f,{realIndex:g,pointsPos:o,zRatio:this.zRatio,elParent:this.elPointsMain});else{m.globals.series[d].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var w=this.markers.plotChartMarkers(o,g,f+1);null!==w&&this.elPointsMain.add(w)}var k=v.drawDataLabel({type:n,isRangeStart:c,pos:o,i:g,j:f+1});null!==k&&this.elDataLabelsWrap.add(k)}},{key:"_createPaths",value:function(a){var n=a.type,o=a.series,c=a.i,d=a.realIndex,f=a.j,g=a.x,m=a.y,v=a.y2,w=a.pX,k=a.pY,S=a.linePath,T=a.areaPath,_=a.linePaths,I=a.areaPaths,H=a.seriesIndex,W=a.isRangeStart,q=this.w,V=new be(this.ctx),x=q.config.stroke.curve,E=this.areaBottomY;if(Array.isArray(q.config.stroke.curve)&&(x=Array.isArray(H)?q.config.stroke.curve[H[c]]:q.config.stroke.curve[c]),"smooth"===x){var D=.35*(g-w);q.globals.hasNullValues?(null!==o[c][f]&&(null!==o[c][f+1]?(S=V.move(w,k)+V.curve(w+D,k,g-D,m,g+1,m),T=V.move(w+1,k)+V.curve(w+D,k,g-D,m,g+1,m)+V.line(g,E)+V.line(w,E)+"z"):(S=V.move(w,k),T=V.move(w,k)+"z")),_.push(S),I.push(T)):(S+=V.curve(w+D,k,g-D,m,g,m),T+=V.curve(w+D,k,g-D,m,g,m)),w=g,k=m,f===o[c].length-2&&(T=T+V.curve(w,k,g,m,g,E)+V.move(g,m)+"z","rangeArea"===n&&W?S=S+V.curve(w,k,g,m,g,v)+V.move(g,v)+"z":q.globals.hasNullValues||(_.push(S),I.push(T)))}else null===o[c][f+1]&&(S+=V.move(g,m),T=T+V.line(q.globals.isXNumeric?(q.globals.seriesX[d][f]-q.globals.minX)/this.xRatio:g-this.xDivision,E)+V.move(g,m)+"z"),null===o[c][f]&&(S+=V.move(g,m),T+=V.move(g,E)),"stepline"===x?(S=S+V.line(g,null,"H")+V.line(null,m,"V"),T=T+V.line(g,null,"H")+V.line(null,m,"V")):"straight"===x&&(S+=V.line(g,m),T+=V.line(g,m)),f===o[c].length-2&&(T=T+V.line(g,E)+V.move(g,m)+"z","rangeArea"===n&&W?S=S+V.line(g,v)+V.move(g,v)+"z":(_.push(S),I.push(T)));return{linePaths:_,areaPaths:I,pX:w,pY:k,linePath:S,areaPath:T}}},{key:"handleNullDataPoints",value:function(a,n,o,c,d){var f=this.w;if(null===a[o][c]&&f.config.markers.showNullDataPoints||1===a[o].length){var g=this.markers.plotChartMarkers(n,d,c+1,this.strokeWidth-f.config.markers.strokeWidth/2,!0);null!==g&&this.elPointsMain.add(g)}}}]),z}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function z(g,m,v,w){this.xoffset=g,this.yoffset=m,this.height=w,this.width=v,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(k){var S,T=[],_=this.xoffset,I=this.yoffset,H=d(k)/this.height,W=d(k)/this.width;if(this.width>=this.height)for(S=0;S<k.length;S++)T.push([_,I,_+H,I+k[S]/H]),I+=k[S]/H;else for(S=0;S<k.length;S++)T.push([_,I,_+k[S]/W,I+W]),_+=k[S]/W;return T},this.cutArea=function(k){var S;if(this.width>=this.height){var T=k/this.height;S=new z(this.xoffset+T,this.yoffset,this.width-T,this.height)}else{var I=k/this.width;S=new z(this.xoffset,this.yoffset+I,this.width,this.height-I)}return S}}function a(g,m,v,w,k){return w=void 0===w?0:w,k=void 0===k?0:k,function(T){var _,I,H=[];for(_=0;_<T.length;_++)for(I=0;I<T[_].length;I++)H.push(T[_][I]);return H}(n(function(T,_){var I,H=[],W=_/d(T);for(I=0;I<T.length;I++)H[I]=T[I]*W;return H}(g,m*v),[],new z(w,k,m,v),[]))}function n(g,m,v,w){var k,S,T,_,I,H,W;if(0!==g.length)return k=v.shortestEdge(),I=S=g[0],H=k,0===(_=m).length||((W=_.slice()).push(I),o(_,H)>=o(W,H))?(m.push(S),n(g.slice(1),m,v,w)):(T=v.cutArea(d(m),w),w.push(v.getCoordinates(m)),n(g,[],T,w)),w;w.push(v.getCoordinates(m))}function o(g,m){var v=Math.min.apply(Math,g),w=Math.max.apply(Math,g),k=d(g);return Math.max(Math.pow(m,2)*w/Math.pow(k,2),Math.pow(k,2)/(Math.pow(m,2)*v))}function c(g){return g&&g.constructor===Array}function d(g){var m,v=0;for(m=0;m<g.length;m++)v+=g[m];return v}function f(g){var m,v=0;if(c(g[0]))for(m=0;m<g.length;m++)v+=f(g[m]);else v=d(g);return v}return function g(m,v,w,k,S){k=void 0===k?0:k,S=void 0===S?0:S;var T,_,I=[],H=[];if(c(m[0])){for(_=0;_<m.length;_++)I[_]=f(m[_]);for(T=a(I,v,w,k,S),_=0;_<m.length;_++)H.push(g(m[_],T[_][2]-T[_][0],T[_][3]-T[_][1],T[_][0],T[_][1]))}else H=a(m,v,w,k,S);return H}}();var na,La,Hs=function(){function z(a,n){He(this,z),this.ctx=a,this.w=a.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Dn(a),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Xe(z,[{key:"draw",value:function(a){var n=this,o=this.w,c=new be(this.ctx),d=new X(this.ctx),f=c.group({class:"apexcharts-treemap"});if(o.globals.noData)return f;var g=[];return a.forEach(function(m){var v=m.map(function(w){return Math.abs(w)});g.push(v)}),this.negRange=this.helpers.checkColorRange(),o.config.series.forEach(function(m,v){m.data.forEach(function(w){Array.isArray(n.labels[v])||(n.labels[v]=[]),n.labels[v].push(w.x)})}),window.TreemapSquared.generate(g,o.globals.gridWidth,o.globals.gridHeight).forEach(function(m,v){var w=c.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:le.escapeString(o.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});if(o.config.chart.dropShadow.enabled){var k=o.config.chart.dropShadow;new ft(n.ctx).dropShadow(f,k,v)}var S=c.group({class:"apexcharts-data-labels"});m.forEach(function(T,_){var I=T[0],H=T[1],W=T[2],q=T[3],V=c.drawRect(I,H,W-I,q-H,0,"#fff",1,n.strokeWidth,o.config.plotOptions.treemap.useFillColorAsStroke?E:o.globals.stroke.colors[v]);V.attr({cx:I,cy:H,index:v,i:v,j:_,width:W-I,height:q-H});var x=n.helpers.getShadeColor(o.config.chart.type,v,_,n.negRange),E=x.color;void 0!==o.config.series[v].data[_]&&o.config.series[v].data[_].fillColor&&(E=o.config.series[v].data[_].fillColor);var D=d.fillPath({color:E,seriesNumber:v,dataPointIndex:_});V.node.classList.add("apexcharts-treemap-rect"),V.attr({fill:D}),n.helpers.addListeners(V);var F={x:I+(W-I)/2,y:H+(q-H)/2,width:0,height:0},j={x:I,y:H,width:W-I,height:q-H};if(o.config.chart.animations.enabled&&!o.globals.dataChanged){var oe=1;o.globals.resized||(oe=o.config.chart.animations.speed),n.animateTreemap(V,F,j,oe)}o.globals.dataChanged&&n.dynamicAnim.enabled&&o.globals.shouldAnimate&&(o.globals.previousPaths[v]&&o.globals.previousPaths[v][_]&&o.globals.previousPaths[v][_].rect&&(F=o.globals.previousPaths[v][_].rect),n.animateTreemap(V,F,j,n.dynamicAnim.speed));var ye=n.getFontSize(T),xe=o.config.dataLabels.formatter(n.labels[v][_],{value:o.globals.series[v][_],seriesIndex:v,dataPointIndex:_,w:o}),Le=n.helpers.calculateDataLabels({text:xe,x:(I+W)/2,y:(H+q)/2+n.strokeWidth/2+ye/3,i:v,j:_,colorProps:x,fontSize:ye,series:a});o.config.dataLabels.enabled&&Le&&n.rotateToFitLabel(Le,ye,xe,I,H,W,q),w.add(V),null!==Le&&w.add(Le)}),w.add(S),f.add(w)}),f}},{key:"getFontSize",value:function(a){var f,n=this.w,g=function m(v){var w,k=0;if(Array.isArray(v[0]))for(w=0;w<v.length;w++)k+=m(v[w]);else for(w=0;w<v.length;w++)k+=v[w].length;return k}(this.labels)/function m(v){var w,k=0;if(Array.isArray(v[0]))for(w=0;w<v.length;w++)k+=m(v[w]);else for(w=0;w<v.length;w++)k+=1;return k}(this.labels);return f=Math.pow((a[2]-a[0])*(a[3]-a[1]),.5),Math.min(f/g,parseInt(n.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(a,n,o,c,d,f,g){var m=new be(this.ctx),v=m.getTextRects(o,n);if(v.width+this.w.config.stroke.width+5>f-c&&v.width<=g-d){var w=m.rotateAroundCenter(a.node);a.node.setAttribute("transform","rotate(-90 ".concat(w.x," ").concat(w.y,")"))}}},{key:"animateTreemap",value:function(a,n,o,c){var d=new Ca(this.ctx);d.animateRect(a,{x:n.x,y:n.y,width:n.width,height:n.height},{x:o.x,y:o.y,width:o.width,height:o.height},c,function(){d.animationCompleted(a)})}}]),z}(),Mi=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Xe(z,[{key:"calculateTimeScaleTicks",value:function(a,n){var o=this,c=this.w;if(c.globals.allSeriesCollapsed)return c.globals.labels=[],c.globals.timescaleLabels=[],[];var d=new ct(this.ctx),f=(n-a)/864e5;this.determineInterval(f),c.globals.disableZoomIn=!1,c.globals.disableZoomOut=!1,f<.00011574074074074075?c.globals.disableZoomIn=!0:f>5e4&&(c.globals.disableZoomOut=!0);var g=d.getTimeUnitsfromTimestamp(a,n,this.utc),m=c.globals.gridWidth/f,v=m/24,w=v/60,k=w/60,S=Math.floor(24*f),T=Math.floor(1440*f),_=Math.floor(86400*f),I=Math.floor(f),H=Math.floor(f/30),W=Math.floor(f/365),q={minMillisecond:g.minMillisecond,minSecond:g.minSecond,minMinute:g.minMinute,minHour:g.minHour,minDate:g.minDate,minMonth:g.minMonth,minYear:g.minYear},V={firstVal:q,currentMillisecond:q.minMillisecond,currentSecond:q.minSecond,currentMinute:q.minMinute,currentHour:q.minHour,currentMonthDate:q.minDate,currentDate:q.minDate,currentMonth:q.minMonth,currentYear:q.minYear,daysWidthOnXAxis:m,hoursWidthOnXAxis:v,minutesWidthOnXAxis:w,secondsWidthOnXAxis:k,numberOfSeconds:_,numberOfMinutes:T,numberOfHours:S,numberOfDays:I,numberOfMonths:H,numberOfYears:W};switch(this.tickInterval){case"years":this.generateYearScale(V);break;case"months":case"half_year":this.generateMonthScale(V);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(V);break;case"hours":this.generateHourScale(V);break;case"minutes_fives":case"minutes":this.generateMinuteScale(V);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(V)}var x=this.timeScaleArray.map(function(E){var D={position:E.position,unit:E.unit,year:E.year,day:E.day?E.day:1,hour:E.hour?E.hour:0,month:E.month+1};return"month"===E.unit?ze(ze({},D),{},{day:1,value:E.value+1}):"day"===E.unit||"hour"===E.unit?ze(ze({},D),{},{value:E.value}):"minute"===E.unit?ze(ze({},D),{},{value:E.value,minute:E.value}):"second"===E.unit?ze(ze({},D),{},{value:E.value,minute:E.minute,second:E.second}):E});return x.filter(function(E){var D=1,F=Math.ceil(c.globals.gridWidth/120),j=E.value;void 0!==c.config.xaxis.tickAmount&&(F=c.config.xaxis.tickAmount),x.length>F&&(D=Math.floor(x.length/F));var oe=!1,ae=!1;switch(o.tickInterval){case"years":"year"===E.unit&&(oe=!0);break;case"half_year":D=7,"year"===E.unit&&(oe=!0);break;case"months":D=1,"year"===E.unit&&(oe=!0);break;case"months_fortnight":D=15,"year"!==E.unit&&"month"!==E.unit||(oe=!0),30===j&&(ae=!0);break;case"months_days":D=10,"month"===E.unit&&(oe=!0),30===j&&(ae=!0);break;case"week_days":D=8,"month"===E.unit&&(oe=!0);break;case"days":D=1,"month"===E.unit&&(oe=!0);break;case"hours":"day"===E.unit&&(oe=!0);break;case"minutes_fives":case"seconds_fives":j%5!=0&&(ae=!0);break;case"seconds_tens":j%10!=0&&(ae=!0)}if("hours"===o.tickInterval||"minutes_fives"===o.tickInterval||"seconds_tens"===o.tickInterval||"seconds_fives"===o.tickInterval){if(!ae)return!0}else if((j%D==0||oe)&&!ae)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(a,n){var o=this.w,c=this.formatDates(a),d=this.removeOverlappingTS(c);o.globals.timescaleLabels=d.slice(),new _n(this.ctx).plotCoords()}},{key:"determineInterval",value:function(a){var n=24*a,o=60*n;switch(!0){case a/365>5:this.tickInterval="years";break;case a>800:this.tickInterval="half_year";break;case a>180:this.tickInterval="months";break;case a>90:this.tickInterval="months_fortnight";break;case a>60:this.tickInterval="months_days";break;case a>30:this.tickInterval="week_days";break;case a>2:this.tickInterval="days";break;case n>2.4:this.tickInterval="hours";break;case o>15:this.tickInterval="minutes_fives";break;case o>5:this.tickInterval="minutes";break;case o>1:this.tickInterval="seconds_tens";break;case 60*o>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(a){var n=a.firstVal,o=a.currentMonth,c=a.currentYear,d=a.daysWidthOnXAxis,f=a.numberOfYears,g=n.minYear,m=0,v=new ct(this.ctx),w="year";if(n.minDate>1||n.minMonth>0){var k=v.determineRemainingDaysOfYear(n.minYear,n.minMonth,n.minDate);m=(v.determineDaysOfYear(n.minYear)-k+1)*d,this.timeScaleArray.push({position:m,value:g=n.minYear+1,unit:w,year:g,month:le.monthMod(o+1)})}else 1===n.minDate&&0===n.minMonth&&this.timeScaleArray.push({position:m,value:g,unit:w,year:c,month:le.monthMod(o+1)});for(var S=g,T=m,_=0;_<f;_++)S++,T=v.determineDaysOfYear(S-1)*d+T,this.timeScaleArray.push({position:T,value:S,unit:w,year:S,month:1})}},{key:"generateMonthScale",value:function(a){var n=a.firstVal,o=a.currentMonthDate,c=a.currentMonth,d=a.currentYear,f=a.daysWidthOnXAxis,g=a.numberOfMonths,m=c,v=0,w=new ct(this.ctx),k="month",S=0;if(n.minDate>1){v=(w.determineDaysOfMonths(c+1,n.minYear)-o+1)*f,m=le.monthMod(c+1);var T=d+S,_=le.monthMod(m),I=m;0===m&&(k="year",I=T,_=1,T+=S+=1),this.timeScaleArray.push({position:v,value:I,unit:k,year:T,month:_})}else this.timeScaleArray.push({position:v,value:m,unit:k,year:d,month:le.monthMod(c)});for(var H=m+1,W=v,q=0,V=1;q<g;q++,V++){0===(H=le.monthMod(H))?(k="year",S+=1):k="month";var x=this._getYear(d,H,S);W=w.determineDaysOfMonths(H,x)*f+W,this.timeScaleArray.push({position:W,value:0===H?x:H,unit:k,year:x,month:0===H?1:H}),H++}}},{key:"generateDayScale",value:function(a){var n=a.firstVal,o=a.currentMonth,c=a.currentYear,d=a.hoursWidthOnXAxis,f=a.numberOfDays,g=new ct(this.ctx),m="day",v=n.minDate+1,w=v,k=function(V,x,E){return V>g.determineDaysOfMonths(x+1,E)&&(w=1,m="month",T=x+=1),x},S=(24-n.minHour)*d,T=v,_=k(w,o,c);0===n.minHour&&1===n.minDate?(S=0,T=le.monthMod(n.minMonth),m="month",w=n.minDate,f++):1!==n.minDate&&0===n.minHour&&0===n.minMinute&&(S=0,T=v=n.minDate,_=k(w=v,o,c)),this.timeScaleArray.push({position:S,value:T,unit:m,year:this._getYear(c,_,0),month:le.monthMod(_),day:w});for(var I=S,H=0;H<f;H++){m="day",_=k(w+=1,_,this._getYear(c,_,0));var W=this._getYear(c,_,0);I=24*d+I;var q=1===w?le.monthMod(_):w;this.timeScaleArray.push({position:I,value:q,unit:m,year:W,month:le.monthMod(_),day:q})}}},{key:"generateHourScale",value:function(a){var n=a.firstVal,o=a.currentDate,c=a.currentMonth,d=a.currentYear,f=a.minutesWidthOnXAxis,g=a.numberOfHours,m=new ct(this.ctx),v="hour",k=function(D,F){return D>m.determineDaysOfMonths(F+1,d)?F+=1:F},S=60-(n.minMinute+n.minSecond/60),T=S*f,_=n.minHour+1,I=_+1;60===S&&(T=0,I=(_=n.minHour)+1);var D,F,H=o,W=k(H,c);this.timeScaleArray.push({position:T,value:_,unit:v,day:H,hour:I,year:d,month:le.monthMod(W)});for(var q=T,V=0;V<g;V++){v="hour",I>=24&&(I=0,v="day",W=(D=H+=1,F=W,D>m.determineDaysOfMonths(F+1,d)&&(H=1,F+=1),{month:F,date:H}).month,W=k(H,W));var x=this._getYear(d,W,0);this.timeScaleArray.push({position:q=60*f+q,value:0===I?H:I,unit:v,hour:I,day:H,year:x,month:le.monthMod(W)}),I++}}},{key:"generateMinuteScale",value:function(a){for(var v=a.minutesWidthOnXAxis,k=a.numberOfMinutes,S=a.currentMinute+1,T=a.currentDate,_=a.currentMonth,I=a.currentYear,H=a.currentHour,W=(60-a.currentSecond-a.currentMillisecond/1e3)*a.secondsWidthOnXAxis,q=0;q<k;q++)S>=60&&(S=0,24===(H+=1)&&(H=0)),this.timeScaleArray.push({position:W,value:S,unit:"minute",hour:H,minute:S,day:T,year:this._getYear(I,_,0),month:le.monthMod(_)}),W+=v,S++}},{key:"generateSecondScale",value:function(a){for(var v=a.secondsWidthOnXAxis,w=a.numberOfSeconds,k=a.currentSecond+1,S=a.currentMinute,T=a.currentDate,_=a.currentMonth,I=a.currentYear,H=a.currentHour,W=(1e3-a.currentMillisecond)/1e3*v,q=0;q<w;q++)k>=60&&(k=0,++S>=60&&(S=0,24==++H&&(H=0))),this.timeScaleArray.push({position:W,value:k,unit:"second",hour:H,minute:S,second:k,day:T,year:this._getYear(I,_,0),month:le.monthMod(_)}),W+=v,k++}},{key:"createRawDateString",value:function(a,n){var o=a.year;return 0===a.month&&(a.month=1),o+="-"+("0"+a.month.toString()).slice(-2),o+="day"===a.unit?"day"===a.unit?"-"+("0"+n).slice(-2):"-01":"-"+("0"+(a.day?a.day:"1")).slice(-2),o+="hour"===a.unit?"hour"===a.unit?"T"+("0"+n).slice(-2):"T00":"T"+("0"+(a.hour?a.hour:"0")).slice(-2),o+="minute"===a.unit?":"+("0"+n).slice(-2):":"+(a.minute?("0"+a.minute).slice(-2):"00"),o+="second"===a.unit?":"+("0"+n).slice(-2):":00",this.utc&&(o+=".000Z"),o}},{key:"formatDates",value:function(a){var n=this,o=this.w;return a.map(function(c){var d=c.value.toString(),f=new ct(n.ctx),g=n.createRawDateString(c,d),m=f.getDate(f.parseDate(g));if(n.utc||(m=f.getDate(f.parseDateWithTimezone(g))),void 0===o.config.xaxis.labels.format){var v="dd MMM",w=o.config.xaxis.labels.datetimeFormatter;"year"===c.unit&&(v=w.year),"month"===c.unit&&(v=w.month),"day"===c.unit&&(v=w.day),"hour"===c.unit&&(v=w.hour),"minute"===c.unit&&(v=w.minute),"second"===c.unit&&(v=w.second),d=f.formatDate(m,v)}else d=f.formatDate(m,o.config.xaxis.labels.format);return{dateString:g,position:c.position,value:d,unit:c.unit,year:c.year,month:c.month}})}},{key:"removeOverlappingTS",value:function(a){var n,o=this,c=new be(this.ctx),d=!1;a.length>0&&a[0].value&&a.every(function(m){return m.value.length===a[0].value.length})&&(d=!0,n=c.getTextRects(a[0].value).width);var f=0;return a.map(function(m,v){if(v>0&&o.w.config.xaxis.labels.hideOverlappingLabels){var w=d?n:c.getTextRects(a[f].value).width;return m.position>a[f].position+w+10?(f=v,m):null}return m}).filter(function(m){return null!==m})}},{key:"_getYear",value:function(a,n,o){return a+Math.floor(n/12)+o}}]),z}(),Ys=function(){function z(a,n){He(this,z),this.ctx=n,this.w=n.w,this.el=a}return Xe(z,[{key:"setupElements",value:function(){var a=this.w.globals,n=this.w.config,o=n.chart.type;a.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(o)>-1,a.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(o)>-1,a.isBarHorizontal=("bar"===n.chart.type||"rangeBar"===n.chart.type||"boxPlot"===n.chart.type)&&n.plotOptions.bar.horizontal,a.chartClass=".apexcharts"+a.chartID,a.dom.baseEl=this.el,a.dom.elWrap=document.createElement("div"),be.setAttrs(a.dom.elWrap,{id:a.chartClass.substring(1),class:"apexcharts-canvas "+a.chartClass.substring(1)}),this.el.appendChild(a.dom.elWrap),a.dom.Paper=new window.SVG.Doc(a.dom.elWrap),a.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),a.dom.Paper.node.style.background=n.chart.background,this.setSVGDimensions(),a.dom.elGraphical=a.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),a.dom.elAnnotations=a.dom.Paper.group().attr({class:"apexcharts-annotations"}),a.dom.elDefs=a.dom.Paper.defs(),a.dom.elLegendWrap=document.createElement("div"),a.dom.elLegendWrap.classList.add("apexcharts-legend"),a.dom.elWrap.appendChild(a.dom.elLegendWrap),a.dom.Paper.add(a.dom.elGraphical),a.dom.elGraphical.add(a.dom.elDefs)}},{key:"plotChartType",value:function(a,n){var o=this.w,c=o.config,d=o.globals,f={series:[],i:[]},g={series:[],i:[]},m={series:[],i:[]},v={series:[],i:[]},w={series:[],i:[]},k={series:[],i:[]},S={series:[],i:[]},T={series:[],i:[]},_={series:[],seriesRangeEnd:[],i:[]};d.series.map(function(F,j){var oe=0;void 0!==a[j].type?("column"===a[j].type||"bar"===a[j].type?(d.series.length>1&&c.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),w.series.push(F),w.i.push(j),oe++,o.globals.columnSeries=w.series):"area"===a[j].type?(g.series.push(F),g.i.push(j),oe++):"line"===a[j].type?(f.series.push(F),f.i.push(j),oe++):"scatter"===a[j].type?(m.series.push(F),m.i.push(j)):"bubble"===a[j].type?(v.series.push(F),v.i.push(j),oe++):"candlestick"===a[j].type?(k.series.push(F),k.i.push(j),oe++):"boxPlot"===a[j].type?(S.series.push(F),S.i.push(j),oe++):"rangeBar"===a[j].type?(T.series.push(F),T.i.push(j),oe++):"rangeArea"===a[j].type?(_.series.push(d.seriesRangeStart[j]),_.seriesRangeEnd.push(d.seriesRangeEnd[j]),_.i.push(j),oe++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),oe>1&&(d.comboCharts=!0)):(f.series.push(F),f.i.push(j))});var I=new yr(this.ctx,n),H=new Ze(this.ctx,n);this.ctx.pie=new br(this.ctx);var W=new bo(this.ctx);this.ctx.rangeBar=new Oi(this.ctx,n);var q=new xr(this.ctx),V=[];if(d.comboCharts){if(g.series.length>0&&V.push(I.draw(g.series,"area",g.i)),w.series.length>0)if(o.config.chart.stacked){var x=new pt(this.ctx,n);V.push(x.draw(w.series,w.i))}else this.ctx.bar=new gn(this.ctx,n),V.push(this.ctx.bar.draw(w.series,w.i));if(_.series.length>0&&V.push(I.draw(_.series,"rangeArea",_.i,_.seriesRangeEnd)),f.series.length>0&&V.push(I.draw(f.series,"line",f.i)),k.series.length>0&&V.push(H.draw(k.series,k.i)),S.series.length>0&&V.push(H.draw(S.series,S.i)),T.series.length>0&&V.push(this.ctx.rangeBar.draw(T.series,T.i)),m.series.length>0){var E=new yr(this.ctx,n,!0);V.push(E.draw(m.series,"scatter",m.i))}if(v.series.length>0){var D=new yr(this.ctx,n,!0);V.push(D.draw(v.series,"bubble",v.i))}}else switch(c.chart.type){case"line":V=I.draw(d.series,"line");break;case"area":V=I.draw(d.series,"area");break;case"bar":c.chart.stacked?V=new pt(this.ctx,n).draw(d.series):(this.ctx.bar=new gn(this.ctx,n),V=this.ctx.bar.draw(d.series));break;case"candlestick":case"boxPlot":V=new Ze(this.ctx,n).draw(d.series);break;case"rangeBar":V=this.ctx.rangeBar.draw(d.series);break;case"rangeArea":V=I.draw(d.seriesRangeStart,"rangeArea",void 0,d.seriesRangeEnd);break;case"heatmap":V=new Xs(this.ctx,n).draw(d.series);break;case"treemap":V=new Hs(this.ctx,n).draw(d.series);break;case"pie":case"donut":case"polarArea":V=this.ctx.pie.draw(d.series);break;case"radialBar":V=W.draw(d.series);break;case"radar":V=q.draw(d.series);break;default:V=I.draw(d.series)}return V}},{key:"setSVGDimensions",value:function(){var a=this.w.globals,n=this.w.config;a.svgWidth=n.chart.width,a.svgHeight=n.chart.height;var o=le.getDimensions(this.el),c=n.chart.width.toString().split(/[0-9]+/g).pop();"%"===c?le.isNumber(o[0])&&(0===o[0].width&&(o=le.getDimensions(this.el.parentNode)),a.svgWidth=o[0]*parseInt(n.chart.width,10)/100):"px"!==c&&""!==c||(a.svgWidth=parseInt(n.chart.width,10));var d=n.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==a.svgHeight&&""!==a.svgHeight)if("%"===d){var f=le.getDimensions(this.el.parentNode);a.svgHeight=f[1]*parseInt(n.chart.height,10)/100}else a.svgHeight=parseInt(n.chart.height,10);else a.svgHeight=a.axisCharts?a.svgWidth/1.61:a.svgWidth/1.2;a.svgWidth<0&&(a.svgWidth=0),a.svgHeight<0&&(a.svgHeight=0),be.setAttrs(a.dom.Paper.node,{width:a.svgWidth,height:a.svgHeight}),"%"!==d&&(a.dom.Paper.node.parentNode.parentNode.style.minHeight=a.svgHeight+(n.chart.sparkline.enabled?0:a.axisCharts?n.chart.parentHeightOffset:0)+"px"),a.dom.elWrap.style.width=a.svgWidth+"px",a.dom.elWrap.style.height=a.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var a=this.w.globals;be.setAttrs(a.dom.elGraphical.node,{transform:"translate("+a.translateX+", "+a.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var a=this.w,n=a.globals,o=0,c=a.config.chart.sparkline.enabled?1:15;c+=a.config.grid.padding.bottom,"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||!a.config.legend.show||a.config.legend.floating||(o=new un(this.ctx).legendHelpers.getLegendBBox().clwh+10);var d=a.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),f=2.05*a.globals.radialSize;if(d&&!a.config.chart.sparkline.enabled&&0!==a.config.plotOptions.radialBar.startAngle){var g=le.getBoundingClientRect(d);f=g.bottom,f=Math.max(2.05*a.globals.radialSize,g.bottom-g.top)}var v=f+n.translateY+o+c;n.dom.elLegendForeign&&n.dom.elLegendForeign.setAttribute("height",v),a.config.chart.height&&String(a.config.chart.height).indexOf("%")>0||(n.dom.elWrap.style.height=v+"px",be.setAttrs(n.dom.Paper.node,{height:v}),n.dom.Paper.node.parentNode.parentNode.style.minHeight=v+"px")}},{key:"coreCalculations",value:function(){new Ve(this.ctx).init()}},{key:"resetGlobals",value:function(){var a=this,n=function(){return a.w.config.series.map(function(d){return[]})},o=new vt,c=this.w.globals;o.initGlobalVars(c),c.seriesXvalues=n(),c.seriesYvalues=n()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var a=null,n=this.w;if(n.globals.axisCharts){if("back"===n.config.xaxis.crosshairs.position&&new Mn(this.ctx).drawXCrosshairs(),"back"===n.config.yaxis[0].crosshairs.position&&new Mn(this.ctx).drawYCrosshairs(),"datetime"===n.config.xaxis.type&&void 0===n.config.xaxis.labels.formatter){this.ctx.timeScale=new Mi(this.ctx);var o=[];isFinite(n.globals.minX)&&isFinite(n.globals.maxX)&&!n.globals.isBarHorizontal?o=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minX,n.globals.maxX):n.globals.isBarHorizontal&&(o=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minY,n.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(o)}a=new Ce(this.ctx).getCalculatedRatios()}return a}},{key:"updateSourceChart",value:function(a){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:a.w.globals.minX,max:a.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var a=this,n=this.w;if(n.config.chart.brush.enabled&&"function"!=typeof n.config.chart.events.selection){var o=n.config.chart.brush.targets||[n.config.chart.brush.target];o.forEach(function(c){var d=ApexCharts.getChartByID(c);d.w.globals.brushSource=a.ctx,"function"!=typeof d.w.config.chart.events.zoomed&&(d.w.config.chart.events.zoomed=function(){a.updateSourceChart(d)}),"function"!=typeof d.w.config.chart.events.scrolled&&(d.w.config.chart.events.scrolled=function(){a.updateSourceChart(d)})}),n.config.chart.events.selection=function(c,d){o.forEach(function(f){var g=ApexCharts.getChartByID(f),m=le.clone(n.config.yaxis);if(n.config.chart.brush.autoScaleYaxis&&1===g.w.globals.series.length){var v=new Ha(g);m=v.autoScaleY(g,m,d)}var w=g.w.config.yaxis.reduce(function(k,S,T){return[].concat(xt(k),[ze(ze({},g.w.config.yaxis[T]),{},{min:m[0].min,max:m[0].max})])},[]);g.ctx.updateHelpers._updateOptions({xaxis:{min:d.xaxis.min,max:d.xaxis.max},yaxis:w},!1,!1,!1,!1)})}}}}]),z}(),Ws=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"_updateOptions",value:function(a){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(g){var m=[n.ctx];d&&(m=n.ctx.getSyncedCharts()),n.ctx.w.globals.isExecCalled&&(m=[n.ctx],n.ctx.w.globals.isExecCalled=!1),m.forEach(function(v,w){var k=v.w;if(k.globals.shouldAnimate=c,o||(k.globals.resized=!0,k.globals.dataChanged=!0,c&&v.series.getPreviousPaths()),a&&"object"===Wt(a)&&(v.config=new Ga(a),a=Ce.extendArrayProps(v.config,a,k),v.w.globals.chartID!==n.ctx.w.globals.chartID&&delete a.series,k.config=le.extend(k.config,a),f&&(k.globals.lastXAxis=a.xaxis?le.clone(a.xaxis):[],k.globals.lastYAxis=a.yaxis?le.clone(a.yaxis):[],k.globals.initialConfig=le.extend({},k.config),k.globals.initialSeries=le.clone(k.config.series),a.series))){for(var S=0;S<k.globals.collapsedSeriesIndices.length;S++){var T=k.config.series[k.globals.collapsedSeriesIndices[S]];k.globals.collapsedSeries[S].data=k.globals.axisCharts?T.data.slice():T}for(var _=0;_<k.globals.ancillaryCollapsedSeriesIndices.length;_++){var I=k.config.series[k.globals.ancillaryCollapsedSeriesIndices[_]];k.globals.ancillaryCollapsedSeries[_].data=k.globals.axisCharts?I.data.slice():I}v.series.emptyCollapsedSeries(k.config.series)}return v.update(a).then(function(){w===m.length-1&&g(v)})})})}},{key:"_updateSeries",value:function(a,n){var o=this,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(d){var f,g=o.w;return g.globals.shouldAnimate=n,g.globals.dataChanged=!0,n&&o.ctx.series.getPreviousPaths(),g.globals.axisCharts?(0===(f=a.map(function(m,v){return o._extendSeries(m,v)})).length&&(f=[{data:[]}]),g.config.series=f):g.config.series=a.slice(),c&&(g.globals.initialConfig.series=le.clone(g.config.series),g.globals.initialSeries=le.clone(g.config.series)),o.ctx.update().then(function(){d(o.ctx)})})}},{key:"_extendSeries",value:function(a,n){var o=this.w,c=o.config.series[n];return ze(ze({},o.config.series[n]),{},{name:a.name?a.name:c&&c.name,color:a.color?a.color:c&&c.color,type:a.type?a.type:c&&c.type,data:a.data?a.data:c&&c.data})}},{key:"toggleDataPointSelection",value:function(a,n){var o=this.w,c=null,d=".apexcharts-series[data\\:realIndex='".concat(a,"']");return o.globals.axisCharts?c=o.globals.dom.Paper.select("".concat(d," path[j='").concat(n,"'], ").concat(d," circle[j='").concat(n,"'], ").concat(d," rect[j='").concat(n,"']")).members[0]:void 0===n&&(c=o.globals.dom.Paper.select("".concat(d," path[j='").concat(a,"']")).members[0],"pie"!==o.config.chart.type&&"polarArea"!==o.config.chart.type&&"donut"!==o.config.chart.type||this.ctx.pie.pieClicked(a)),c?(new be(this.ctx).pathMouseDown(c,null),c.node?c.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(a){var n=this.w;if(["min","max"].forEach(function(c){void 0!==a.xaxis[c]&&(n.config.xaxis[c]=a.xaxis[c],n.globals.lastXAxis[c]=a.xaxis[c])}),a.xaxis.categories&&a.xaxis.categories.length&&(n.config.xaxis.categories=a.xaxis.categories),n.config.xaxis.convertedCatToNumeric){var o=new Pn(a);a=o.convertCatToNumericXaxis(a,this.ctx)}return a}},{key:"forceYAxisUpdate",value:function(a){return a.chart&&a.chart.stacked&&"100%"===a.chart.stackType&&(Array.isArray(a.yaxis)?a.yaxis.forEach(function(n,o){a.yaxis[o].min=0,a.yaxis[o].max=100}):(a.yaxis.min=0,a.yaxis.max=100)),a}},{key:"revertDefaultAxisMinMax",value:function(a){var n=this,o=this.w,c=o.globals.lastXAxis,d=o.globals.lastYAxis;a&&a.xaxis&&(c=a.xaxis),a&&a.yaxis&&(d=a.yaxis),o.config.xaxis.min=c.min,o.config.xaxis.max=c.max,o.config.yaxis.map(function(g,m){o.globals.zoomed||void 0!==d[m]?function(g){void 0!==d[g]&&(o.config.yaxis[g].min=d[g].min,o.config.yaxis[g].max=d[g].max)}(m):void 0!==n.ctx.opts.yaxis[m]&&(g.min=n.ctx.opts.yaxis[m].min,g.max=n.ctx.opts.yaxis[m].max)})}}]),z}();na=typeof window<"u"?window:void 0,La=function(z,a){var n=(void 0!==this?this:z).SVG=function(x){if(n.supported)return x=new n.Doc(x),n.parser.draw||n.prepare(),x};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.dev",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(x){return"Svgjs"+w(x)+n.did++},n.create=function(x){var E=a.createElementNS(this.ns,x);return E.setAttribute("id",this.eid(x)),E},n.extend=function(){var x,E;E=(x=[].slice.call(arguments)).pop();for(var D=x.length-1;D>=0;D--)if(x[D])for(var F in E)x[D].prototype[F]=E[F];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(x){var E="function"==typeof x.create?x.create:function(){this.constructor.call(this,n.create(x.create))};return x.inherit&&(E.prototype=new x.inherit),x.extend&&n.extend(E,x.extend),x.construct&&n.extend(x.parent||n.Container,x.construct),E},n.adopt=function(x){return x?x.instance?x.instance:((E="svg"==x.nodeName?x.parentNode instanceof z.SVGElement?new n.Nested:new n.Doc:"linearGradient"==x.nodeName?new n.Gradient("linear"):"radialGradient"==x.nodeName?new n.Gradient("radial"):n[w(x.nodeName)]?new(n[w(x.nodeName)]):new n.Element(x)).type=x.nodeName,E.node=x,x.instance=E,E instanceof n.Doc&&E.namespace().defs(),E.setData(JSON.parse(x.getAttribute("svgjs:data"))||{}),E):null;var E},n.prepare=function(){var x=a.getElementsByTagName("body")[0],E=(x?new n.Doc(x):n.adopt(a.documentElement).nested()).size(2,0);n.parser={body:x||a.documentElement,draw:E.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:E.polyline().node,path:E.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},a.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(x,E){for(var D=x.length,F=[],j=0;j<D;j++)F.push(E(x[j]));return F},filter:function(x,E){for(var D=x.length,F=[],j=0;j<D;j++)E(x[j])&&F.push(x[j]);return F},filterSVGElements:function(x){return this.filter(x,function(E){return E instanceof z.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(x){var E,D;this.r=0,this.g=0,this.b=0,x&&("string"==typeof x?n.regex.isRgb.test(x)?(E=n.regex.rgb.exec(x.replace(n.regex.whitespace,"")),this.r=parseInt(E[1]),this.g=parseInt(E[2]),this.b=parseInt(E[3])):n.regex.isHex.test(x)&&(E=n.regex.hex.exec(4==(D=x).length?["#",D.substring(1,2),D.substring(1,2),D.substring(2,3),D.substring(2,3),D.substring(3,4),D.substring(3,4)].join(""):D),this.r=parseInt(E[1],16),this.g=parseInt(E[2],16),this.b=parseInt(E[3],16)):"object"===Wt(x)&&(this.r=x.r,this.g=x.g,this.b=x.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+k(this.r)+k(this.g)+k(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(x){return this.destination=new n.Color(x),this},at:function(x){return this.destination?new n.Color({r:~~(this.r+(this.destination.r-this.r)*(x=x<0?0:x>1?1:x)),g:~~(this.g+(this.destination.g-this.g)*x),b:~~(this.b+(this.destination.b-this.b)*x)}):this}}),n.Color.test=function(x){return n.regex.isHex.test(x+="")||n.regex.isRgb.test(x)},n.Color.isRgb=function(x){return x&&"number"==typeof x.r&&"number"==typeof x.g&&"number"==typeof x.b},n.Color.isColor=function(x){return n.Color.isRgb(x)||n.Color.test(x)},n.Array=function(x,E){0==(x=(x||[]).valueOf()).length&&E&&(x=E.valueOf()),this.value=this.parse(x)},n.extend(n.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(x){return x=x.valueOf(),Array.isArray(x)?x:this.split(x)}}),n.PointArray=function(x,E){n.Array.call(this,x,E||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray;for(var o={M:function(x,E,D){return E.x=D.x=x[0],E.y=D.y=x[1],["M",E.x,E.y]},L:function(x,E){return E.x=x[0],E.y=x[1],["L",x[0],x[1]]},H:function(x,E){return E.x=x[0],["H",x[0]]},V:function(x,E){return E.y=x[0],["V",x[0]]},C:function(x,E){return E.x=x[4],E.y=x[5],["C",x[0],x[1],x[2],x[3],x[4],x[5]]},Q:function(x,E){return E.x=x[2],E.y=x[3],["Q",x[0],x[1],x[2],x[3]]},Z:function(x,E,D){return E.x=D.x,E.y=D.y,["Z"]}},c="mlhvqtcsaz".split(""),d=0,f=c.length;d<f;++d)o[c[d]]=function(x){return function(E,D,F){if("H"==x)E[0]=E[0]+D.x;else if("V"==x)E[0]=E[0]+D.y;else if("A"==x)E[5]=E[5]+D.x,E[6]=E[6]+D.y;else for(var j=0,oe=E.length;j<oe;++j)E[j]=E[j]+(j%2?D.y:D.x);if(o&&"function"==typeof o[x])return o[x](E,D,F)}}(c[d].toUpperCase());n.PathArray=function(x,E){n.Array.call(this,x,E||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(x){for(var E=0,D=x.length,F="";E<D;E++)F+=x[E][0],null!=x[E][1]&&(F+=x[E][1],null!=x[E][2]&&(F+=" ",F+=x[E][2],null!=x[E][3]&&(F+=" ",F+=x[E][3],F+=" ",F+=x[E][4],null!=x[E][5]&&(F+=" ",F+=x[E][5],F+=" ",F+=x[E][6],null!=x[E][7]&&(F+=" ",F+=x[E][7])))));return F+" "}(this.value)},move:function(x,E){return this.bbox(),this},at:function(x){if(!this.destination)return this;for(var E=this.value,D=this.destination.value,F=[],j=new n.PathArray,oe=0,ae=E.length;oe<ae;oe++){F[oe]=[E[oe][0]];for(var ye=1,xe=E[oe].length;ye<xe;ye++)F[oe][ye]=E[oe][ye]+(D[oe][ye]-E[oe][ye])*x;"A"===F[oe][0]&&(F[oe][4]=+(0!=F[oe][4]),F[oe][5]=+(0!=F[oe][5]))}return j.value=F,j},parse:function(x){if(x instanceof n.PathArray)return x.valueOf();var E,D={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};x="string"==typeof x?x.replace(n.regex.numbersWithDots,m).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):x.reduce(function(xe,Le){return[].concat.call(xe,Le)},[]);var F=[],j=new n.Point,oe=new n.Point,ae=0,ye=x.length;do{n.regex.isPathLetter.test(x[ae])?(E=x[ae],++ae):"M"==E?E="L":"m"==E&&(E="l"),F.push(o[E].call(null,x.slice(ae,ae+=D[E.toUpperCase()]).map(parseFloat),j,oe))}while(ye>ae);return F},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(x,E){this.value=0,this.unit=E||"","number"==typeof x?this.value=isNaN(x)?0:isFinite(x)?x:x<0?-34e37:34e37:"string"==typeof x?(E=x.match(n.regex.numberAndUnit))&&(this.value=parseFloat(E[1]),"%"==E[5]?this.value/=100:"s"==E[5]&&(this.value*=1e3),this.unit=E[5]):x instanceof n.Number&&(this.value=x.valueOf(),this.unit=x.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(x){return x=new n.Number(x),new n.Number(this+x,this.unit||x.unit)},minus:function(x){return x=new n.Number(x),new n.Number(this-x,this.unit||x.unit)},times:function(x){return x=new n.Number(x),new n.Number(this*x,this.unit||x.unit)},divide:function(x){return x=new n.Number(x),new n.Number(this/x,this.unit||x.unit)},to:function(x){var E=new n.Number(this);return"string"==typeof x&&(E.unit=x),E},morph:function(x){return this.destination=new n.Number(x),x.relative&&(this.destination.value+=this.value),this},at:function(x){return this.destination?new n.Number(this.destination).minus(this).times(x).plus(this):this}}}),n.Element=n.invent({create:function(x){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=x)&&(this.type=x.nodeName,this.node.instance=this,this._stroke=x.getAttribute("stroke")||this._stroke)},extend:{x:function(x){return this.attr("x",x)},y:function(x){return this.attr("y",x)},cx:function(x){return null==x?this.x()+this.width()/2:this.x(x-this.width()/2)},cy:function(x){return null==x?this.y()+this.height()/2:this.y(x-this.height()/2)},move:function(x,E){return this.x(x).y(E)},center:function(x,E){return this.cx(x).cy(E)},width:function(x){return this.attr("width",x)},height:function(x){return this.attr("height",x)},size:function(x,E){var D=S(this,x,E);return this.width(new n.Number(D.width)).height(new n.Number(D.height))},clone:function(x){this.writeDataToDom();var E=I(this.node.cloneNode(!0));return x?x.add(E):this.after(E),E},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(x){return this.after(x).remove(),x},addTo:function(x){return x.put(this)},putIn:function(x){return x.add(this)},id:function(x){return this.attr("id",x)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var x=this.attr("class");return null==x?[]:x.trim().split(n.regex.delimiter)},hasClass:function(x){return-1!=this.classes().indexOf(x)},addClass:function(x){if(!this.hasClass(x)){var E=this.classes();E.push(x),this.attr("class",E.join(" "))}return this},removeClass:function(x){return this.hasClass(x)&&this.attr("class",this.classes().filter(function(E){return E!=x}).join(" ")),this},toggleClass:function(x){return this.hasClass(x)?this.removeClass(x):this.addClass(x)},reference:function(x){return n.get(this.attr(x))},parent:function(x){var E=this;if(!E.node.parentNode)return null;if(E=n.adopt(E.node.parentNode),!x)return E;for(;E&&E.node instanceof z.SVGElement;){if("string"==typeof x?E.matches(x):E instanceof x)return E;if(!E.node.parentNode||"#document"==E.node.parentNode.nodeName)return null;E=n.adopt(E.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(x){var E=[],D=this;do{if(!(D=D.parent(x))||!D.node)break;E.push(D)}while(D.parent);return E},matches:function(x){return((E=this.node).matches||E.matchesSelector||E.msMatchesSelector||E.mozMatchesSelector||E.webkitMatchesSelector||E.oMatchesSelector).call(E,x);var E},native:function(){return this.node},svg:function(x){var E=a.createElement("svg");if(!(x&&this instanceof n.Parent))return E.appendChild(x=a.createElement("svg")),this.writeDataToDom(),x.appendChild(this.node.cloneNode(!0)),E.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");E.innerHTML="<svg>"+x.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var D=0,F=E.firstChild.childNodes.length;D<F;D++)this.node.appendChild(E.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(x){return this.dom=x,this},is:function(x){return this instanceof x}}}),n.easing={"-":function(x){return x},"<>":function(x){return-Math.cos(x*Math.PI)/2+.5},">":function(x){return Math.sin(x*Math.PI/2)},"<":function(x){return 1-Math.cos(x*Math.PI/2)}},n.morph=function(x){return function(E,D){return new n.MorphObj(E,D).at(x)}},n.Situation=n.invent({create:function(x){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(x.duration).valueOf(),this.delay=new n.Number(x.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=x.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(x){this._target=x,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(x,E,D){"object"===Wt(x)&&(E=x.ease,D=x.delay,x=x.duration);var F=new n.Situation({duration:x||1e3,delay:D||0,ease:n.easing[E||"-"]||E});return this.queue(F),this},target:function(x){return x&&x instanceof n.Element?(this._target=x,this):this._target},timeToAbsPos:function(x){return(x-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(x){return this.situation.duration/this._speed*x+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=z.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){z.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(x){return("function"==typeof x||x instanceof n.Situation)&&this.situations.push(x),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var x,E=this.situation;if(E.init)return this;for(var D in E.animations){x=this.target()[D](),Array.isArray(x)||(x=[x]),Array.isArray(E.animations[D])||(E.animations[D]=[E.animations[D]]);for(var F=x.length;F--;)E.animations[D][F]instanceof n.Number&&(x[F]=new n.Number(x[F])),E.animations[D][F]=x[F].morph(E.animations[D][F])}for(var D in E.attrs)E.attrs[D]=new n.MorphObj(this.target().attr(D),E.attrs[D]);for(var D in E.styles)E.styles[D]=new n.MorphObj(this.target().style(D),E.styles[D]);return E.initialTransformation=this.target().matrixify(),E.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(x,E){var D=this.active;return this.active=!1,E&&this.clearQueue(),x&&this.situation&&(!D&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(x){var E=this.last();return this.target().on("finished.fx",function D(F){F.detail.situation==E&&(x.call(this,E),this.off("finished.fx",D))}),this._callStart()},during:function(x){var E=this.last(),D=function(F){F.detail.situation==E&&x.call(this,F.detail.pos,n.morph(F.detail.pos),F.detail.eased,E)};return this.target().off("during.fx",D).on("during.fx",D),this.after(function(){this.off("during.fx",D)}),this._callStart()},afterAll:function(x){var E=function D(F){x.call(this),this.off("allfinished.fx",D)};return this.target().off("allfinished.fx",E).on("allfinished.fx",E),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(x,E,D){return this.last()[D||"animations"][x]=E,this._callStart()},step:function(x){var E,D,F;x||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(E=Math.max(this.absPos,0),D=Math.floor(E),!0===this.situation.loops||D<this.situation.loops?(this.pos=E-D,F=this.situation.loop,this.situation.loop=D):(this.absPos=this.situation.loops,this.pos=1,F=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-F)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var j=this.situation.ease(this.pos);for(var oe in this.situation.once)oe>this.lastPos&&oe<=j&&(this.situation.once[oe].call(this.target(),this.pos,j),delete this.situation.once[oe]);return this.active&&this.target().fire("during",{pos:this.pos,eased:j,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=j,this):this},eachAt:function(){var x,E=this,D=this.target(),F=this.situation;for(var j in F.animations)x=[].concat(F.animations[j]).map(function(ye){return"string"!=typeof ye&&ye.at?ye.at(F.ease(E.pos),E.pos):ye}),D[j].apply(D,x);for(var j in F.attrs)x=[j].concat(F.attrs[j]).map(function(xe){return"string"!=typeof xe&&xe.at?xe.at(F.ease(E.pos),E.pos):xe}),D.attr.apply(D,x);for(var j in F.styles)x=[j].concat(F.styles[j]).map(function(xe){return"string"!=typeof xe&&xe.at?xe.at(F.ease(E.pos),E.pos):xe}),D.style.apply(D,x);if(F.transforms.length){x=F.initialTransformation,j=0;for(var oe=F.transforms.length;j<oe;j++){var ae=F.transforms[j];ae instanceof n.Matrix?x=ae.relative?x.multiply((new n.Matrix).morph(ae).at(F.ease(this.pos))):x.morph(ae).at(F.ease(this.pos)):(ae.relative||ae.undo(x.extract()),x=x.multiply(ae.at(F.ease(this.pos))))}D.matrix(x)}return this},once:function(x,E,D){var F=this.last();return D||(x=F.ease(x)),F.once[x]=E,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(x,E,D){return(this.fx||(this.fx=new n.FX(this))).animate(x,E,D)},delay:function(x){return(this.fx||(this.fx=new n.FX(this))).delay(x)},stop:function(x,E){return this.fx&&this.fx.stop(x,E),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),n.MorphObj=n.invent({create:function(x,E){return n.Color.isColor(E)?new n.Color(x).morph(E):n.regex.delimiter.test(x)?n.regex.pathLetters.test(x)?new n.PathArray(x).morph(E):new n.Array(x).morph(E):n.regex.numberAndUnit.test(E)?new n.Number(x).morph(E):(this.value=x,void(this.destination=E))},extend:{at:function(x,E){return E<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(x,E,D){if("object"===Wt(x))for(var F in x)this.attr(F,x[F]);else this.add(x,E,"attrs");return this},plot:function(x,E,D,F){return 4==arguments.length?this.plot([x,E,D,F]):this.add("plot",new(this.target().morphArray)(x))}}),n.Box=n.invent({create:function(x,E,D,F){if(!("object"!==Wt(x)||x instanceof n.Element))return n.Box.call(this,null!=x.left?x.left:x.x,null!=x.top?x.top:x.y,x.width,x.height);4==arguments.length&&(this.x=x,this.y=E,this.width=D,this.height=F),H(this)}}),n.BBox=n.invent({create:function(x){if(n.Box.apply(this,[].slice.call(arguments)),x instanceof n.Element){var E;try{if(!a.documentElement.contains){for(var D=x.node;D.parentNode;)D=D.parentNode;if(D!=a)throw new Error("Element not in the dom")}E=x.node.getBBox()}catch{if(x instanceof n.Shape){n.parser.draw||n.prepare();var F=x.clone(n.parser.draw.instance).show();F&&F.node&&"function"==typeof F.node.getBBox&&(E=F.node.getBBox()),F&&"function"==typeof F.remove&&F.remove()}else E={x:x.node.clientLeft,y:x.node.clientTop,width:x.node.clientWidth,height:x.node.clientHeight}}n.Box.call(this,E)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.Matrix=n.invent({create:function(x){var E=_([1,0,0,1,0,0]);x=null===x?E:x instanceof n.Element?x.matrixify():"string"==typeof x?_(x.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?_([].slice.call(arguments)):Array.isArray(x)?_(x):x&&"object"===Wt(x)?x:E;for(var D=q.length-1;D>=0;--D)this[q[D]]=null!=x[q[D]]?x[q[D]]:E[q[D]]},extend:{extract:function(){var x=T(this,0,1);T(this,1,0);var E=180/Math.PI*Math.atan2(x.y,x.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(E*Math.PI/180)+this.f*Math.sin(E*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(E*Math.PI/180)+this.e*Math.sin(-E*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:E,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(x){return this.destination=new n.Matrix(x),this},multiply:function(x){return new n.Matrix(this.native().multiply((E=x,E instanceof n.Matrix||(E=new n.Matrix(E)),E).native()));var E},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(x,E){return new n.Matrix(this.native().translate(x||0,E||0))},native:function(){for(var x=n.parser.native.createSVGMatrix(),E=q.length-1;E>=0;E--)x[q[E]]=this[q[E]];return x},toString:function(){return"matrix("+W(this.a)+","+W(this.b)+","+W(this.c)+","+W(this.d)+","+W(this.e)+","+W(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var x=this.rect(1,1),E=x.node.getScreenCTM();return x.remove(),new n.Matrix(E)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(x,E){var D;D=Array.isArray(x)?{x:x[0],y:x[1]}:"object"===Wt(x)?{x:x.x,y:x.y}:null!=x?{x,y:E??x}:{x:0,y:0},this.x=D.x,this.y=D.y},extend:{clone:function(){return new n.Point(this)},morph:function(x,E){return this.destination=new n.Point(x,E),this}}}),n.extend(n.Element,{point:function(x,E){return new n.Point(x,E).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(x,E,D){if(null==x){for(x={},D=(E=this.node.attributes).length-1;D>=0;D--)x[E[D].nodeName]=n.regex.isNumber.test(E[D].nodeValue)?parseFloat(E[D].nodeValue):E[D].nodeValue;return x}if("object"===Wt(x))for(var F in x)this.attr(F,x[F]);else if(null===E)this.node.removeAttribute(x);else{if(null==E)return null==(E=this.node.getAttribute(x))?n.defaults.attrs[x]:n.regex.isNumber.test(E)?parseFloat(E):E;"stroke-width"==x?this.attr("stroke",parseFloat(E)>0?this._stroke:null):"stroke"==x&&(this._stroke=E),"fill"!=x&&"stroke"!=x||(n.regex.isImage.test(E)&&(E=this.doc().defs().image(E,0,0)),E instanceof n.Image&&(E=this.doc().defs().pattern(0,0,function(){this.add(E)}))),"number"==typeof E?E=new n.Number(E):n.Color.isColor(E)?E=new n.Color(E):Array.isArray(E)&&(E=new n.Array(E)),"leading"==x?this.leading&&this.leading(E):"string"==typeof D?this.node.setAttributeNS(D,x,E.toString()):this.node.setAttribute(x,E.toString()),!this.rebuild||"font-size"!=x&&"x"!=x||this.rebuild(x,E)}return this}}),n.extend(n.Element,{transform:function(x,E){var D;return"object"!==Wt(x)?(D=new n.Matrix(this).extract(),"string"==typeof x?D[x]:D):(D=new n.Matrix(this),E=!!E||!!x.relative,null!=x.a&&(D=E?D.multiply(new n.Matrix(x)):new n.Matrix(x)),this.attr("transform",D))}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(x){var E=x.trim().split("(");return[E[0],E[1].split(n.regex.delimiter).map(function(D){return parseFloat(D)})]}).reduce(function(x,E){return"matrix"==E[0]?x.multiply(_(E[1])):x[E[0]].apply(x,E[1])},new n.Matrix)},toParent:function(x){if(this==x)return this;var E=this.screenCTM(),D=x.screenCTM().inverse();return this.addTo(x).untransform().transform(D.multiply(E)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(x,E){if(arguments.length>1&&"boolean"!=typeof E)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(x))for(var D=0,F=this.arguments.length;D<F;++D)this[this.arguments[D]]=x[D];else if(x&&"object"===Wt(x))for(D=0,F=this.arguments.length;D<F;++D)this[this.arguments[D]]=x[this.arguments[D]];this.inversed=!1,!0===E&&(this.inversed=!0)}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(x,E){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.extend(n.Element,{style:function(x,E){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Wt(x))for(var D in x)this.style(D,x[D]);else{if(!n.regex.isCss.test(x))return this.node.style[v(x)];for(x=x.split(/\s*;\s*/).filter(function(F){return!!F}).map(function(F){return F.split(/\s*:\s*/)});E=x.pop();)this.style(E[0],E[1])}else this.node.style[v(x)]=null===E||n.regex.isBlank.test(E)?"":E;return this}}),n.Parent=n.invent({create:function(x){this.constructor.call(this,x)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(x){return n.adopt(x)})},add:function(x,E){return null==E?this.node.appendChild(x.node):x.node!=this.node.childNodes[E]&&this.node.insertBefore(x.node,this.node.childNodes[E]),this},put:function(x,E){return this.add(x,E),x},has:function(x){return this.index(x)>=0},index:function(x){return[].slice.call(this.node.childNodes).indexOf(x.node)},get:function(x){return n.adopt(this.node.childNodes[x])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(x,E){for(var D=this.children(),F=0,j=D.length;F<j;F++)D[F]instanceof n.Element&&x.apply(D[F],[F,D]),E&&D[F]instanceof n.Container&&D[F].each(x,E);return this},removeElement:function(x){return this.node.removeChild(x.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(x,E){return 0===E||this instanceof n.Defs||this.node==n.parser.draw||(x=x||(this instanceof n.Doc?this:this.parent(n.Parent)),E=E||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(x,E-1):this.toParent(x)}),this.node.firstChild||this.remove()),this},flatten:function(x,E){return this.ungroup(x,E)}}),n.Container=n.invent({create:function(x){this.constructor.call(this,x)},inherit:n.Parent}),n.ViewBox=n.invent({parent:n.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(x){n.Element.prototype[x]=function(E){return n.on(this.node,x,E),this}}),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(x,E,D,F,j){var oe=D.bind(F||x.instance||x),ae=(n.handlerMap.indexOf(x)+1||n.handlerMap.push(x))-1,ye=E.split(".")[0],xe=E.split(".")[1]||"*";n.listeners[ae]=n.listeners[ae]||{},n.listeners[ae][ye]=n.listeners[ae][ye]||{},n.listeners[ae][ye][xe]=n.listeners[ae][ye][xe]||{},D._svgjsListenerId||(D._svgjsListenerId=++n.listenerId),n.listeners[ae][ye][xe][D._svgjsListenerId]=oe,x.addEventListener(ye,oe,j||{passive:!0})},n.off=function(x,E,D){var F=n.handlerMap.indexOf(x),j=E&&E.split(".")[0],oe=E&&E.split(".")[1],ae="";if(-1!=F)if(D){if("function"==typeof D&&(D=D._svgjsListenerId),!D)return;n.listeners[F][j]&&n.listeners[F][j][oe||"*"]&&(x.removeEventListener(j,n.listeners[F][j][oe||"*"][D],!1),delete n.listeners[F][j][oe||"*"][D])}else if(oe&&j){if(n.listeners[F][j]&&n.listeners[F][j][oe]){for(var ye in n.listeners[F][j][oe])n.off(x,[j,oe].join("."),ye);delete n.listeners[F][j][oe]}}else if(oe)for(var xe in n.listeners[F])for(var ae in n.listeners[F][xe])oe===ae&&n.off(x,[xe,oe].join("."));else if(j){if(n.listeners[F][j]){for(var ae in n.listeners[F][j])n.off(x,[j,ae].join("."));delete n.listeners[F][j]}}else{for(var xe in n.listeners[F])n.off(x,xe);delete n.listeners[F],delete n.handlerMap[F]}},n.extend(n.Element,{on:function(x,E,D,F){return n.on(this.node,x,E,D,F),this},off:function(x,E){return n.off(this.node,x,E),this},fire:function(x,E){return this.node.dispatchEvent(x instanceof z.Event?x:x=new n.CustomEvent(x,{detail:E,cancelable:!0})),this._event=x,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(x){return null==x?this.transform("x"):this.transform({x:x-this.x()},!0)}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(x){x&&("svg"==(x="string"==typeof x?a.getElementById(x):x).nodeName?this.constructor.call(this,x):(this.constructor.call(this,n.create("svg")),x.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var x;return this._defs||(this._defs=(x=this.node.getElementsByTagName("defs")[0])?n.adopt(x):new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(x){this.writeDataToDom();var E=this.node,D=I(E.cloneNode(!0));return x?(x.node||x).appendChild(D.node):E.parentNode.insertBefore(D.node,E.nextSibling),D}}}),n.extend(n.Element,{}),n.Gradient=n.invent({create:function(x){this.constructor.call(this,n.create(x+"Gradient")),this.type=x},inherit:n.Container,extend:{at:function(x,E,D){return this.put(new n.Stop).update(x,E,D)},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(x,E,D){return"transform"==x&&(x="gradientTransform"),n.Container.prototype.attr.call(this,x,E,D)}},construct:{gradient:function(x,E){return this.defs().gradient(x,E)}}}),n.extend(n.Gradient,n.FX,{from:function(x,E){return this.attr("radial"==(this._target||this).type?{fx:new n.Number(x),fy:new n.Number(E)}:{x1:new n.Number(x),y1:new n.Number(E)})},to:function(x,E){return this.attr("radial"==(this._target||this).type?{cx:new n.Number(x),cy:new n.Number(E)}:{x2:new n.Number(x),y2:new n.Number(E)})}}),n.extend(n.Defs,{gradient:function(x,E){return this.put(new n.Gradient(x)).update(E)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(x){return("number"==typeof x||x instanceof n.Number)&&(x={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=x.opacity&&this.attr("stop-opacity",x.opacity),null!=x.color&&this.attr("stop-color",x.color),null!=x.offset&&this.attr("offset",new n.Number(x.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},toString:function(){return this.fill()},attr:function(x,E,D){return"transform"==x&&(x="patternTransform"),n.Container.prototype.attr.call(this,x,E,D)}},construct:{pattern:function(x,E,D){return this.defs().pattern(x,E,D)}}}),n.extend(n.Defs,{pattern:function(x,E,D){return this.put(new n.Pattern).update(D).attr({x:0,y:0,width:x,height:E,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(x){this.constructor.call(this,x)},inherit:n.Element}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(x,E){return this.attr("href",(E||"")+"#"+x,n.xlink)}},construct:{use:function(x,E){return this.put(new n.Use).element(x,E)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(x,E){return this.put(new n.Rect).size(x,E)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(x){return this.put(new n.Circle).rx(new n.Number(x).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(x){return this.attr("r",x)},ry:function(x){return this.rx(x)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(x,E){return this.put(new n.Ellipse).size(x,E).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(x){return this.attr("rx",x)},ry:function(x){return this.attr("ry",x)}}),n.extend(n.Circle,n.Ellipse,{x:function(x){return null==x?this.cx()-this.rx():this.cx(x+this.rx())},y:function(x){return null==x?this.cy()-this.ry():this.cy(x+this.ry())},cx:function(x){return null==x?this.attr("cx"):this.attr("cx",x)},cy:function(x){return null==x?this.attr("cy"):this.attr("cy",x)},width:function(x){return null==x?2*this.rx():this.rx(new n.Number(x).divide(2))},height:function(x){return null==x?2*this.ry():this.ry(new n.Number(x).divide(2))},size:function(x,E){var D=S(this,x,E);return this.rx(new n.Number(D.width).divide(2)).ry(new n.Number(D.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(x,E,D,F){return null==x?this.array():(x=void 0!==E?{x1:x,y1:E,x2:D,y2:F}:new n.PointArray(x).toLine(),this.attr(x))},move:function(x,E){return this.attr(this.array().move(x,E).toLine())},size:function(x,E){var D=S(this,x,E);return this.attr(this.array().size(D.width,D.height).toLine())}},construct:{line:function(x,E,D,F){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=x?[x,E,D,F]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(x){return this.put(new n.Polyline).plot(x||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(x){return this.put(new n.Polygon).plot(x||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(x){return null==x?this.array():this.clear().attr("points","string"==typeof x?x:this._array=new n.PointArray(x))},clear:function(){return delete this._array,this},move:function(x,E){return this.attr("points",this.array().move(x,E))},size:function(x,E){var D=S(this,x,E);return this.attr("points",this.array().size(D.width,D.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(x){return null==x?this.bbox().x:this.move(x,this.bbox().y)},y:function(x){return null==x?this.bbox().y:this.move(this.bbox().x,x)},width:function(x){var E=this.bbox();return null==x?E.width:this.size(x,E.height)},height:function(x){var E=this.bbox();return null==x?E.height:this.size(E.width,x)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(x){return null==x?this.array():this.clear().attr("d","string"==typeof x?x:this._array=new n.PathArray(x))},clear:function(){return delete this._array,this}},construct:{path:function(x){return this.put(new n.Path).plot(x||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(x){if(!x)return this;var E=this,D=new z.Image;return n.on(D,"load",function(){n.off(D);var F=E.parent(n.Pattern);null!==F&&(0==E.width()&&0==E.height()&&E.size(D.width,D.height),F&&0==F.width()&&0==F.height()&&F.size(E.width(),E.height()),"function"==typeof E._loaded&&E._loaded.call(E,{width:D.width,height:D.height,ratio:D.width/D.height,url:x}))}),n.on(D,"error",function(F){n.off(D),"function"==typeof E._error&&E._error.call(E,F)}),this.attr("href",D.src=this.src=x,n.xlink)},loaded:function(x){return this._loaded=x,this},error:function(x){return this._error=x,this}},construct:{image:function(x,E,D){return this.put(new n.Image).load(x).size(E||0,D||E||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(x){return null==x?this.attr("x"):this.attr("x",x)},text:function(x){if(void 0===x){x="";for(var E=this.node.childNodes,D=0,F=E.length;D<F;++D)0!=D&&3!=E[D].nodeType&&1==n.adopt(E[D]).dom.newLined&&(x+="\n"),x+=E[D].textContent;return x}if(this.clear().build(!0),"function"==typeof x)x.call(this,this);else{D=0;for(var j=(x=x.split("\n")).length;D<j;D++)this.tspan(x[D]).newLine()}return this.build(!1).rebuild()},size:function(x){return this.attr("font-size",x).rebuild()},leading:function(x){return null==x?this.dom.leading:(this.dom.leading=new n.Number(x),this.rebuild())},lines:function(){var x=(this.textPath&&this.textPath()||this).node,E=n.utils.map(n.utils.filterSVGElements(x.childNodes),function(D){return n.adopt(D)});return new n.Set(E)},rebuild:function(x){if("boolean"==typeof x&&(this._rebuild=x),this._rebuild){var E=this,D=0,F=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(E.textPath()||this.attr("x",E.attr("x")),"\n"==this.text()?D+=F:(this.attr("dy",F+D),D=0))}),this.fire("rebuild")}return this},build:function(x){return this._build=!!x,this},setData:function(x){return this.dom=x,this.dom.leading=new n.Number(x.leading||1.3),this}},construct:{text:function(x){return this.put(new n.Text).text(x)},plain:function(x){return this.put(new n.Text).plain(x)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(x){return null==x?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof x?x.call(this,this):this.plain(x),this)},dx:function(x){return this.attr("dx",x)},dy:function(x){return this.attr("dy",x)},newLine:function(){var x=this.parent(n.Text);return this.dom.newLined=!0,this.dy(x.dom.leading*x.attr("font-size")).attr("x",x.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(x){return!1===this._build&&this.clear(),this.node.appendChild(a.createTextNode(x)),this},tspan:function(x){var E=(this.textPath&&this.textPath()||this).node,D=new n.Tspan;return!1===this._build&&this.clear(),E.appendChild(D.node),D.text(x)},clear:function(){for(var x=(this.textPath&&this.textPath()||this).node;x.hasChildNodes();)x.removeChild(x.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,array:function(){var x=this.track();return x?x.array():null},plot:function(x){var E=this.track(),D=null;return E&&(D=E.plot(x)),null==x?D:this},track:function(){var x=this.textPath();if(x)return x.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}});var g={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(x,E){return"color"==E?x:x+"-"+E}};function m(x,E,D,F){return D+F.replace(n.regex.dots," .")}function v(x){return x.toLowerCase().replace(/-(.)/g,function(E,D){return D.toUpperCase()})}function w(x){return x.charAt(0).toUpperCase()+x.slice(1)}function k(x){var E=x.toString(16);return 1==E.length?"0"+E:E}function S(x,E,D){if(null==E||null==D){var F=x.bbox();null==E?E=F.width/F.height*D:null==D&&(D=F.height/F.width*E)}return{width:E,height:D}}function T(x,E,D){return{x:E*x.a+D*x.c+0,y:E*x.b+D*x.d+0}}function _(x){return{a:x[0],b:x[1],c:x[2],d:x[3],e:x[4],f:x[5]}}function I(x){for(var E=x.childNodes.length-1;E>=0;E--)x.childNodes[E]instanceof z.SVGElement&&I(x.childNodes[E]);return n.adopt(x).id(n.eid(x.nodeName))}function H(x){return null==x.x&&(x.x=0,x.y=0,x.width=0,x.height=0),x.w=x.width,x.h=x.height,x.x2=x.x+x.width,x.y2=x.y+x.height,x.cx=x.x+x.width/2,x.cy=x.y+x.height/2,x}function W(x){return Math.abs(x)>1e-37?x:0}["fill","stroke"].forEach(function(x){var E={};E[x]=function(D){if(void 0===D)return this;if("string"==typeof D||n.Color.isRgb(D)||D&&"function"==typeof D.fill)this.attr(x,D);else for(var F=g[x].length-1;F>=0;F--)null!=D[g[x][F]]&&this.attr(g.prefix(x,g[x][F]),D[g[x][F]]);return this},n.extend(n.Element,n.FX,E)}),n.extend(n.Element,n.FX,{translate:function(x,E){return this.transform({x,y:E})},matrix:function(x){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):x))},opacity:function(x){return this.attr("opacity",x)},dx:function(x){return this.x(new n.Number(x).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(x){return this.y(new n.Number(x).plus(this instanceof n.FX?0:this.y()),!0)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(x){return this.node.getPointAtLength(x)}}),n.Set=n.invent({create:function(x){Array.isArray(x)?this.members=x:this.clear()},extend:{add:function(){for(var x=[].slice.call(arguments),E=0,D=x.length;E<D;E++)this.members.push(x[E]);return this},remove:function(x){var E=this.index(x);return E>-1&&this.members.splice(E,1),this},each:function(x){for(var E=0,D=this.members.length;E<D;E++)x.apply(this.members[E],[E,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(x){return this.index(x)>=0},index:function(x){return this.members.indexOf(x)},get:function(x){return this.members[x]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(x){return new n.Set(x)}}}),n.FX.Set=n.invent({create:function(x){this.set=x}}),n.Set.inherit=function(){var x=[];for(var E in n.Shape.prototype)"function"==typeof n.Shape.prototype[E]&&"function"!=typeof n.Set.prototype[E]&&x.push(E);for(var E in x.forEach(function(F){n.Set.prototype[F]=function(){for(var j=0,oe=this.members.length;j<oe;j++)this.members[j]&&"function"==typeof this.members[j][F]&&this.members[j][F].apply(this.members[j],arguments);return"animate"==F?this.fx||(this.fx=new n.FX.Set(this)):this}}),x=[],n.FX.prototype)"function"==typeof n.FX.prototype[E]&&"function"!=typeof n.FX.Set.prototype[E]&&x.push(E);x.forEach(function(D){n.FX.Set.prototype[D]=function(){for(var F=0,j=this.set.members.length;F<j;F++)this.set.members[F].fx[D].apply(this.set.members[F].fx,arguments);return this}})},n.extend(n.Element,{}),n.extend(n.Element,{remember:function(x,E){if("object"===Wt(arguments[0]))for(var D in x)this.remember(D,x[D]);else{if(1==arguments.length)return this.memory()[x];this.memory()[x]=E}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var x=arguments.length-1;x>=0;x--)delete this.memory()[arguments[x]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(x){var E=a.getElementById(function(D){var F=(D||"").toString().match(n.regex.reference);if(F)return F[1]}(x)||x);return n.adopt(E)},n.select=function(x,E){return new n.Set(n.utils.map((E||a).querySelectorAll(x),function(D){return n.adopt(D)}))},n.extend(n.Parent,{select:function(x){return n.select(x,this.node)}});var q="abcdef".split("");if("function"!=typeof z.CustomEvent){var V=function(x,E){E=E||{bubbles:!1,cancelable:!1,detail:void 0};var D=a.createEvent("CustomEvent");return D.initCustomEvent(x,E.bubbles,E.cancelable,E.detail),D};V.prototype=z.Event.prototype,n.CustomEvent=V}else n.CustomEvent=z.CustomEvent;return n},"function"==typeof define&&define.amd?define(function(){return La(na,na.document)}):"object"===(typeof exports>"u"?"undefined":Wt(exports))&&typeof module<"u"?module.exports=na.document?La(na,na.document):function(z){return La(z,z.document)}:na.SVG=La(na,na.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(g,m){return this.add(g,m),!g.attr("in")&&this.autoSetIn&&g.attr("in",this.source),g.attr("result")||g.attr("result",g),g},blend:function(g,m,v){return this.put(new SVG.BlendEffect(g,m,v))},colorMatrix:function(g,m){return this.put(new SVG.ColorMatrixEffect(g,m))},convolveMatrix:function(g){return this.put(new SVG.ConvolveMatrixEffect(g))},componentTransfer:function(g){return this.put(new SVG.ComponentTransferEffect(g))},composite:function(g,m,v){return this.put(new SVG.CompositeEffect(g,m,v))},flood:function(g,m){return this.put(new SVG.FloodEffect(g,m))},offset:function(g,m){return this.put(new SVG.OffsetEffect(g,m))},image:function(g){return this.put(new SVG.ImageEffect(g))},merge:function(){var g=[void 0];for(var m in arguments)g.push(arguments[m]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,g)))},gaussianBlur:function(g,m){return this.put(new SVG.GaussianBlurEffect(g,m))},morphology:function(g,m){return this.put(new SVG.MorphologyEffect(g,m))},diffuseLighting:function(g,m,v){return this.put(new SVG.DiffuseLightingEffect(g,m,v))},displacementMap:function(g,m,v,w,k){return this.put(new SVG.DisplacementMapEffect(g,m,v,w,k))},specularLighting:function(g,m,v,w){return this.put(new SVG.SpecularLightingEffect(g,m,v,w))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(g,m,v,w,k){return this.put(new SVG.TurbulenceEffect(g,m,v,w,k))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(g){var m=this.put(new SVG.Filter);return"function"==typeof g&&g.call(m,m),m}}),SVG.extend(SVG.Container,{filter:function(g){return this.defs().filter(g)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(g){return this.filterer=g instanceof SVG.Element?g:this.doc().filter(g),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(g){return this.filterer&&!0===g&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}});var z={blend:function(g,m){return this.parent()&&this.parent().blend(this,g,m)},colorMatrix:function(g,m){return this.parent()&&this.parent().colorMatrix(g,m).in(this)},convolveMatrix:function(g){return this.parent()&&this.parent().convolveMatrix(g).in(this)},componentTransfer:function(g){return this.parent()&&this.parent().componentTransfer(g).in(this)},composite:function(g,m){return this.parent()&&this.parent().composite(this,g,m)},flood:function(g,m){return this.parent()&&this.parent().flood(g,m)},offset:function(g,m){return this.parent()&&this.parent().offset(g,m).in(this)},image:function(g){return this.parent()&&this.parent().image(g)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(g,m){return this.parent()&&this.parent().gaussianBlur(g,m).in(this)},morphology:function(g,m){return this.parent()&&this.parent().morphology(g,m).in(this)},diffuseLighting:function(g,m,v){return this.parent()&&this.parent().diffuseLighting(g,m,v).in(this)},displacementMap:function(g,m,v,w){return this.parent()&&this.parent().displacementMap(this,g,m,v,w)},specularLighting:function(g,m,v,w){return this.parent()&&this.parent().specularLighting(g,m,v,w).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(g,m,v,w,k){return this.parent()&&this.parent().turbulence(g,m,v,w,k).in(this)}};SVG.extend(SVG.Effect,z),SVG.extend(SVG.ParentEffect,z),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){this.attr("in",g)}}});var a={blend:function(g,m,v){this.attr({in:g,in2:m,mode:v||"normal"})},colorMatrix:function(g,m){"matrix"==g&&(m=c(m)),this.attr({type:g,values:void 0===m?null:m})},convolveMatrix:function(g){g=c(g),this.attr({order:Math.sqrt(g.split(" ").length),kernelMatrix:g})},composite:function(g,m,v){this.attr({in:g,in2:m,operator:v})},flood:function(g,m){this.attr("flood-color",g),null!=m&&this.attr("flood-opacity",m)},offset:function(g,m){this.attr({dx:g,dy:m})},image:function(g){this.attr("href",g,SVG.xlink)},displacementMap:function(g,m,v,w,k){this.attr({in:g,in2:m,scale:v,xChannelSelector:w,yChannelSelector:k})},gaussianBlur:function(g,m){this.attr("stdDeviation",null!=g||null!=m?d(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(g,m){this.attr({operator:g,radius:m})},tile:function(){},turbulence:function(g,m,v,w,k){this.attr({numOctaves:m,seed:v,stitchTiles:w,baseFrequency:g,type:k})}},n={merge:function(){var g;if(arguments[0]instanceof SVG.Set){var m=this;arguments[0].each(function(w){this instanceof SVG.MergeNode?m.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&m.put(new SVG.MergeNode(this))})}else{g=Array.isArray(arguments[0])?arguments[0]:arguments;for(var v=0;v<g.length;v++)g[v]instanceof SVG.MergeNode?this.put(g[v]):this.put(new SVG.MergeNode(g[v]))}},componentTransfer:function(g){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(v){this[v]=new(SVG["Func"+v.toUpperCase()])("identity"),this.rgb.add(this[v]),this.node.appendChild(this[v].node)}.bind(this)),g)for(var m in g.rgb&&(["r","g","b"].forEach(function(v){this[v].attr(g.rgb)}.bind(this)),delete g.rgb),g)this[m].attr(g[m])},diffuseLighting:function(g,m,v){this.attr({surfaceScale:g,diffuseConstant:m,kernelUnitLength:v})},specularLighting:function(g,m,v,w){this.attr({surfaceScale:g,diffuseConstant:m,specularExponent:v,kernelUnitLength:w})}},o={distantLight:function(g,m){this.attr({azimuth:g,elevation:m})},pointLight:function(g,m,v){this.attr({x:g,y:m,z:v})},spotLight:function(g,m,v,w,k,S){this.attr({x:g,y:m,z:v,pointsAtX:w,pointsAtY:k,pointsAtZ:S})},mergeNode:function(g){this.attr("in",g)}};function c(g){return Array.isArray(g)&&(g=new SVG.Array(g)),g.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function d(g){if(!Array.isArray(g))return g;for(var m=0,v=g.length,w=[];m<v;m++)w.push(g[m]);return w.join(" ")}function f(){var g=function(){};for(var m in"function"==typeof arguments[arguments.length-1]&&(g=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var v in arguments[m])g(arguments[m][v],v,arguments[m])}["r","g","b","a"].forEach(function(g){o["Func"+g.toUpperCase()]=function(m){switch(this.attr("type",m),m){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),f(a,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),f(n,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),f(o,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(g){return g instanceof SVG.MergeNode?this.add(g,0):this.add(new SVG.MergeNode(g),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",g)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function z(d,f,g,m,v,w,k){for(var S=d.slice(f,g||k),T=m.slice(v,w||k),_=0,I={pos:[0,0],start:[0,0]},H={pos:[0,0],start:[0,0]};S[_]=a.call(I,S[_]),T[_]=a.call(H,T[_]),S[_][0]!=T[_][0]||"M"==S[_][0]||"A"==S[_][0]&&(S[_][4]!=T[_][4]||S[_][5]!=T[_][5])?(Array.prototype.splice.apply(S,[_,1].concat(o.call(I,S[_]))),Array.prototype.splice.apply(T,[_,1].concat(o.call(H,T[_])))):(S[_]=n.call(I,S[_]),T[_]=n.call(H,T[_])),++_!=S.length||_!=T.length;)_==S.length&&S.push(["C",I.pos[0],I.pos[1],I.pos[0],I.pos[1],I.pos[0],I.pos[1]]),_==T.length&&T.push(["C",H.pos[0],H.pos[1],H.pos[0],H.pos[1],H.pos[0],H.pos[1]]);return{start:S,dest:T}}function a(d){switch(d[0]){case"z":case"Z":d[0]="L",d[1]=this.start[0],d[2]=this.start[1];break;case"H":d[0]="L",d[2]=this.pos[1];break;case"V":d[0]="L",d[2]=d[1],d[1]=this.pos[0];break;case"T":d[0]="Q",d[3]=d[1],d[4]=d[2],d[1]=this.reflection[1],d[2]=this.reflection[0];break;case"S":d[0]="C",d[6]=d[4],d[5]=d[3],d[4]=d[2],d[3]=d[1],d[2]=this.reflection[1],d[1]=this.reflection[0]}return d}function n(d){var f=d.length;return this.pos=[d[f-2],d[f-1]],-1!="SCQT".indexOf(d[0])&&(this.reflection=[2*this.pos[0]-d[f-4],2*this.pos[1]-d[f-3]]),d}function o(d){var f=[d];switch(d[0]){case"M":return this.pos=this.start=[d[1],d[2]],f;case"L":d[5]=d[3]=d[1],d[6]=d[4]=d[2],d[1]=this.pos[0],d[2]=this.pos[1];break;case"Q":d[6]=d[4],d[5]=d[3],d[4]=1*d[4]/3+2*d[2]/3,d[3]=1*d[3]/3+2*d[1]/3,d[2]=1*this.pos[1]/3+2*d[2]/3,d[1]=1*this.pos[0]/3+2*d[1]/3;break;case"A":d=(f=function(g,m){var v,w,k,S,T,_,I,H,W,q,V,x,E,D,F,j,oe,ae,ye,xe,Le,Pe,Je,ot,ht,ut,wt=Math.abs(m[1]),St=Math.abs(m[2]),ca=m[3]%360,at=m[4],Ii=m[5],Cr=m[6],kr=m[7],pe=new SVG.Point(g),It=new SVG.Point(Cr,kr),qt=[];if(0===wt||0===St||pe.x===It.x&&pe.y===It.y)return[["C",pe.x,pe.y,It.x,It.y,It.x,It.y]];for((w=(v=new SVG.Point((pe.x-It.x)/2,(pe.y-It.y)/2).transform((new SVG.Matrix).rotate(ca))).x*v.x/(wt*wt)+v.y*v.y/(St*St))>1&&(wt*=w=Math.sqrt(w),St*=w),k=(new SVG.Matrix).rotate(ca).scale(1/wt,1/St).rotate(-ca),pe=pe.transform(k),_=(S=[(It=It.transform(k)).x-pe.x,It.y-pe.y])[0]*S[0]+S[1]*S[1],T=Math.sqrt(_),S[0]/=T,S[1]/=T,I=_<4?Math.sqrt(1-_/4):0,at===Ii&&(I*=-1),H=new SVG.Point((It.x+pe.x)/2+I*-S[1],(It.y+pe.y)/2+I*S[0]),W=new SVG.Point(pe.x-H.x,pe.y-H.y),q=new SVG.Point(It.x-H.x,It.y-H.y),V=Math.acos(W.x/Math.sqrt(W.x*W.x+W.y*W.y)),W.y<0&&(V*=-1),x=Math.acos(q.x/Math.sqrt(q.x*q.x+q.y*q.y)),q.y<0&&(x*=-1),Ii&&V>x&&(x+=2*Math.PI),!Ii&&V<x&&(x-=2*Math.PI),j=[],oe=V,E=(x-V)/(D=Math.ceil(2*Math.abs(V-x)/Math.PI)),F=4*Math.tan(E/4)/3,Le=0;Le<=D;Le++)ye=Math.cos(oe),ae=Math.sin(oe),xe=new SVG.Point(H.x+ye,H.y+ae),j[Le]=[new SVG.Point(xe.x+F*ae,xe.y-F*ye),xe,new SVG.Point(xe.x-F*ae,xe.y+F*ye)],oe+=E;for(j[0][0]=j[0][1].clone(),j[j.length-1][2]=j[j.length-1][1].clone(),k=(new SVG.Matrix).rotate(ca).scale(wt,St).rotate(-ca),Le=0,Pe=j.length;Le<Pe;Le++)j[Le][0]=j[Le][0].transform(k),j[Le][1]=j[Le][1].transform(k),j[Le][2]=j[Le][2].transform(k);for(Le=1,Pe=j.length;Le<Pe;Le++)Je=(xe=j[Le-1][2]).x,ot=xe.y,ht=(xe=j[Le][0]).x,ut=xe.y,Cr=(xe=j[Le][1]).x,qt.push(["C",Je,ot,ht,ut,Cr,kr=xe.y]);return qt}(this.pos,d))[0]}return d[0]="C",this.pos=[d[5],d[6]],this.reflection=[2*d[5]-d[3],2*d[6]-d[4]],f}function c(d,f){if(!1===f)return!1;for(var g=f,m=d.length;g<m;++g)if("M"==d[g][0])return g;return!1}SVG.extend(SVG.PathArray,{morph:function(d){for(var f=this.value,g=this.parse(d),m=0,v=0,w=!1,k=!1;!1!==m||!1!==v;){var S;w=c(f,!1!==m&&m+1),k=c(g,!1!==v&&v+1),!1===m&&(m=0==(S=new SVG.PathArray(T.start).bbox()).height||0==S.width?f.push(f[0])-1:f.push(["M",S.x+S.width/2,S.y+S.height/2])-1),!1===v&&(v=0==(S=new SVG.PathArray(T.dest).bbox()).height||0==S.width?g.push(g[0])-1:g.push(["M",S.x+S.width/2,S.y+S.height/2])-1);var T=z(f,m,w,g,v,k);f=f.slice(0,m).concat(T.start,!1===w?[]:f.slice(w)),g=g.slice(0,v).concat(T.dest,!1===k?[]:g.slice(k)),m=!1!==w&&m+T.start.length,v=!1!==k&&v+T.dest.length}return this.value=f,this.destination=new SVG.PathArray,this.destination.value=g,this}})}(),function(){function z(a){a.remember("_draggable",this),this.el=a}z.prototype.init=function(a,n){var o=this;this.constraint=a,this.value=n,this.el.on("mousedown.drag",function(c){o.start(c)}),this.el.on("touchstart.drag",function(c){o.start(c)})},z.prototype.transformPoint=function(a,n){var o=(a=a||window.event).changedTouches&&a.changedTouches[0]||a;return this.p.x=o.clientX-(n||0),this.p.y=o.clientY,this.p.matrixTransform(this.m)},z.prototype.getBBox=function(){var a=this.el.bbox();return this.el instanceof SVG.Nested&&(a=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(a.x=this.el.x(),a.y=this.el.y()),a},z.prototype.start=function(a){if("click"!=a.type&&"mousedown"!=a.type&&"mousemove"!=a.type||1==(a.which||a.buttons)){var n=this;if(this.el.fire("beforedrag",{event:a,handler:this}),!this.el.event().defaultPrevented){a.preventDefault(),a.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var o,c=this.getBBox();if(this.el instanceof SVG.Text)switch(o=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":o/=2;break;case"start":o=0}this.startPoints={point:this.transformPoint(a,o),box:c,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(d){n.drag(d)}),SVG.on(window,"touchmove.drag",function(d){n.drag(d)}),SVG.on(window,"mouseup.drag",function(d){n.end(d)}),SVG.on(window,"touchend.drag",function(d){n.end(d)}),this.el.fire("dragstart",{event:a,p:this.startPoints.point,m:this.m,handler:this})}}},z.prototype.drag=function(a){var n=this.getBBox(),o=this.transformPoint(a),c=this.startPoints.box.x+o.x-this.startPoints.point.x,d=this.startPoints.box.y+o.y-this.startPoints.point.y,f=this.constraint,g=o.x-this.startPoints.point.x,m=o.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:a,p:o,m:this.m,handler:this}),this.el.event().defaultPrevented)return o;if("function"==typeof f){var v=f.call(this.el,c,d,this.m);"boolean"==typeof v&&(v={x:v,y:v}),!0===v.x?this.el.x(c):!1!==v.x&&this.el.x(v.x),!0===v.y?this.el.y(d):!1!==v.y&&this.el.y(v.y)}else"object"==typeof f&&(null!=f.minX&&c<f.minX?g=(c=f.minX)-this.startPoints.box.x:null!=f.maxX&&c>f.maxX-n.width&&(g=(c=f.maxX-n.width)-this.startPoints.box.x),null!=f.minY&&d<f.minY?m=(d=f.minY)-this.startPoints.box.y:null!=f.maxY&&d>f.maxY-n.height&&(m=(d=f.maxY-n.height)-this.startPoints.box.y),null!=f.snapToGrid&&(c-=c%f.snapToGrid,d-=d%f.snapToGrid,g-=g%f.snapToGrid,m-=m%f.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:g,y:m},!0):this.el.move(c,d));return o},z.prototype.end=function(a){var n=this.drag(a);this.el.fire("dragend",{event:a,p:n,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(a,n){"function"!=typeof a&&"object"!=typeof a||(n=a,a=!0);var o=this.remember("_draggable")||new z(this);return(a=void 0===a||a)?o.init(n||{},a):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function z(a){this.el=a,a.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(n,o,c){var d="string"!=typeof n?n:o[n];return c?d/2:d},this.pointCoords=function(n,o){var c=this.pointsList[n];return{x:this.pointCoord(c[0],o,"t"===n||"b"===n),y:this.pointCoord(c[1],o,"r"===n||"l"===n)}}}z.prototype.init=function(a,n){var o=this.el.bbox();this.options={};var c=this.el.selectize.defaults.points;for(var d in this.el.selectize.defaults)this.options[d]=this.el.selectize.defaults[d],void 0!==n[d]&&(this.options[d]=n[d]);var f=["points","pointsExclude"];for(var d in f){var g=this.options[f[d]];"string"==typeof g?g=g.length>0?g.split(/\s*,\s*/i):[]:"boolean"==typeof g&&"points"===f[d]&&(g=g?c:[]),this.options[f[d]]=g}this.options.points=[c,this.options.points].reduce(function(m,v){return m.filter(function(w){return v.indexOf(w)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(m,v){return m.filter(function(w){return v.indexOf(w)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(a):this.selectRect(a),this.observe(),this.cleanup()},z.prototype.selectPoints=function(a){return this.pointSelection.isSelected=a,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},z.prototype.getPointArray=function(){var a=this.el.bbox();return this.el.array().valueOf().map(function(n){return[n[0]-a.x,n[1]-a.y]})},z.prototype.drawPoints=function(){for(var a=this,n=this.getPointArray(),o=0,c=n.length;o<c;++o){var d=function(g){return function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),a.el.fire("point",{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,i:g,event:m})}}(o),f=this.drawPoint(n[o][0],n[o][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",d).on("mousedown",d);this.pointSelection.set.add(f)}},z.prototype.drawPoint=function(a,n){var o=this.options.pointType;switch(o){case"circle":return this.drawCircle(a,n);case"rect":return this.drawRect(a,n);default:if("function"==typeof o)return o.call(this,a,n);throw new Error("Unknown "+o+" point type!")}},z.prototype.drawCircle=function(a,n){return this.nested.circle(this.options.pointSize).center(a,n)},z.prototype.drawRect=function(a,n){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(a,n)},z.prototype.updatePointSelection=function(){var a=this.getPointArray();this.pointSelection.set.each(function(n){this.cx()===a[n][0]&&this.cy()===a[n][1]||this.center(a[n][0],a[n][1])})},z.prototype.updateRectSelection=function(){var a=this,n=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:n.width,height:n.height}),this.options.points.length&&this.options.points.map(function(c,d){var f=a.pointCoords(c,n);a.rectSelection.set.get(d+1).center(f.x,f.y)}),this.options.rotationPoint){var o=this.rectSelection.set.length();this.rectSelection.set.get(o-1).center(n.width/2,20)}},z.prototype.selectRect=function(a){var n=this,o=this.el.bbox();function c(g){return function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),n.el.fire(g,{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,event:m})}}if(this.rectSelection.isSelected=a,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(o.width,o.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(g,m){var v=n.pointCoords(g,o),w=n.drawPoint(v.x,v.y).attr("class",n.options.classPoints+"_"+g).on("mousedown",c(g)).on("touchstart",c(g));n.rectSelection.set.add(w)}),this.rectSelection.set.each(function(){this.addClass(n.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var d=function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation(),n.el.fire("rot",{x:g.pageX||g.touches[0].pageX,y:g.pageY||g.touches[0].pageY,event:g})},f=this.drawPoint(o.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",d).on("mousedown",d);this.rectSelection.set.add(f)}},z.prototype.handler=function(){var a=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(a.x,a.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},z.prototype.observe=function(){var a=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){a.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){a.handler()})},z.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(a,n){return"object"==typeof a&&(n=a,a=!0),(this.remember("_selectHandler")||new z(this)).init(void 0===a||a,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function z(a){a.remember("_resizeHandler",this),this.el=a,this.parameters={},this.lastUpdateCall=null,this.p=a.doc().node.createSVGPoint()}z.prototype.transformPoint=function(a,n,o){return this.p.x=a-(this.offset.x-window.pageXOffset),this.p.y=n-(this.offset.y-window.pageYOffset),this.p.matrixTransform(o||this.m)},z.prototype._extractPosition=function(a){return{x:null!=a.clientX?a.clientX:a.touches[0].clientX,y:null!=a.clientY?a.clientY:a.touches[0].clientY}},z.prototype.init=function(a){var n=this;if(this.stop(),"stop"!==a){for(var o in this.options={},this.el.resize.defaults)this.options[o]=this.el.resize.defaults[o],void 0!==a[o]&&(this.options[o]=a[o]);this.el.on("lt.resize",function(c){n.resize(c||window.event)}),this.el.on("rt.resize",function(c){n.resize(c||window.event)}),this.el.on("rb.resize",function(c){n.resize(c||window.event)}),this.el.on("lb.resize",function(c){n.resize(c||window.event)}),this.el.on("t.resize",function(c){n.resize(c||window.event)}),this.el.on("r.resize",function(c){n.resize(c||window.event)}),this.el.on("b.resize",function(c){n.resize(c||window.event)}),this.el.on("l.resize",function(c){n.resize(c||window.event)}),this.el.on("rot.resize",function(c){n.resize(c||window.event)}),this.el.on("point.resize",function(c){n.resize(c||window.event)}),this.update()}},z.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},z.prototype.resize=function(a){var n=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var o=this._extractPosition(a.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(o.x,o.y),x:a.detail.x,y:a.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==a.detail.i){var c=this.el.array().valueOf();this.parameters.i=a.detail.i,this.parameters.pointCoords=[c[a.detail.i][0],c[a.detail.i][1]]}switch(a.type){case"lt":this.calc=function(d,f){var g=this.snapToGrid(d,f);if(this.parameters.box.width-g[0]>0&&this.parameters.box.height-g[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+g[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-g[0]);g=this.checkAspectRatio(g),this.el.move(this.parameters.box.x+g[0],this.parameters.box.y+g[1]).size(this.parameters.box.width-g[0],this.parameters.box.height-g[1])}};break;case"rt":this.calc=function(d,f){var g=this.snapToGrid(d,f,2);if(this.parameters.box.width+g[0]>0&&this.parameters.box.height-g[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-g[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+g[0]);g=this.checkAspectRatio(g,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+g[1]).size(this.parameters.box.width+g[0],this.parameters.box.height-g[1])}};break;case"rb":this.calc=function(d,f){var g=this.snapToGrid(d,f,0);if(this.parameters.box.width+g[0]>0&&this.parameters.box.height+g[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-g[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+g[0]);g=this.checkAspectRatio(g),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+g[0],this.parameters.box.height+g[1])}};break;case"lb":this.calc=function(d,f){var g=this.snapToGrid(d,f,1);if(this.parameters.box.width-g[0]>0&&this.parameters.box.height+g[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+g[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-g[0]);g=this.checkAspectRatio(g,!0),this.el.move(this.parameters.box.x+g[0],this.parameters.box.y).size(this.parameters.box.width-g[0],this.parameters.box.height+g[1])}};break;case"t":this.calc=function(d,f){var g=this.snapToGrid(d,f,2);if(this.parameters.box.height-g[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+g[1]).height(this.parameters.box.height-g[1])}};break;case"r":this.calc=function(d,f){var g=this.snapToGrid(d,f,0);if(this.parameters.box.width+g[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+g[0])}};break;case"b":this.calc=function(d,f){var g=this.snapToGrid(d,f,0);if(this.parameters.box.height+g[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+g[1])}};break;case"l":this.calc=function(d,f){var g=this.snapToGrid(d,f,1);if(this.parameters.box.width-g[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+g[0],this.parameters.box.y).width(this.parameters.box.width-g[0])}};break;case"rot":this.calc=function(d,f){var g=d+this.parameters.p.x,m=f+this.parameters.p.y,v=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),w=Math.atan2(m-this.parameters.box.y-this.parameters.box.height/2,g-this.parameters.box.x-this.parameters.box.width/2),k=this.parameters.rotation+180*(w-v)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(k-k%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(d,f){var g=this.snapToGrid(d,f,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),m=this.el.array().valueOf();m[this.parameters.i][0]=this.parameters.pointCoords[0]+g[0],m[this.parameters.i][1]=this.parameters.pointCoords[1]+g[1],this.el.plot(m)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:a}),SVG.on(window,"touchmove.resize",function(d){n.update(d||window.event)}),SVG.on(window,"touchend.resize",function(){n.done()}),SVG.on(window,"mousemove.resize",function(d){n.update(d||window.event)}),SVG.on(window,"mouseup.resize",function(){n.done()})},z.prototype.update=function(a){if(a){var n=this._extractPosition(a),o=this.transformPoint(n.x,n.y),c=o.x-this.parameters.p.x,d=o.y-this.parameters.p.y;this.lastUpdateCall=[c,d],this.calc(c,d),this.el.fire("resizing",{dx:c,dy:d,event:a})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},z.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},z.prototype.snapToGrid=function(a,n,o,c){var d;return d=void 0!==c?[(o+a)%this.options.snapToGrid,(c+n)%this.options.snapToGrid]:[(this.parameters.box.x+a+(1&(o=o??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+n+(2&o?0:this.parameters.box.height))%this.options.snapToGrid],a<0&&(d[0]-=this.options.snapToGrid),n<0&&(d[1]-=this.options.snapToGrid),a-=Math.abs(d[0])<this.options.snapToGrid/2?d[0]:d[0]-(a<0?-this.options.snapToGrid:this.options.snapToGrid),n-=Math.abs(d[1])<this.options.snapToGrid/2?d[1]:d[1]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(a,n,o,c)},z.prototype.constraintToBox=function(a,n,o,c){var d,f,g=this.options.constraint||{};return void 0!==c?(d=o,f=c):(d=this.parameters.box.x+(1&o?0:this.parameters.box.width),f=this.parameters.box.y+(2&o?0:this.parameters.box.height)),void 0!==g.minX&&d+a<g.minX&&(a=g.minX-d),void 0!==g.maxX&&d+a>g.maxX&&(a=g.maxX-d),void 0!==g.minY&&f+n<g.minY&&(n=g.minY-f),void 0!==g.maxY&&f+n>g.maxY&&(n=g.maxY-f),[a,n]},z.prototype.checkAspectRatio=function(a,n){if(!this.options.saveAspectRatio)return a;var o=a.slice(),c=this.parameters.box.width/this.parameters.box.height,d=this.parameters.box.width+a[0],f=this.parameters.box.height-a[1],g=d/f;return g<c?(o[1]=d/c-this.parameters.box.height,n&&(o[1]=-o[1])):g>c&&(o[0]=this.parameters.box.width-f*c,n&&(o[0]=-o[0])),o},SVG.extend(SVG.Element,{resize:function(a){return(this.remember("_resizeHandler")||new z(this)).init(a||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ft=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Ca(this.ctx),this.ctx.axes=new Mt(this.ctx),this.ctx.core=new Ys(this.ctx.el,this.ctx),this.ctx.config=new Ga({}),this.ctx.data=new st(this.ctx),this.ctx.grid=new co(this.ctx),this.ctx.graphics=new be(this.ctx),this.ctx.coreUtils=new Ce(this.ctx),this.ctx.crosshairs=new Mn(this.ctx),this.ctx.events=new la(this.ctx),this.ctx.exports=new tt(this.ctx),this.ctx.localization=new Fs(this.ctx),this.ctx.options=new hn,this.ctx.responsive=new zs(this.ctx),this.ctx.series=new ma(this.ctx),this.ctx.theme=new Ua(this.ctx),this.ctx.formatters=new Ri(this.ctx),this.ctx.titleSubtitle=new In(this.ctx),this.ctx.legend=new un(this.ctx),this.ctx.toolbar=new ta(this.ctx),this.ctx.tooltip=new fo(this.ctx),this.ctx.dimensions=new _n(this.ctx),this.ctx.updateHelpers=new Ws(this.ctx),this.ctx.zoomPanSelection=new ni(this.ctx),this.ctx.w.globals.tooltip=new fo(this.ctx)}}]),z}(),_t=function(){function z(a){He(this,z),this.ctx=a,this.w=a.w}return Xe(z,[{key:"clear",value:function(a){var n=a.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:n})}},{key:"killSVG",value:function(a){a.each(function(n,o){this.removeClass("*"),this.off(),this.stop()},!0),a.ungroup(),a.clear()}},{key:"clearDomElements",value:function(a){var n=this,c=this.w.globals.dom.Paper.node;c.parentNode&&c.parentNode.parentNode&&!a.isUpdating&&(c.parentNode.parentNode.style.minHeight="unset");var d=this.w.globals.dom.baseEl;d&&this.ctx.eventList.forEach(function(g){d.removeEventListener(g,n.ctx.events.documentEvent)});var f=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(f.Paper),f.Paper.remove(),f.elWrap=null,f.elGraphical=null,f.elAnnotations=null,f.elLegendWrap=null,f.baseEl=null,f.elGridRect=null,f.elGridRectMask=null,f.elGridRectMarkerMask=null,f.elForecastMask=null,f.elNonForecastMask=null,f.elDefs=null}}]),z}(),wr=new WeakMap,vo=function(){function z(a,n){He(this,z),this.opts=n,this.ctx=this,this.w=new Lt(n).init(),this.el=a,this.w.globals.cuid=le.randomId(),this.w.globals.chartID=this.w.config.chart.id?le.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ft(this).initModules(),this.create=le.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Xe(z,[{key:"render",value:function(){var a=this;return new Promise(function(n,o){if(null!==a.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),a.w.config.chart.id&&Apex._chartInstances.push({id:a.w.globals.chartID,group:a.w.config.chart.group,chart:a}),a.setLocale(a.w.config.chart.defaultLocale);var c=a.w.config.chart.events.beforeMount;if("function"==typeof c&&c(a,a.w),a.events.fireEvent("beforeMount",[a,a.w]),window.addEventListener("resize",a.windowResizeHandler),function(w,k){var S=!1;if(w.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var T=w.getBoundingClientRect();"none"!==w.style.display&&0!==T.width||(S=!0)}var _=new ResizeObserver(function(I){S&&k.call(w,I),S=!0});w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(w.children).forEach(function(I){return _.observe(I)}):_.observe(w),wr.set(k,_)}(a.el.parentNode,a.parentResizeHandler),!a.css){var d=a.el.getRootNode&&a.el.getRootNode(),f=le.is("ShadowRoot",d),g=a.el.ownerDocument,m=g.getElementById("apexcharts-css");!f&&m||(a.css=document.createElement("style"),a.css.id="apexcharts-css",a.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',f?d.prepend(a.css):g.head.appendChild(a.css))}var v=a.create(a.w.config.series,{});if(!v)return n(a);a.mount(v).then(function(){"function"==typeof a.w.config.chart.events.mounted&&a.w.config.chart.events.mounted(a,a.w),a.events.fireEvent("mounted",[a,a.w]),n(v)}).catch(function(w){o(w)})}else o(new Error("Element not found"))})}},{key:"create",value:function(a,n){var o=this.w;new Ft(this).initModules();var c=this.w.globals;if(c.noData=!1,c.animationEnded=!1,this.responsive.checkResponsiveConfig(n),o.config.xaxis.convertedCatToNumeric&&new Pn(o.config).convertCatToNumericXaxis(o.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===o.config.chart.type&&(o.config.grid.show=!1,o.config.yaxis[0].show=!1),0===c.svgWidth))return c.animationEnded=!0,null;var d=Ce.checkComboSeries(a);c.comboCharts=d.comboCharts,c.comboBarCount=d.comboBarCount;var f=a.every(function(k){return k.data&&0===k.data.length});(0===a.length||f)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new On(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),c.noData&&c.collapsedSeries.length!==c.series.length&&!o.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),c.axisCharts&&(this.core.coreCalculations(),"category"!==o.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=o.globals.minX,this.ctx.toolbar.maxX=o.globals.maxX),this.formatters.heatmapLabelFormatters(),new Ce(this).getLargestMarkerSize(),this.dimensions.plotCoords();var g=this.core.xySettings();this.grid.createGridMask();var m=this.core.plotChartType(a,g),v=new ei(this);return v.bringForward(),o.config.dataLabels.background.enabled&&v.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:m,xyRatios:g,elInner:o.globals.dom.elGraphical,dimensions:{plot:{left:o.globals.translateX,top:o.globals.translateY,width:o.globals.gridWidth,height:o.globals.gridHeight}}}}},{key:"mount",value:function(){var a=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this,c=o.w;return new Promise(function(d,f){if(null===o.el)return f(new Error("Not enough data to display or target element not found"));(null===n||c.globals.allSeriesCollapsed)&&o.series.handleNoData(),o.grid=new co(o);var g=o.grid.drawGrid();if(o.annotations=new Ae(o),o.annotations.drawImageAnnos(),o.annotations.drawTextAnnos(),"back"===c.config.grid.position&&g&&(c.globals.dom.elGraphical.add(g.el),g&&g.elGridBorders&&g.elGridBorders.node&&c.globals.dom.elGraphical.add(g.elGridBorders)),Array.isArray(n.elGraph))for(var m=0;m<n.elGraph.length;m++)c.globals.dom.elGraphical.add(n.elGraph[m]);else c.globals.dom.elGraphical.add(n.elGraph);"front"===c.config.grid.position&&g&&(c.globals.dom.elGraphical.add(g.el),g&&g.elGridBorders&&g.elGridBorders.node&&c.globals.dom.elGraphical.add(g.elGridBorders)),"front"===c.config.xaxis.crosshairs.position&&o.crosshairs.drawXCrosshairs(),"front"===c.config.yaxis[0].crosshairs.position&&o.crosshairs.drawYCrosshairs(),"front"===c.config.annotations.position&&(c.globals.dom.Paper.add(c.globals.dom.elAnnotations),o.annotations.drawAxesAnnotations()),"treemap"!==c.config.chart.type&&o.axes.drawAxis(c.config.chart.type,g);var v=new me(a.ctx,g),w=new ti(a.ctx,g);if(null!==g&&(v.xAxisLabelCorrections(g.xAxisTickWidth),w.setYAxisTextAlignments(),c.config.yaxis.map(function(S,T){-1===c.globals.ignoreYAxisIndexes.indexOf(T)&&w.yAxisTitleRotate(T,S.opposite)})),"back"===c.config.annotations.position&&(c.globals.dom.Paper.add(c.globals.dom.elAnnotations),o.annotations.drawAxesAnnotations()),!c.globals.noData){if(c.config.tooltip.enabled&&!c.globals.noData&&o.w.globals.tooltip.drawTooltip(n.xyRatios),c.globals.axisCharts&&(c.globals.isXNumeric||c.config.xaxis.convertedCatToNumeric||c.globals.isRangeBar))(c.config.chart.zoom.enabled||c.config.chart.selection&&c.config.chart.selection.enabled||c.config.chart.pan&&c.config.chart.pan.enabled)&&o.zoomPanSelection.init({xyRatios:n.xyRatios});else{var k=c.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(S){k[S]=!1})}c.config.chart.toolbar.show&&!c.globals.allSeriesCollapsed&&o.toolbar.createToolbar()}c.globals.memory.methodsToExec.length>0&&c.globals.memory.methodsToExec.forEach(function(S){S.method(S.params,!1,S.context)}),c.globals.axisCharts||c.globals.noData||o.core.resizeNonAxisCharts(),d(o)})}},{key:"destroy",value:function(){var a,n;window.removeEventListener("resize",this.windowResizeHandler),(n=wr.get(a=this.parentResizeHandler))&&(n.disconnect(),wr.delete(a));var o=this.w.config.chart.id;o&&Apex._chartInstances.forEach(function(c,d){c.id===le.escapeString(o)&&Apex._chartInstances.splice(d,1)}),new _t(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(a){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=this.w;return g.globals.selection=void 0,a.series&&(this.series.resetSeries(!1,!0,!1),a.series.length&&a.series[0].data&&(a.series=a.series.map(function(m,v){return n.updateHelpers._extendSeries(m,v)})),this.updateHelpers.revertDefaultAxisMinMax()),a.xaxis&&(a=this.updateHelpers.forceXAxisUpdate(a)),a.yaxis&&(a=this.updateHelpers.forceYAxisUpdate(a)),g.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),a.theme&&(a=this.theme.updateThemeOptions(a)),this.updateHelpers._updateOptions(a,o,c,d,f)}},{key:"updateSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,n,o)}},{key:"appendSeries",value:function(a){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=this.w.config.series.slice();return c.push(a),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,n,o)}},{key:"appendData",value:function(a){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this;o.w.globals.dataChanged=!0,o.series.getPreviousPaths();for(var c=o.w.config.series.slice(),d=0;d<c.length;d++)if(null!=a[d])for(var f=0;f<a[d].data.length;f++)c[d].data.push(a[d].data[f]);return o.w.config.series=c,n&&(o.w.globals.initialSeries=le.clone(o.w.config.series)),this.update()}},{key:"update",value:function(a){var n=this;return new Promise(function(o,c){new _t(n.ctx).clear({isUpdating:!0});var d=n.create(n.w.config.series,a);if(!d)return o(n);n.mount(d).then(function(){"function"==typeof n.w.config.chart.events.updated&&n.w.config.chart.events.updated(n,n.w),n.events.fireEvent("updated",[n,n.w]),n.w.globals.isDirty=!0,o(n)}).catch(function(f){c(f)})})}},{key:"getSyncedCharts",value:function(){var a=this.getGroupedCharts(),n=[this];return a.length&&(n=[],a.forEach(function(o){n.push(o)})),n}},{key:"getGroupedCharts",value:function(){var a=this;return Apex._chartInstances.filter(function(n){if(n.group)return!0}).map(function(n){return a.w.config.chart.group===n.group?n.chart:a})}},{key:"toggleSeries",value:function(a){return this.series.toggleSeries(a)}},{key:"highlightSeriesOnLegendHover",value:function(a,n){return this.series.toggleSeriesOnHover(a,n)}},{key:"showSeries",value:function(a){this.series.showSeries(a)}},{key:"hideSeries",value:function(a){this.series.hideSeries(a)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(a,n)}},{key:"addEventListener",value:function(a,n){this.events.addEventListener(a,n)}},{key:"removeEventListener",value:function(a,n){this.events.removeEventListener(a,n)}},{key:"addXaxisAnnotation",value:function(a){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addXaxisAnnotationExternal(a,n,c)}},{key:"addYaxisAnnotation",value:function(a){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addYaxisAnnotationExternal(a,n,c)}},{key:"addPointAnnotation",value:function(a){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addPointAnnotationExternal(a,n,c)}},{key:"clearAnnotations",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=this;a&&(n=a),n.annotations.clearAnnotations(n)}},{key:"removeAnnotation",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=this;n&&(o=n),o.annotations.removeAnnotation(o,a)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(a,n){return this.coreUtils.getSeriesTotalsXRange(a,n)}},{key:"getHighestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Ve(this.ctx);return n.getMinYMaxY(a).highestY}},{key:"getLowestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Ve(this.ctx);return n.getMinYMaxY(a).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(a,n){return this.updateHelpers.toggleDataPointSelection(a,n)}},{key:"zoomX",value:function(a,n){this.ctx.toolbar.zoomUpdateOptions(a,n)}},{key:"setLocale",value:function(a){this.localization.setCurrentLocaleValues(a)}},{key:"dataURI",value:function(a){return new tt(this.ctx).dataURI(a)}},{key:"exportToCSV",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new tt(this.ctx);return n.exportToCSV(a)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var a=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){a.w.globals.resized=!0,a.w.globals.dataChanged=!1,a.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var a=this.w.config.chart.redrawOnWindowResize;"function"==typeof a&&(a=a()),a&&this._windowResize()}}],[{key:"getChartByID",value:function(a){var n=le.escapeString(a),o=Apex._chartInstances.filter(function(c){return c.id===n})[0];return o&&o.chart}},{key:"initOnLoad",value:function(){for(var a=document.querySelectorAll("[data-apexcharts]"),n=0;n<a.length;n++)new z(a[n],JSON.parse(a[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(a,n){var o=this.getChartByID(a);if(o){o.w.globals.isExecCalled=!0;var c=null;if(-1!==o.publicMethods.indexOf(n)){for(var d=arguments.length,f=new Array(d>2?d-2:0),g=2;g<d;g++)f[g-2]=arguments[g];c=o[n].apply(o,f)}return c}}},{key:"merge",value:function(a,n){return le.extend(a,n)}}]),z}();return vo}),function(){"use strict";var $n=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},ze=function(e){return{eq:e}},Wt=ze(function(e,t){return e===t}),He=function(e){return ze(function(t,i){if(t.length!==i.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!e.eq(t[s],i[s]))return!1;return!0})},so=function(e){return ze(function(t,i){var p,y,C,r=Object.keys(t),s=Object.keys(i);if(!(p=Wt,y=He(p),C=function(y){return Array.prototype.slice.call(y).sort(void 0)},ze(function(L,R){return y.eq(C(L),C(R))})).eq(r,s))return!1;for(var l=r.length,h=0;h<l;h++){var u=r[h];if(!e.eq(t[u],i[u]))return!1}return!0})},Xe=ze(function(e,t){if(e===t)return!0;var i=$n(e);return i===$n(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(i)?e===t:"array"===i?He(Xe).eq(e,t):"object"===i&&so(Xe).eq(e,t))});const pr=Object.getPrototypeOf,Zn=(e,t,i)=>{var r;return!!i(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},Kn=e=>t=>(i=>{const r=typeof i;return null===i?"null":"object"===r&&Array.isArray(i)?"array":"object"===r&&Zn(i,String,(s,l)=>l.isPrototypeOf(s))?"string":r})(t)===e,Li=e=>t=>typeof t===e,Ds=e=>t=>e===t,cn=(e,t)=>xt(e)&&Zn(e,t,(i,r)=>pr(i)===r),Ye=Kn("string"),xt=Kn("object"),lo=e=>cn(e,Object),Et=Kn("array"),le=Ds(null),Ca=Li("boolean"),ft=Ds(void 0),be=e=>null==e,Ce=e=>!be(e),nt=Li("function"),Na=Li("number"),Qn=(e,t)=>{if(Et(e)){for(let i=0,r=e.length;i<r;++i)if(!t(e[i]))return!1;return!0}return!1},Qe=()=>{},dn=(e,t)=>(...i)=>e(t.apply(null,i)),hn=(e,t)=>i=>e(t(i)),Ae=e=>()=>e,ct=e=>e,Ri=(e,t)=>e===t;function Te(e,...t){return(...i)=>{const r=t.concat(i);return e.apply(null,r)}}const Jn=e=>t=>!e(t),Pn=e=>e(),Ga=e=>{e()},vt=Ae(!1),Lt=Ae(!0);class X{constructor(t,i){this.tag=t,this.value=i}static some(t){return new X(!0,t)}static none(){return X.singletonNone}fold(t,i){return this.tag?i(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?X.some(t(this.value)):X.none()}bind(t){return this.tag?t(this.value):X.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:X.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ce(t)?X.some(t):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}X.singletonNone=new X(!1);const On=Array.prototype.slice,Bs=Array.prototype.indexOf,ei=Array.prototype.push,ma=(e,t)=>Bs.call(e,t),st=(e,t)=>ma(e,t)>-1,mt=(e,t)=>{for(let i=0,r=e.length;i<r;i++)if(t(e[i],i))return!0;return!1},tt=(e,t)=>{const i=e.length,r=new Array(i);for(let s=0;s<i;s++)r[s]=t(e[s],s);return r},me=(e,t)=>{for(let i=0,r=e.length;i<r;i++)t(e[i],i)},co=(e,t)=>{for(let i=e.length-1;i>=0;i--)t(e[i],i)},Ha=(e,t)=>{const i=[],r=[];for(let s=0,l=e.length;s<l;s++){const h=e[s];(t(h,s)?i:r).push(h)}return{pass:i,fail:r}},Ve=(e,t)=>{const i=[];for(let r=0,s=e.length;r<s;r++){const l=e[r];t(l,r)&&i.push(l)}return i},ti=(e,t,i)=>(co(e,(r,s)=>{i=t(i,r,s)}),i),la=(e,t,i)=>(me(e,(r,s)=>{i=t(i,r,s)}),i),Fs=(e,t,i)=>{for(let r=0,s=e.length;r<s;r++){const l=e[r];if(t(l,r))return X.some(l);if(i(l,r))break}return X.none()},Mt=(e,t)=>Fs(e,t,vt),Mn=(e,t)=>{for(let i=0,r=e.length;i<r;i++)if(t(e[i],i))return X.some(i);return X.none()},zs=e=>{const t=[];for(let i=0,r=e.length;i<r;++i){if(!Et(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);ei.apply(t,e[i])}return t},Ua=(e,t)=>zs(tt(e,t)),In=(e,t)=>{for(let i=0,r=e.length;i<r;++i)if(!0!==t(e[i],i))return!1;return!0},Ti=e=>{const t=On.call(e,0);return t.reverse(),t},ho=(e,t)=>Ve(e,i=>!st(t,i)),uo=(e,t)=>{const i={};for(let r=0,s=e.length;r<s;r++){const l=e[r];i[String(l)]=t(l,r)}return i},ai=(e,t)=>{const i=On.call(e,0);return i.sort(t),i},_n=(e,t)=>t>=0&&t<e.length?X.some(e[t]):X.none(),ea=e=>_n(e,0),un=e=>_n(e,e.length-1),ta=nt(Array.from)?Array.from:e=>On.call(e),ni=(e,t)=>{for(let i=0;i<e.length;i++){const r=t(e[i],i);if(r.isSome())return r}return X.none()},aa=Object.keys,Gc=Object.hasOwnProperty,dt=(e,t)=>{const i=aa(e);for(let r=0,s=i.length;r<s;r++){const l=i[r];t(e[l],l)}},mr=(e,t)=>Uc(e,(i,r)=>({k:r,v:t(i,r)})),Uc=(e,t)=>{const i={};return dt(e,(r,s)=>{const l=t(r,s);i[l.k]=l.v}),i},go=e=>(t,i)=>{e[i]=t},fo=(e,t,i,r)=>{dt(e,(s,l)=>{(t(s,l)?i:r)(s,l)})},Pi=(e,t)=>{const i={};return fo(e,t,go(i),Qe),i},po=(e,t)=>{const i=[];return dt(e,(r,s)=>{i.push(t(r,s))}),i},gn=e=>po(e,ct),pt=(e,t)=>Ze(e,t)?X.from(e[t]):X.none(),Ze=(e,t)=>Gc.call(e,t),Dn=(e,t)=>Ze(e,t)&&null!=e[t],Xs=e=>{const t={};return me(e,i=>{t[i]={}}),aa(t)},mo=e=>void 0!==e.length,br=Array.isArray,xr=(e,t,i)=>{if(!e)return!1;if(i=i||e,mo(e)){for(let r=0,s=e.length;r<s;r++)if(!1===t.call(i,e[r],r,e))return!1}else for(const r in e)if(Ze(e,r)&&!1===t.call(i,e[r],r,e))return!1;return!0},bo=(e,t)=>{const i=[];return xr(e,(r,s)=>{i.push(t(r,s,e))}),i},Oi=(e,t)=>{const i=[];return xr(e,(r,s)=>{t&&!t(r,s,e)||i.push(r)}),i},vr=(e,t,i,r)=>{let s=ft(i)?e[0]:i;for(let l=0;l<e.length;l++)s=t.call(r,s,e[l],l);return s},yr=(e,t,i)=>{for(let r=0,s=e.length;r<s;r++)if(t.call(i,e[r],r,e))return r;return-1},na=e=>e[e.length-1],La=e=>{let t,i=!1;return(...r)=>(i||(i=!0,t=e.apply(null,r)),t)},Hs=()=>xo(0,0),xo=(e,t)=>({major:e,minor:t}),Mi={nu:xo,detect:(e,t)=>{const i=String(t).toLowerCase();return 0===e.length?Hs():((r,s)=>{const l=((u,p)=>{for(let b=0;b<u.length;b++){const y=u[b];if(y.test(p))return y}})(r,s);if(!l)return{major:0,minor:0};const h=u=>Number(s.replace(l,"$"+u));return xo(h(1),h(2))})(e,i)},unknown:Hs},Ys=(e,t)=>{const i=String(t).toLowerCase();return Mt(e,r=>r.search(i))},Ws=(e,t,i)=>""===t||e.length>=t.length&&e.substr(i,i+t.length)===t,Ft=(e,t,i=0,r)=>{const s=e.indexOf(t,i);return-1!==s&&(!!ft(r)||s+t.length<=r)},_t=(e,t)=>Ws(e,t,0),wr=(e,t)=>Ws(e,t,e.length-t.length),vo=e=>t=>t.replace(e,""),z=vo(/^\s+|\s+$/g),a=vo(/^\s+/g),n=vo(/\s+$/g),o=e=>e.length>0,c=e=>!o(e),d=(e,t=10)=>{const i=parseInt(e,t);return isNaN(i)?X.none():X.some(i)},f=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,g=e=>t=>Ft(t,e),m=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ft(e,"edge/")&&Ft(e,"chrome")&&Ft(e,"safari")&&Ft(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,f],search:e=>Ft(e,"chrome")&&!Ft(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ft(e,"msie")||Ft(e,"trident")},{name:"Opera",versionRegexes:[f,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:g("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:g("firefox")},{name:"Safari",versionRegexes:[f,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ft(e,"safari")||Ft(e,"mobile/"))&&Ft(e,"applewebkit")}],v=[{name:"Windows",search:g("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ft(e,"iphone")||Ft(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:g("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:g("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:g("linux"),versionRegexes:[]},{name:"Solaris",search:g("sunos"),versionRegexes:[]},{name:"FreeBSD",search:g("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:g("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],w={browsers:Ae(m),oses:Ae(v)},k="Edge",S="Chromium",T="Opera",_="Firefox",I="Safari",H=e=>{const t=e.current,r=s=>()=>t===s;return{current:t,version:e.version,isEdge:r(k),isChromium:r(S),isIE:r("IE"),isOpera:r(T),isFirefox:r(_),isSafari:r(I)}},W=()=>H({current:void 0,version:Mi.unknown()}),q=H,V=(Ae(k),Ae(S),Ae("IE"),Ae(T),Ae(_),Ae(I),"Windows"),x="Android",E="Linux",D="macOS",F="Solaris",j="FreeBSD",oe="ChromeOS",ae=e=>{const t=e.current,r=s=>()=>t===s;return{current:t,version:e.version,isWindows:r(V),isiOS:r("iOS"),isAndroid:r(x),isMacOS:r(D),isLinux:r(E),isSolaris:r(F),isFreeBSD:r(j),isChromeOS:r(oe)}},ye=()=>ae({current:void 0,version:Mi.unknown()}),xe=ae,Le=(Ae(V),Ae("iOS"),Ae(x),Ae(E),Ae(D),Ae(F),Ae(j),Ae(oe),e=>window.matchMedia(e).matches);let Pe=La(()=>((e,t,i)=>{const r=w.browsers(),s=w.oses(),l=t.bind(p=>{return b=r,ni(p.brands,C=>{const L=C.brand.toLowerCase();return Mt(b,R=>{var A;return L===(null===(A=R.brand)||void 0===A?void 0:A.toLowerCase())}).map(R=>({current:R.name,version:Mi.nu(parseInt(C.version,10),0)}))});var b}).orThunk(()=>{return Ys(r,b=e).map(y=>{const C=Mi.detect(y.versionRegexes,b);return{current:y.name,version:C}});var b}).fold(W,q),h=(p=s,b=e,Ys(p,b).map(y=>{const C=Mi.detect(y.versionRegexes,b);return{current:y.name,version:C}})).fold(ye,xe),u=((p,b,y,C)=>{const L=p.isiOS()&&!0===/ipad/i.test(y),R=p.isiOS()&&!L,A=p.isiOS()||p.isAndroid(),P=A||C("(pointer:coarse)"),N=L||!R&&A&&C("(min-device-width:768px)"),O=R||A&&!N,M=b.isSafari()&&p.isiOS()&&!1===/safari/i.test(y),B=!O&&!N&&!M;return{isiPad:Ae(L),isiPhone:Ae(R),isTablet:Ae(N),isPhone:Ae(O),isTouch:Ae(P),isAndroid:p.isAndroid,isiOS:p.isiOS,isWebView:Ae(M),isDesktop:Ae(B)}})(h,l,e,i);var p,b;return{browser:l,os:h,deviceType:u}})(navigator.userAgent,X.from(navigator.userAgentData),Le));const Je=()=>Pe(),ot=navigator.userAgent,ht=Je(),ut=ht.browser,wt=ht.os,St=ht.deviceType,ca=-1!==ot.indexOf("Windows Phone"),at={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ut.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ut.isIE(),windowsPhone:ca,browser:{current:ut.current,version:ut.version,isChromium:ut.isChromium,isEdge:ut.isEdge,isFirefox:ut.isFirefox,isIE:ut.isIE,isOpera:ut.isOpera,isSafari:ut.isSafari},os:{current:wt.current,version:wt.version,isAndroid:wt.isAndroid,isChromeOS:wt.isChromeOS,isFreeBSD:wt.isFreeBSD,isiOS:wt.isiOS,isLinux:wt.isLinux,isMacOS:wt.isMacOS,isSolaris:wt.isSolaris,isWindows:wt.isWindows},deviceType:{isDesktop:St.isDesktop,isiPad:St.isiPad,isiPhone:St.isiPhone,isPhone:St.isPhone,isTablet:St.isTablet,isTouch:St.isTouch,isWebView:St.isWebView}},Ii=/^\s*|\s*$/g,Cr=e=>be(e)?"":(""+e).replace(Ii,""),kr=function(e,t,i,r){r=r||this,e&&(i&&(e=e[i]),xr(e,(s,l)=>!1!==t.call(r,s,l,i)&&(kr(s,t,i,r),!0)))},pe={trim:Cr,isArray:br,is:(e,t)=>t?!("array"!==t||!br(e))||typeof e===t:void 0!==e,toArray:e=>{if(br(e))return e;{const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=e[i];return t}},makeMap:(e,t,i={})=>{const r=Ye(e)?e.split(t||","):e||[];let s=r.length;for(;s--;)i[r[s]]={};return i},each:xr,map:bo,grep:Oi,inArray:(e,t)=>{if(e)for(let i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},hasOwn:Ze,extend:(e,...t)=>{for(let i=0;i<t.length;i++){const r=t[i];for(const s in r)if(Ze(r,s)){const l=r[s];void 0!==l&&(e[s]=l)}}return e},walk:kr,resolve:(e,t=window)=>{const i=e.split(".");for(let r=0,s=i.length;r<s&&(t=t[i[r]]);r++);return t},explode:(e,t)=>Et(e)?e:""===e?[]:bo(e.split(t||","),Cr),_addCacheSuffix:e=>{const t=at.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},It=(e,t,i=Ri)=>e.exists(r=>i(r,t)),qt=(e,t,i)=>e.isSome()&&t.isSome()?X.some(i(e.getOrDie(),t.getOrDie())):X.none(),yo=(e,t)=>e?X.some(t):X.none();typeof window<"u"||Function("return this;")();const yt=e=>e.dom.nodeName.toLowerCase(),jg=e=>e.dom.nodeType,Vs=e=>t=>jg(t)===e,ka=Vs(1),Ra=Vs(3),wC=Vs(9),CC=Vs(11),qc=e=>t=>ka(t)&&yt(t)===e,Gg=(e,t,i)=>{if(!(Ye(i)||Ca(i)||Na(i)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",i,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,i+"")},Vt=(e,t,i)=>{Gg(e.dom,t,i)},ii=(e,t)=>{const i=e.dom;dt(t,(r,s)=>{Gg(i,s,r)})},Ya=(e,t)=>{const i=e.dom.getAttribute(t);return null===i?void 0:i},Bn=(e,t)=>X.from(Ya(e,t)),js=(e,t)=>{const i=e.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(t)},$t=(e,t)=>{e.dom.removeAttribute(t)},Ug=e=>la(e.dom.attributes,(t,i)=>(t[i.name]=i.value,t),{}),$c=(e,t)=>{const i=Ya(e,t);return void 0===i||""===i?[]:i.split(" ")},wo=e=>void 0!==e.dom.classList,qg=e=>$c(e,"class"),$g=(e,t)=>((i,r,s)=>{const l=$c(i,r).concat([s]);return Vt(i,r,l.join(" ")),!0})(e,"class",t),Zg=(e,t)=>((i,r,s)=>{const l=Ve($c(i,r),h=>h!==s);return l.length>0?Vt(i,r,l.join(" ")):$t(i,r),!1})(e,"class",t),Co=(e,t)=>{wo(e)?e.dom.classList.add(t):$g(e,t)},Kg=e=>{0===(wo(e)?e.dom.classList:qg(e)).length&&$t(e,"class")},Gs=(e,t)=>{wo(e)?e.dom.classList.remove(t):Zg(e,t),Kg(e)},Zc=(e,t)=>wo(e)&&e.dom.classList.contains(t),ko=e=>void 0!==e.style&&nt(e.style.getPropertyValue),So=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Us=(e,t)=>{const i=(t||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const r="HTML does not have a single root node";throw console.error(r,e),new Error(r)}return So(i.childNodes[0])},jt=(e,t)=>{const i=(t||document).createElement(e);return So(i)},Sr=(e,t)=>{const i=(t||document).createTextNode(e);return So(i)},Q=So,Qg=(e,t)=>{const i=[],r=l=>(i.push(l),t(l));let s=t(e);do{s=s.bind(r)}while(s.isSome());return i},qa=(e,t)=>{const i=e.dom;if(1!==i.nodeType)return!1;{const r=i;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Jg=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,it=(e,t)=>e.dom===t.dom,Fn=(e,t)=>{const i=e.dom,r=t.dom;return i!==r&&i.contains(r)},ef=e=>Q(e.dom.ownerDocument),zn=e=>wC(e)?e:ef(e),Ao=e=>Q(zn(e).dom.defaultView),$a=e=>X.from(e.dom.parentNode).map(Q),tf=e=>X.from(e.dom.parentElement).map(Q),af=(e,t)=>{const i=nt(t)?t:vt;let r=e.dom;const s=[];for(;null!=r.parentNode;){const l=r.parentNode,h=Q(l);if(s.push(h),!0===i(h))break;r=l}return s},_i=e=>X.from(e.dom.previousSibling).map(Q),Eo=e=>X.from(e.dom.nextSibling).map(Q),nf=e=>Ti(Qg(e,_i)),rf=e=>Qg(e,Eo),Zt=e=>tt(e.dom.childNodes,Q),qs=(e,t)=>X.from(e.dom.childNodes[t]).map(Q),of=e=>qs(e,0),Kc=e=>qs(e,e.dom.childNodes.length-1),sf=e=>e.dom.childNodes.length,Qc=e=>CC(e)&&Ce(e.dom.host),lf=nt(Element.prototype.attachShadow)&&nt(Node.prototype.getRootNode),SC=Ae(lf),ri=lf?e=>Q(e.dom.getRootNode()):zn,Jc=e=>Qc(e)?e:(t=>{const i=t.dom.head;if(null==i)throw new Error("Head is not available yet");return Q(i)})(zn(e)),AC=e=>Q(e.dom.host),cf=e=>{if(SC()&&Ce(e.target)){const t=Q(e.target);if(ka(t)&&EC(t)&&e.composed&&e.composedPath){const i=e.composedPath();if(i)return ea(i)}}return X.from(e.target)},EC=e=>Ce(e.dom.shadowRoot),Ar=e=>{const t=Ra(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const i=t.ownerDocument;return(r=>{const s=ri(r);return Qc(s)?X.some(s):X.none()})(Q(t)).fold(()=>i.body.contains(t),hn(Ar,AC))},df=(e,t,i)=>{if(!Ye(i))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",i,":: Element ",e),new Error("CSS value must be a string: "+i);ko(e)&&e.style.setProperty(t,i)},hf=(e,t,i)=>{df(e.dom,t,i)},$s=(e,t)=>{const i=e.dom;dt(t,(r,s)=>{df(i,s,r)})},fn=(e,t)=>{const i=e.dom,r=window.getComputedStyle(i).getPropertyValue(t);return""!==r||Ar(e)?r:uf(i,t)},uf=(e,t)=>ko(e)?e.style.getPropertyValue(t):"",Zs=(e,t)=>{const r=uf(e.dom,t);return X.from(r).filter(s=>s.length>0)},gf=e=>{const t={},i=e.dom;if(ko(i))for(let r=0;r<i.style.length;r++){const s=i.style.item(r);t[s]=i.style[s]}return t},ff=(e,t)=>{var i,r;r=t,ko(i=e.dom)&&i.style.removeProperty(r),It(Bn(e,"style").map(z),"")&&$t(e,"style")},Ta=(e,t)=>{$a(e).each(i=>{i.dom.insertBefore(t.dom,e.dom)})},oi=(e,t)=>{Eo(e).fold(()=>{$a(e).each(i=>{zt(i,t)})},i=>{Ta(i,t)})},pf=(e,t)=>{of(e).fold(()=>{zt(e,t)},i=>{e.dom.insertBefore(t.dom,i.dom)})},zt=(e,t)=>{e.dom.appendChild(t.dom)},Di=(e,t)=>{me(t,i=>{zt(e,i)})},No=e=>{e.dom.textContent="",me(Zt(e),t=>{Ct(t)})},Ct=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},si=e=>{const t=Zt(e);var i,r;t.length>0&&(i=e,me(r=t,(s,l)=>{oi(0===l?i:r[l-1],s)})),Ct(e)},mf=e=>tt(e,Q),bf=e=>e.dom.innerHTML,Ks=(e,t)=>{const i=ef(e).dom,r=Q(i.createDocumentFragment()),s=((l,h)=>{const u=(h||document).createElement("div");return u.innerHTML=l,Zt(Q(u))})(t,i);Di(r,s),No(e),zt(e,r)},LC=(e,t,i,r)=>{e.dom.removeEventListener(t,i,r)},xf=(e,t)=>({left:e,top:t,translate:(i,r)=>xf(e+i,t+r)}),Er=xf,Qs=(e,t)=>void 0!==e?e:void 0!==t?t:0,ed=e=>{const t=e.dom,i=t.ownerDocument.body;return i===t?Er(i.offsetLeft,i.offsetTop):Ar(e)?(r=>{const s=r.getBoundingClientRect();return Er(s.left,s.top)})(t):Er(0,0)},td=e=>{const t=void 0!==e?e.dom:document;return Er(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},vf=(e,t,i)=>{const r=(void 0!==i?i.dom:document).defaultView;r&&r.scrollTo(e,t)},yf=(e,t)=>{Je().browser.isSafari()&&nt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},wf=(e,t,i,r)=>({x:e,y:t,width:i,height:r,right:e+i,bottom:t+r}),Cf=e=>{const t=void 0===e?window:e,r=td(Q(t.document));return(s=>{const l=void 0===s?window:s;return Je().browser.isFirefox()?X.none():X.from(l.visualViewport)})(t).fold(()=>{const s=t.document.documentElement;return wf(r.left,r.top,s.clientWidth,s.clientHeight)},s=>wf(Math.max(s.pageLeft,r.left),Math.max(s.pageTop,r.top),s.width,s.height))},kf=(e,t)=>{let i=[];return me(Zt(e),r=>{t(r)&&(i=i.concat([r])),i=i.concat(kf(r,t))}),i};var Sf=(e,t,i,r,s)=>e(i,r)?X.some(i):nt(s)&&s(i)?X.none():t(i,r,s);const li=(e,t,i)=>{let r=e.dom;const s=nt(i)?i:vt;for(;r.parentNode;){r=r.parentNode;const l=Q(r);if(t(l))return X.some(l);if(s(l))break}return X.none()},Bi=(e,t,i)=>Sf((r,s)=>s(r),li,e,t,i),Lo=(e,t,i)=>li(e,r=>qa(r,t),i),Ro=(e,t)=>((i,r)=>{const s=void 0===r?document:r.dom;return Jg(s)?X.none():X.from(s.querySelector(i)).map(Q)})(t,e),Fi=(e,t,i)=>Sf((r,s)=>qa(r,s),Lo,e,t,i),Af=(e,t,i)=>Lo(e,t,i).isSome();class Dt{constructor(t,i){this.node=t,this.rootNode=i,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,i,r,s){if(t){if(!s&&t[i])return t[i];if(t!==this.rootNode){let l=t[r];if(l)return l;for(let h=t.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(l=h[r],l)return l}}}findPreviousNode(t,i){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!i)for(let l=r.lastChild;l;l=l.lastChild)if(!l.lastChild)return l;return r}const s=t.parentNode;if(s&&s!==this.rootNode)return s}}}const zi=e=>t=>!!t&&t.nodeType===e,Js=e=>!!e&&!Object.getPrototypeOf(e),Re=zi(1),ad=e=>{const t=e.toLowerCase();return i=>Ce(i)&&i.nodeName.toLowerCase()===t},Za=e=>{const t=e.map(i=>i.toLowerCase());return i=>{if(i&&i.nodeName){const r=i.nodeName.toLowerCase();return st(t,r)}return!1}},el=(e,t)=>{const i=t.toLowerCase().split(" ");return r=>{if(Re(r)){const s=r.ownerDocument.defaultView;if(s)for(let l=0;l<i.length;l++){const h=s.getComputedStyle(r,null);if((h?h.getPropertyValue(e):null)===i[l])return!0}}return!1}},Ef=e=>t=>Re(t)&&t.hasAttribute(e),Xi=e=>Re(e)&&e.hasAttribute("data-mce-bogus"),Xn=e=>Re(e)&&"TABLE"===e.tagName,Nf=e=>t=>!(!Re(t)||t.contentEditable!==e&&t.getAttribute("data-mce-contenteditable")!==e),nd=Za(["textarea","input"]),ve=zi(3),RC=zi(4),TC=zi(7),ci=zi(8),To=zi(9),id=zi(11),Tt=ad("br"),Lf=ad("img"),Ka=Nf("true"),bt=Nf("false"),tl=Za(["td","th"]),Rf=Za(["td","th","caption"]),pn=Za(["video","audio","object","embed"]),PC=ad("li"),Gt="\xa0",Tf=e=>"\ufeff"===e,ia=(e,t)=>((i,r)=>{const s=void 0===r?document:r.dom;return Jg(s)?[]:tt(s.querySelectorAll(i),Q)})(t,e),Pf=((e,t)=>{const i=r=>e(r)?X.from(r.dom.nodeValue):X.none();return{get:r=>{if(!e(r))throw new Error("Can only get text value of a text node");return i(r).getOr("")},getOption:i,set:(r,s)=>{if(!e(r))throw new Error("Can only set raw text value of a text node");r.dom.nodeValue=s}}})(Ra),rd=e=>Pf.get(e),Of=e=>Pf.getOption(e),OC=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),di=e=>{let t;return i=>(t=t||uo(e,Lt),Ze(t,yt(i)))},Qa=di(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),od=e=>ka(e)&&!Qa(e),Hi=e=>ka(e)&&"br"===yt(e),Mf=di(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),sd=di(["ul","ol","dl"]),Oo=di(["li","dd","dt"]),MC=di(["thead","tbody","tfoot"]),Mo=di(["td","th"]),al=di(["pre","script","textarea","style"]),IC=di(OC),_C=e=>IC(e)||od(e),ld=()=>{const e=jt("br");return Vt(e,"data-mce-bogus","1"),e},Yi=e=>{No(e),zt(e,ld())},DC=e=>{Kc(e).each(t=>{_i(t).each(i=>{Qa(e)&&Hi(t)&&Qa(i)&&Ct(t)})})},Qt="\ufeff",nl=Tf,Hn=e=>e.replace(/\uFEFF/g,""),BC=Re,Nr=ve,Lr=e=>(Nr(e)&&(e=e.parentNode),BC(e)&&e.hasAttribute("data-mce-caret")),hi=e=>Nr(e)&&nl(e.data),Pa=e=>Lr(e)||hi(e),If=e=>e.firstChild!==e.lastChild||!Tt(e.firstChild),cd=e=>{const t=e.container();return!!ve(t)&&(t.data.charAt(e.offset())===Qt||e.isAtStart()&&hi(t.previousSibling))},dd=e=>{const t=e.container();return!!ve(t)&&(t.data.charAt(e.offset()-1)===Qt||e.isAtEnd()&&hi(t.nextSibling))},il=e=>Nr(e)&&e.data[0]===Qt,rl=e=>Nr(e)&&e.data[e.data.length-1]===Qt,hd=e=>e&&e.hasAttribute("data-mce-caret")?((t=>{var i;const r=t.getElementsByTagName("br"),s=r[r.length-1];Xi(s)&&(null===(i=s.parentNode)||void 0===i||i.removeChild(s))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,_f=e=>Lr(e.startContainer),Df=Ka,FC=bt,zC=Tt,XC=ve,HC=Za(["script","style","textarea"]),Bf=Za(["img","input","textarea","hr","iframe","video","audio","object","embed"]),YC=Za(["table"]),WC=Pa,Wa=e=>!WC(e)&&(XC(e)?!HC(e.parentNode):Bf(e)||zC(e)||YC(e)||ud(e)),ud=e=>{return!(Re(t=e)&&"true"===t.getAttribute("unselectable"))&&FC(e);var t},Ff=(e,t)=>Wa(e)&&((i,r)=>{for(let s=i.parentNode;s&&s!==r;s=s.parentNode){if(ud(s))return!1;if(Df(s))return!0}return!0})(e,t),VC=/^[ \t\r\n]*$/,Wi=e=>VC.test(e),zf=e=>"\n"===e||"\r"===e,Xf=(e,t=4,i=!0,r=!0)=>{const s=(p=t)<=0?"":new Array(p+1).join(" "),l=e.replace(/\t/g,s);var p;return la(l,(u,p)=>{return-1!==" \f\t\v".indexOf(p)||p===Gt?u.pcIsSpace||""===u.str&&i||u.str.length===l.length-1&&r||(y=u.str.length+1)<(b=l).length&&y>=0&&zf(b[y])?{pcIsSpace:!1,str:u.str+Gt}:{pcIsSpace:!0,str:u.str+" "}:{pcIsSpace:zf(p),str:u.str+p};var b,y},{pcIsSpace:!1,str:""}).str},ol=(e,t)=>{return Wa(e)&&(r=t,!(ve(i=e)&&Wi(i.data)&&!((s,l)=>{const h=Q(l),u=Q(s);return Af(u,"pre,code",Te(it,h))})(i,r)))||(i=>Re(i)&&"A"===i.nodeName&&!i.hasAttribute("href")&&(i.hasAttribute("name")||i.hasAttribute("id")))(e)||jC(e);var i,r},jC=Ef("data-mce-bookmark"),GC=Ef("data-mce-bogus"),UC=e=>Re(e)&&"all"===e.getAttribute("data-mce-bogus"),Pt=(e,t=!0)=>((i,r)=>{let s=0;if(ol(i,i))return!1;{let l=i.firstChild;if(!l)return!0;const h=new Dt(l,i);do{if(r){if(UC(l)){l=h.next(!0);continue}if(GC(l)){l=h.next();continue}}if(Tt(l))s++,l=h.next();else{if(ol(l,i))return!1;l=h.next()}}while(l);return s<=1}})(e.dom,t),Io="data-mce-block",gd=e=>{return(t=e,Ve(aa(t),i=>!/[A-Z]/.test(i))).join(",");var t},Hf=(e,t)=>Ce(t.querySelector(e))?(t.setAttribute(Io,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Io),!1),Yf=(e,t)=>{const i=gd(e.getTransparentElements()),r=gd(e.getBlockElements());return Ve(t.querySelectorAll(i),s=>Hf(r,s))},Wf=(e,t)=>{var i;const r=t?"lastChild":"firstChild";for(let s=e[r];s;s=s[r])if(Pt(Q(s)))return void(null===(i=s.parentNode)||void 0===i||i.removeChild(s))},fd=(e,t)=>{((e,t,i)=>{const r=e.getBlockElements(),s=Q(t),l=u=>yt(u)in r,h=u=>it(u,s);me(mf(i),u=>{li(u,l,h).each(p=>{const b=Ve(Zt(u),L=>l(L)&&!e.isValidChild(yt(p),yt(L)));if(b.length>0){const y=tf(p);me(b,C=>{li(C,l,h).each(L=>{((R,A)=>{const P=document.createRange(),N=R.parentNode;if(N){P.setStartBefore(R),P.setEndBefore(A);const O=P.extractContents();Wf(O,!0),P.setStartAfter(A),P.setEndAfter(R);const M=P.extractContents();Wf(M,!1),Pt(Q(O))||N.insertBefore(O,R),Pt(Q(A))||N.insertBefore(A,R),Pt(Q(M))||N.insertBefore(M,R),N.removeChild(R)}})(L.dom,C.dom)})}),y.each(C=>Yf(e,C.dom))}})})})(e,t,Yf(e,t))},$C=(e,t)=>{if(jf(e,t)){const i=gd(e.getBlockElements());Hf(i,t)}},Vf=e=>e.hasAttribute(Io),sl=(e,t)=>Ze(e.getTransparentElements(),t),jf=(e,t)=>Re(t)&&sl(e,t.nodeName),_o=(e,t)=>jf(e,t)&&Vf(t),Gf=(e,t)=>1===t.type&&sl(e,t.name)&&ft(t.attr(Io)),ZC=Je().browser,Uf=e=>Mt(e,ka),qf=(e,t)=>e.children&&st(e.children,t),$f=(e,t={})=>{let i=0;const r={},s=Q(e),l=zn(s),h=p=>new Promise((b,y)=>{let C;const L=pe._addCacheSuffix(p),R=pt(r,L).getOrThunk(()=>({id:"mce-u"+i++,passed:[],failed:[],count:0}));r[L]=R,R.count++;const A=(B,Y)=>{me(B,Ga),R.status=Y,R.passed=[],R.failed=[],C&&(C.onload=null,C.onerror=null,C=null)},P=()=>A(R.passed,2),N=()=>A(R.failed,3);if(b&&R.passed.push(b),y&&R.failed.push(y),1===R.status)return;if(2===R.status)return void P();if(3===R.status)return void N();R.status=1;const O=jt("link",l.dom);var M;ii(O,{rel:"stylesheet",type:"text/css",id:R.id}),t.contentCssCors&&Vt(O,"crossOrigin","anonymous"),t.referrerPolicy&&Vt(O,"referrerpolicy",t.referrerPolicy),C=O.dom,C.onload=P,C.onerror=N,M=O,zt(Jc(s),M),Vt(O,"href",L)}),u=p=>{const b=pe._addCacheSuffix(p);pt(r,b).each(y=>{0==--y.count&&(delete r[b],(C=>{const L=Jc(s);Ro(L,"#"+C).each(Ct)})(y.id))})};return{load:h,loadAll:p=>Promise.allSettled(tt(p,b=>h(b).then(Ae(b)))).then(b=>{const y=Ha(b,C=>"fulfilled"===C.status);return y.fail.length>0?Promise.reject(tt(y.fail,C=>C.reason)):tt(y.pass,C=>C.value)}),unload:u,unloadAll:p=>{me(p,b=>{u(b)})},_setReferrerPolicy:p=>{t.referrerPolicy=p},_setContentCssCors:p=>{t.contentCssCors=p}}},Zf=(()=>{const e=new WeakMap;return{forElement:(t,i)=>{const r=ri(t).dom;return X.from(e.get(r)).getOrThunk(()=>{const s=$f(r,i);return e.set(r,s),s})}}})(),Kf=(e,t)=>Ce(e)&&(ol(e,t)||od(Q(e))),Qf=e=>"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type"),pd=(e,t,i)=>{var r;const s=i||t;if(Re(t)&&Qf(t))return t;const l=t.childNodes;for(let h=l.length-1;h>=0;h--)pd(e,l[h],s);if(Re(t)){const h=t.childNodes;1===h.length&&Qf(h[0])&&(null===(r=t.parentNode)||void 0===r||r.insertBefore(h[0],t))}return id(h=t)||To(h)||ol(t,s)||(h=>!!Re(h)&&h.childNodes.length>0)(t)||((h,u)=>ve(h)&&h.data.length>0&&((p,b)=>{const y=new Dt(p,b).prev(!1),C=new Dt(p,b).next(!1),L=ft(y)||Kf(y,b),R=ft(C)||Kf(C,b);return L&&R})(h,u))(t,s)||e.remove(t),t;var h},KC=pe.makeMap,ll=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cl=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QC=/[<>&\"\']/g,JC=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ek={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},Vi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},tk={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Jf=(e,t)=>{const i={};if(e){const r=e.split(",");t=t||10;for(let s=0;s<r.length;s+=2){const l=String.fromCharCode(parseInt(r[s],t));if(!Vi[l]){const h="&"+r[s+1]+";";i[l]=h,i[h]=l}}return i}},md=Jf("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ep=(e,t)=>e.replace(t?ll:cl,i=>Vi[i]||i),tp=(e,t)=>e.replace(t?ll:cl,i=>i.length>1?"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";":Vi[i]||"&#"+i.charCodeAt(0)+";"),bd=(e,t,i)=>{const r=i||md;return e.replace(t?ll:cl,s=>Vi[s]||r[s]||s)},ui={encodeRaw:ep,encodeAllRaw:e=>(""+e).replace(QC,t=>Vi[t]||t),encodeNumeric:tp,encodeNamed:bd,getEncodeFunc:(e,t)=>{const i=Jf(t)||md,r=KC(e.replace(/\+/g,","));return r.named&&r.numeric?(s,l)=>s.replace(l?ll:cl,h=>void 0!==Vi[h]?Vi[h]:void 0!==i[h]?i[h]:h.length>1?"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";":"&#"+h.charCodeAt(0)+";"):r.named?t?(s,l)=>bd(s,l,i):bd:r.numeric?tp:ep},decode:e=>e.replace(JC,(t,i)=>i?(i="x"===i.charAt(0).toLowerCase()?parseInt(i.substr(1),16):parseInt(i,10))>65535?(i-=65536,String.fromCharCode(55296+(i>>10),56320+(1023&i))):ek[i]||String.fromCharCode(i):tk[t]||md[t]||(r=>{const s=jt("div").dom;return s.innerHTML=r,s.textContent||s.innerText||r})(t))},dl={},hl={},ak={},Rr=pe.makeMap,Jt=pe.each,xd=pe.extend,ap=pe.explode,nk=pe.inArray,Kt=(e,t)=>(e=pe.trim(e))?e.split(t||" "):[],np=(e,t={})=>{const i=Rr(e," ",Rr(e.toUpperCase()," "));return xd(i,t)},ip=e=>np("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),vd=(e,t)=>{if(e){const i={};return Ye(e)&&(e={"*":e}),Jt(e,(r,s)=>{i[s]=i[s.toUpperCase()]="map"===t?Rr(r,/[, ]/):ap(r,/[, ]/)}),i}},gi=(e={})=>{var t;const i={},r={};let s=[];const l={},h={},u=(fe,we,Ne)=>{const Ie=e[fe];if(Ie)return Rr(Ie,/[, ]/,Rr(Ie.toUpperCase(),/[, ]/));{let je=hl[fe];return je||(je=np(we,Ne),hl[fe]=je),je}},p=null!==(t=e.schema)&&void 0!==t?t:"html5",b=(fe=>{const we={};let Ne,Ie,je,Ue;const Ee=(Ot,kt="",fa="")=>{const pa=Kt(fa),sn=Kt(Ot);let ja=sn.length;for(;ja--;){const Ut=Kt([Ne,kt].join(" "));we[sn[ja]]={attributes:uo(Ut,()=>({})),attributesOrder:Ut,children:uo(pa,Ae(ak))}}},$e=(Ot,kt)=>{const fa=Kt(Ot),pa=Kt(kt);let sn=fa.length;for(;sn--;){const ja=we[fa[sn]];for(let Ut=0,ya=pa.length;Ut<ya;Ut++)ja.attributes[pa[Ut]]={},ja.attributesOrder.push(pa[Ut])}};if(dl[fe])return dl[fe];if(Ne="id accesskey class dir lang style tabindex title role",Ie="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",je="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==fe&&(Ne+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",Ie+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",je+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==fe){Ne+=" xml:lang";const Ot="acronym applet basefont big font strike tt";je=[je,Ot].join(" "),Jt(Kt(Ot),fa=>{Ee(fa,"",je)});const kt="center dir isindex noframes";Ie=[Ie,kt].join(" "),Ue=[Ie,je].join(" "),Jt(Kt(kt),fa=>{Ee(fa,"",Ue)})}return Ue=Ue||[Ie,je].join(" "),Ee("html","manifest","head body"),Ee("head","","base command link meta noscript script style title"),Ee("title hr noscript br"),Ee("base","href target"),Ee("link","href rel media hreflang type sizes hreflang"),Ee("meta","name http-equiv content charset"),Ee("style","media type scoped"),Ee("script","src async defer type charset"),Ee("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",Ue),Ee("address dt dd div caption","",Ue),Ee("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",je),Ee("blockquote","cite",Ue),Ee("ol","reversed start type","li"),Ee("ul","","li"),Ee("li","value",Ue),Ee("dl","","dt dd"),Ee("a","href target rel media hreflang type",Ue),Ee("q","cite",je),Ee("ins del","cite datetime",Ue),Ee("img","src sizes srcset alt usemap ismap width height"),Ee("iframe","src name width height",Ue),Ee("embed","src type width height"),Ee("object","data type typemustmatch name usemap form width height",[Ue,"param"].join(" ")),Ee("param","name value"),Ee("map","name",[Ue,"area"].join(" ")),Ee("area","alt coords shape href target rel media hreflang type"),Ee("table","border","caption colgroup thead tfoot tbody tr"+("html4"===fe?" col":"")),Ee("colgroup","span","col"),Ee("col","span"),Ee("tbody thead tfoot","","tr"),Ee("tr","","td th"),Ee("td","colspan rowspan headers",Ue),Ee("th","colspan rowspan headers scope abbr",Ue),Ee("form","accept-charset action autocomplete enctype method name novalidate target",Ue),Ee("fieldset","disabled form name",[Ue,"legend"].join(" ")),Ee("label","form for",je),Ee("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Ee("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===fe?Ue:je),Ee("select","disabled form multiple name required size","option optgroup"),Ee("optgroup","disabled label","option"),Ee("option","disabled label selected value"),Ee("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Ee("menu","type label",[Ue,"li"].join(" ")),Ee("noscript","",Ue),"html4"!==fe&&(Ee("wbr"),Ee("ruby","",[je,"rt rp"].join(" ")),Ee("figcaption","",Ue),Ee("mark rt rp summary bdi","",je),Ee("canvas","width height",Ue),Ee("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[Ue,"track source"].join(" ")),Ee("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[Ue,"track source"].join(" ")),Ee("picture","","img source"),Ee("source","src srcset type media sizes"),Ee("track","kind src srclang label default"),Ee("datalist","",[je,"option"].join(" ")),Ee("article section nav aside main header footer","",Ue),Ee("hgroup","","h1 h2 h3 h4 h5 h6"),Ee("figure","",[Ue,"figcaption"].join(" ")),Ee("time","datetime",je),Ee("dialog","open",Ue),Ee("command","type label icon disabled checked radiogroup command"),Ee("output","for form name",je),Ee("progress","value max",je),Ee("meter","value min max low high optimum",je),Ee("details","open",[Ue,"summary"].join(" ")),Ee("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==fe&&($e("script","language xml:space"),$e("style","xml:space"),$e("object","declare classid code codebase codetype archive standby align border hspace vspace"),$e("embed","align name hspace vspace"),$e("param","valuetype type"),$e("a","charset name rev shape coords"),$e("br","clear"),$e("applet","codebase archive code object alt name width height align hspace vspace"),$e("img","name longdesc align border hspace vspace"),$e("iframe","longdesc frameborder marginwidth marginheight scrolling align"),$e("font basefont","size color face"),$e("input","usemap align"),$e("select"),$e("textarea"),$e("h1 h2 h3 h4 h5 h6 div p legend caption","align"),$e("ul","type compact"),$e("li","type"),$e("ol dl menu dir","compact"),$e("pre","width xml:space"),$e("hr","align noshade size width"),$e("isindex","prompt"),$e("table","summary width frame rules cellspacing cellpadding align bgcolor"),$e("col","width align char charoff valign"),$e("colgroup","width align char charoff valign"),$e("thead","align char charoff valign"),$e("tr","align char charoff valign bgcolor"),$e("th","axis align char charoff valign nowrap bgcolor width height"),$e("form","accept"),$e("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),$e("tfoot","align char charoff valign"),$e("tbody","align char charoff valign"),$e("area","nohref"),$e("body","background bgcolor text link vlink alink")),"html4"!==fe&&($e("input button select textarea","autofocus"),$e("input textarea","placeholder"),$e("a","download"),$e("link script img","crossorigin"),$e("img","loading"),$e("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==fe&&me([we.video,we.audio],Ot=>{delete Ot.children.audio,delete Ot.children.video}),Jt(Kt("a form meter progress dfn"),Ot=>{we[Ot]&&delete we[Ot].children[Ot]}),delete we.caption.children.table,delete we.script,dl[fe]=we,we})(p);!1===e.verify_html&&(e.valid_elements="*[*]");const y=vd(e.valid_styles),C=vd(e.invalid_styles,"map"),L=vd(e.valid_classes,"map"),R=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),A=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),P=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),N=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),O="td th iframe video audio object script code",M=u("non_empty_elements",O+" pre",P),B=u("move_caret_before_on_enter_elements",O+" table",P),Y=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),U=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Y),G=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Z=u("transparent_elements","a ins del canvas map");Jt("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),fe=>{h[fe]=new RegExp("</"+fe+"[^>]*>","gi")});const $=fe=>new RegExp("^"+fe.replace(/([?+*])/g,".$1")+"$"),K=fe=>{const we=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Ne=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Ie=/[*?+]/;if(fe){const je=Kt(fe,",");let Ue,Ee;i["@"]&&(Ue=i["@"].attributes,Ee=i["@"].attributesOrder);for(let $e=0,Ot=je.length;$e<Ot;$e++){let kt=we.exec(je[$e]);if(kt){const fa=kt[1],pa=kt[2],sn=kt[3],ja=kt[5],Ut={},ya=[],Nt={attributes:Ut,attributesOrder:ya};if("#"===fa&&(Nt.paddEmpty=!0),"-"===fa&&(Nt.removeEmpty=!0),"!"===kt[4]&&(Nt.removeEmptyAttrs=!0),Ue&&(dt(Ue,(Ln,Ei)=>{Ut[Ei]=Ln}),Ee&&ya.push(...Ee)),ja){const Ln=Kt(ja,"|");for(let Ei=0,Wc=Ln.length;Ei<Wc;Ei++)if(kt=Ne.exec(Ln[Ei]),kt){const Rn={},Ms=kt[1],Aa=kt[2].replace(/[\\:]:/g,":"),Ni=kt[3],Ea=kt[4];if("!"===Ms&&(Nt.attributesRequired=Nt.attributesRequired||[],Nt.attributesRequired.push(Aa),Rn.required=!0),"-"===Ms){delete Ut[Aa],ya.splice(nk(ya,Aa),1);continue}if(Ni&&("="===Ni&&(Nt.attributesDefault=Nt.attributesDefault||[],Nt.attributesDefault.push({name:Aa,value:Ea}),Rn.defaultValue=Ea),"~"===Ni&&(Nt.attributesForced=Nt.attributesForced||[],Nt.attributesForced.push({name:Aa,value:Ea}),Rn.forcedValue=Ea),"<"===Ni&&(Rn.validValues=Rr(Ea,"?"))),Ie.test(Aa)){const fr=Rn;Nt.attributePatterns=Nt.attributePatterns||[],fr.pattern=$(Aa),Nt.attributePatterns.push(fr)}else Ut[Aa]||ya.push(Aa),Ut[Aa]=Rn}}if(Ue||"@"!==pa||(Ue=Ut,Ee=ya),sn&&(Nt.outputName=pa,i[sn]=Nt),Ie.test(pa)){const Ln=Nt;Ln.pattern=$(pa),s.push(Ln)}else i[pa]=Nt}}}},te=fe=>{s=[],me(aa(i),we=>{delete i[we]}),K(fe),Jt(b,(we,Ne)=>{r[Ne]=we.children})},ne=fe=>{const we=/^(~)?(.+)$/;fe&&(delete hl.text_block_elements,delete hl.block_elements,Jt(Kt(fe,","),Ne=>{const Ie=we.exec(Ne);if(Ie){const je="~"===Ie[1],Ue=je?"span":"div",Ee=Ie[2];if(r[Ee]=r[Ue],l[Ee]=Ue,M[Ee.toUpperCase()]={},M[Ee]={},je||(U[Ee.toUpperCase()]={},U[Ee]={}),!i[Ee]){let $e=i[Ue];$e=xd({},$e),delete $e.removeEmptyAttrs,delete $e.removeEmpty,i[Ee]=$e}Jt(r,($e,Ot)=>{$e[Ue]&&(r[Ot]=$e=xd({},r[Ot]),$e[Ee]=$e[Ue])})}}))},se=fe=>{const we=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete dl[p],fe&&Jt(Kt(fe,","),Ne=>{const Ie=we.exec(Ne);if(Ie){const je=Ie[1];let Ue;Ue=je?r[Ie[2]]:r[Ie[2]]={"#comment":{}},Ue=r[Ie[2]],Jt(Kt(Ie[3],"|"),Ee=>{"-"===je?delete Ue[Ee]:Ue[Ee]={}})}})},re=fe=>{const we=i[fe];if(we)return we;let Ne=s.length;for(;Ne--;){const Ie=s[Ne];if(Ie.pattern.test(fe))return Ie}};e.valid_elements?te(e.valid_elements):(Jt(b,(fe,we)=>{i[we]={attributes:fe.attributes,attributesOrder:fe.attributesOrder},r[we]=fe.children}),Jt(Kt("strong/b em/i"),fe=>{const we=Kt(fe,"/");i[we[1]].outputName=we[0]}),Jt(G,(fe,we)=>{i[we]&&(e.padd_empty_block_inline_children&&(i[we].paddInEmptyBlock=!0),i[we].removeEmpty=!0)}),Jt(Kt("ol ul blockquote a table tbody"),fe=>{i[fe]&&(i[fe].removeEmpty=!0)}),Jt(Kt("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),fe=>{i[fe].paddEmpty=!0}),Jt(Kt("span"),fe=>{i[fe].removeEmptyAttrs=!0})),ne(e.custom_elements),se(e.valid_children),K(e.extended_valid_elements),se("+ol[ul|ol],+ul[ul|ol]"),Jt({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(fe,we)=>{i[we]&&(i[we].parentsRequired=Kt(fe))}),e.invalid_elements&&Jt(ap(e.invalid_elements),fe=>{i[fe]&&delete i[fe]}),re("span")||K("span[!data-mce-type|*]");const he=Ae(y),ke=Ae(C),Se=Ae(L),De=Ae(N),Fe=Ae(U),et=Ae(Y),lt=Ae(G),Me=Ae(Object.seal(P)),qe=Ae(A),Ge=Ae(M),J=Ae(B),ee=Ae(R),de=Ae(Z),ge=Ae(Object.seal(h)),ue=Ae(l);return{type:p,children:r,elements:i,getValidStyles:he,getValidClasses:Se,getBlockElements:Fe,getInvalidStyles:ke,getVoidElements:Me,getTextBlockElements:et,getTextInlineElements:lt,getBoolAttrs:De,getElementRule:re,getSelfClosingElements:qe,getNonEmptyElements:Ge,getMoveCaretBeforeOnEnterElements:J,getWhitespaceElements:ee,getTransparentElements:de,getSpecialElements:ge,isValidChild:(fe,we)=>{const Ne=r[fe.toLowerCase()];return!(!Ne||!Ne[we.toLowerCase()])},isValid:(fe,we)=>{const Ne=re(fe);if(Ne){if(!we)return!0;{if(Ne.attributes[we])return!0;const Ie=Ne.attributePatterns;if(Ie){let je=Ie.length;for(;je--;)if(Ie[je].pattern.test(we))return!0}}}return!1},getCustomElements:ue,addValidElements:K,setValidElements:te,addCustomElements:ne,addValidChildren:se}},yd=(e={},t)=>{const i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,l={};let h,u;t&&(h=t.getValidStyles(),u=t.getInvalidStyles());const p="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let y=0;y<p.length;y++)l[p[y]]="\ufeff"+y,l["\ufeff"+y]=p[y];const b={parse:y=>{const C={};let L=!1;const R=e.url_converter,A=e.url_converter_scope||b,P=(K,te,ne)=>{const se=C[K+"-top"+te];if(!se)return;const re=C[K+"-right"+te];if(!re)return;const he=C[K+"-bottom"+te];if(!he)return;const ke=C[K+"-left"+te];if(!ke)return;const Se=[se,re,he,ke];let De=Se.length-1;for(;De--&&Se[De]===Se[De+1];);De>-1&&ne||(C[K+te]=-1===De?Se[0]:Se.join(" "),delete C[K+"-top"+te],delete C[K+"-right"+te],delete C[K+"-bottom"+te],delete C[K+"-left"+te])},N=K=>{const te=C[K];if(!te)return;const ne=te.split(" ");let se=ne.length;for(;se--;)if(ne[se]!==ne[0])return!1;return C[K]=ne[0],!0},O=K=>(L=!0,l[K]),M=(K,te)=>(L&&(K=K.replace(/\uFEFF[0-9]/g,ne=>l[ne])),te||(K=K.replace(/\\([\'\";:])/g,"$1")),K),B=K=>String.fromCharCode(parseInt(K.slice(1),16)),Y=K=>K.replace(/\\[0-9a-f]+/gi,B),U=(K,te,ne,se,re,he)=>{if(re=re||he)return"'"+(re=M(re)).replace(/\'/g,"\\'")+"'";if(te=M(te||ne||se||""),!e.allow_script_urls){const ke=te.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ke)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ke))return""}return R&&(te=R.call(A,te,"style")),"url('"+te.replace(/\'/g,"\\'")+"')"};if(y){let K;for(y=(y=y.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,O).replace(/\"[^\"]+\"|\'[^\']+\'/g,te=>te.replace(/[;:]/g,O));K=r.exec(y);){r.lastIndex=K.index+K[0].length;let te=K[1].replace(s,"").toLowerCase(),ne=K[2].replace(s,"");if(te&&ne){if(te=Y(te),ne=Y(ne),-1!==te.indexOf("\ufeff")||-1!==te.indexOf('"')||!e.allow_script_urls&&("behavior"===te||/expression\s*\(|\/\*|\*\//.test(ne)))continue;"font-weight"===te&&"700"===ne?ne="bold":"color"!==te&&"background-color"!==te||(ne=ne.toLowerCase()),ne=ne.replace(i,U),C[te]=L?M(ne,!0):ne}}P("border","",!0),P("border","-width"),P("border","-color"),P("border","-style"),P("padding",""),P("margin",""),Z="border-style",$="border-color",N(G="border-width")&&N(Z)&&N($)&&(C.border=C[G]+" "+C[Z]+" "+C[$],delete C[G],delete C[Z],delete C[$]),"medium none"===C.border&&delete C.border,"none"===C["border-image"]&&delete C["border-image"]}var G,Z,$;return C},serialize:(y,C)=>{let L="";const R=(A,P)=>{const N=P[A];if(N)for(let O=0,M=N.length;O<M;O++){const B=N[O],Y=y[B];Y&&(L+=(L.length>0?" ":"")+B+": "+Y+";")}};return C&&h?(R("*",h),R(C,h)):dt(y,(A,P)=>{A&&((N,O)=>{if(!u||!O)return!0;let M=u["*"];return!(M&&M[N]||(M=u[O],M&&M[N]))})(P,C)&&(L+=(L.length>0?" ":"")+P+": "+A+";")}),L}};return b},ik={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},rp=(e,t)=>{const i=t??{};for(const r in e)Ze(ik,r)||(i[r]=e[r]);return Ce(e.composedPath)&&(i.composedPath=()=>e.composedPath()),i},wd=(e,t,i,r)=>{var s;const l=rp(t,r);return l.type=e,be(l.target)&&(l.target=null!==(s=l.srcElement)&&void 0!==s?s:i),(be((h=t).preventDefault)||(u=h)instanceof Event||nt(u.initEvent))&&(l.preventDefault=()=>{l.defaultPrevented=!0,l.isDefaultPrevented=Lt,nt(t.preventDefault)&&t.preventDefault()},l.stopPropagation=()=>{l.cancelBubble=!0,l.isPropagationStopped=Lt,nt(t.stopPropagation)&&t.stopPropagation()},l.stopImmediatePropagation=()=>{l.isImmediatePropagationStopped=Lt,l.stopPropagation()},(h=>h.isDefaultPrevented===Lt||h.isDefaultPrevented===vt)(l)||(l.isDefaultPrevented=!0===l.defaultPrevented?Lt:vt,l.isPropagationStopped=!0===l.cancelBubble?Lt:vt,l.isImmediatePropagationStopped=vt)),l;var h,u},rk=/^(?:mouse|contextmenu)|click/,Cd=(e,t,i,r)=>{e.addEventListener(t,i,r||!1)},ul=(e,t,i,r)=>{e.removeEventListener(t,i,r||!1)},Do=(e,t)=>{const i=wd(e.type,e,document,t);if(Ce(r=e)&&rk.test(r.type)&&ft(e.pageX)&&!ft(e.clientX)){const r=i.target.ownerDocument||document,s=r.documentElement,l=r.body,h=i;h.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),h.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}var r;return i},ok=(e,t,i)=>{const r=e.document,s={type:"ready"};if(i.domLoaded)return void t(s);const l=()=>{ul(e,"DOMContentLoaded",l),ul(e,"load",l),i.domLoaded||(i.domLoaded=!0,t(s)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?l():Cd(e,"DOMContentLoaded",l),i.domLoaded||Cd(e,"load",l)};class ji{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,i,r,s){const l=this;let h;const u=window,p=L=>{l.executeHandlers(Do(L||u.event),b)};if(!t||ve(t)||ci(t))return r;let b;t[l.expando]?b=t[l.expando]:(b=l.count++,t[l.expando]=b,l.events[b]={}),s=s||t;const y=i.split(" ");let C=y.length;for(;C--;){let L=y[C],R=p,A=!1,P=!1;"DOMContentLoaded"===L&&(L="ready"),l.domLoaded&&"ready"===L&&"complete"===t.readyState?r.call(s,Do({type:L})):(l.hasFocusIn||"focusin"!==L&&"focusout"!==L||(A=!0,P="focusin"===L?"focus":"blur",R=N=>{const O=Do(N||u.event);O.type="focus"===O.type?"focusin":"focusout",l.executeHandlers(O,b)}),h=l.events[b][L],h?"ready"===L&&l.domLoaded?r(Do({type:L})):h.push({func:r,scope:s}):(l.events[b][L]=h=[{func:r,scope:s}],h.fakeName=P,h.capture=A,h.nativeHandler=R,"ready"===L?ok(t,R,l):Cd(t,P||L,R,A)))}return t=h=null,r}unbind(t,i,r){if(!t||ve(t)||ci(t))return this;const s=t[this.expando];if(s){let l=this.events[s];if(i){const h=i.split(" ");let u=h.length;for(;u--;){const p=h[u],b=l[p];if(b){if(r){let y=b.length;for(;y--;)if(b[y].func===r){const C=b.nativeHandler,L=b.fakeName,R=b.capture,A=b.slice(0,y).concat(b.slice(y+1));A.nativeHandler=C,A.fakeName=L,A.capture=R,l[p]=A}}r&&0!==b.length||(delete l[p],ul(t,b.fakeName||p,b.nativeHandler,b.capture))}}}else dt(l,(h,u)=>{ul(t,h.fakeName||u,h.nativeHandler,h.capture)}),l={};for(const h in l)if(Ze(l,h))return this;delete this.events[s];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,i,r){return this.dispatch(t,i,r)}dispatch(t,i,r){if(!t||ve(t)||ci(t))return this;const s=Do({type:i,target:t},r);do{const l=t[this.expando];l&&this.executeHandlers(s,l),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!s.isPropagationStopped());return this}clean(t){if(!t||ve(t)||ci(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const i=t.getElementsByTagName("*");let r=i.length;for(;r--;)(t=i[r])[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,i){const r=this.events[i],s=r&&r[t.type];if(s)for(let l=0,h=s.length;l<h;l++){const u=s[l];if(u&&!1===u.func.call(u.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}ji.Event=new ji;const kd=pe.each,sk=pe.grep,Sd="data-mce-style",lk=pe.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Bo=(e,t,i)=>{be(i)||""===i?$t(e,t):Vt(e,t,i)},op=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Tr=(e,t)=>{let i=0;if(e)for(let r=e.nodeType,s=e.previousSibling;s;s=s.previousSibling){const l=s.nodeType;(!t||!ve(s)||l!==r&&s.data.length)&&(i++,r=l)}return i},sp=(e,t)=>{const i=Ya(t,"style"),r=e.serialize(e.parse(i),yt(t));Bo(t,Sd,r)},lp=(e,t,i)=>{const r=op(t);var s,l;be(i)||""===i?ff(e,r):hf(e,r,(l=r,Na(s=i)?Ze(lk,l)?s+"":s+"px":s))},gt=(e,t={})=>{const i={},r=window,s={};let l=0;const h=Zf.forElement(Q(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),u=[],p=t.schema?t.schema:gi({}),b=yd({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),y=t.ownEvents?new ji:ji.Event,C=p.getBlockElements(),L=J=>J&&e&&Ye(J)?e.getElementById(J):J,R=J=>{const ee=L(J);return Ce(ee)?Q(ee):null},A=(J,ee,de="")=>{let ge;const ue=R(J);if(Ce(ue)&&ka(ue)){const fe=Ge[ee];ge=fe&&fe.get?fe.get(ue.dom,ee):Ya(ue,ee)}return Ce(ge)?ge:de},P=J=>{const ee=L(J);return be(ee)?[]:ee.attributes},N=(J,ee,de)=>{$(J,ge=>{if(Re(ge)){const ue=Q(ge),fe=""===de?null:de,we=Ya(ue,ee),Ne=Ge[ee];Ne&&Ne.set?Ne.set(ue.dom,fe,ee):Bo(ue,ee,fe),we!==fe&&t.onSetAttrib&&t.onSetAttrib({attrElm:ue.dom,attrName:ee,attrValue:fe})}})},O=()=>t.root_element||e.body,M=(J,ee)=>((de,ge,ue)=>{let fe=0,we=0;const Ne=de.ownerDocument;if(ue=ue||de,ge){if(ue===de&&ge.getBoundingClientRect&&"static"===fn(Q(de),"position")){const je=ge.getBoundingClientRect();return fe=je.left+(Ne.documentElement.scrollLeft||de.scrollLeft)-Ne.documentElement.clientLeft,we=je.top+(Ne.documentElement.scrollTop||de.scrollTop)-Ne.documentElement.clientTop,{x:fe,y:we}}let Ie=ge;for(;Ie&&Ie!==ue&&Ie.nodeType&&!qf(Ie,ue);)fe+=Ie.offsetLeft||0,we+=Ie.offsetTop||0,Ie=Ie.offsetParent;for(Ie=ge.parentNode;Ie&&Ie!==ue&&Ie.nodeType&&!qf(Ie,ue);)fe-=Ie.scrollLeft||0,we-=Ie.scrollTop||0,Ie=Ie.parentNode;we+=(je=Q(ge),ZC.isFirefox()&&"table"===yt(je)?Uf(Zt(je)).filter(Ue=>"caption"===yt(Ue)).bind(Ue=>Uf(rf(Ue)).map(Ee=>Ee.dom.offsetTop<=Ue.dom.offsetTop?-Ue.dom.offsetHeight:0)).getOr(0):0)}var je;return{x:fe,y:we}})(e.body,L(J),ee),B=(J,ee,de)=>{const ge=L(J);if(!be(ge)&&Re(ge))return de?fn(Q(ge),op(ee)):("float"===(ee=ee.replace(/-(\D)/g,(ue,fe)=>fe.toUpperCase()))&&(ee="cssFloat"),ge.style?ge.style[ee]:void 0)},Y=J=>{const ee=L(J);if(!ee)return{w:0,h:0};let de=B(ee,"width"),ge=B(ee,"height");return de&&-1!==de.indexOf("px")||(de="0"),ge&&-1!==ge.indexOf("px")||(ge="0"),{w:parseInt(de,10)||ee.offsetWidth||ee.clientWidth,h:parseInt(ge,10)||ee.offsetHeight||ee.clientHeight}},U=(J,ee)=>{if(!J)return!1;const de=Et(J)?J:[J];return mt(de,ge=>qa(Q(ge),ee))},G=(J,ee,de,ge)=>{const ue=[];let fe=L(J);ge=void 0===ge;const we=de||("BODY"!==O().nodeName?O().parentNode:null);if(Ye(ee))if("*"===ee)ee=Re;else{const Ne=ee;ee=Ie=>U(Ie,Ne)}for(;fe&&!(fe===we||be(fe.nodeType)||To(fe)||id(fe));){if(!ee||ee(fe)){if(!ge)return[fe];ue.push(fe)}fe=fe.parentNode}return ge?ue:null},Z=(J,ee,de)=>{let ge=ee;if(J){Ye(ee)&&(ge=ue=>U(ue,ee));for(let ue=J[de];ue;ue=ue[de])if(nt(ge)&&ge(ue))return ue}return null},$=function(J,ee,de){const ge=de??this;if(Et(J)){const ue=[];return kd(J,(fe,we)=>{const Ne=L(fe);Ne&&ue.push(ee.call(ge,Ne,we))}),ue}{const ue=L(J);return!!ue&&ee.call(ge,ue)}},K=(J,ee)=>{$(J,de=>{dt(ee,(ge,ue)=>{N(de,ue,ge)})})},te=(J,ee)=>{$(J,de=>{const ge=Q(de);Ks(ge,ee)})},ne=(J,ee,de,ge,ue)=>$(J,fe=>{const we=Ye(ee)?e.createElement(ee):ee;return Ce(de)&&K(we,de),ge&&(!Ye(ge)&&ge.nodeType?we.appendChild(ge):Ye(ge)&&te(we,ge)),ue?we:fe.appendChild(we)}),se=(J,ee,de)=>ne(e.createElement(J),J,ee,de,!0),re=ui.encodeAllRaw,he=(J,ee)=>$(J,de=>{const ge=Q(de);return ee&&me(Zt(ge),ue=>{Ra(ue)&&0===ue.dom.length?Ct(ue):Ta(ge,ue)}),Ct(ge),ge.dom}),ke=(J,ee,de)=>{$(J,ge=>{if(Re(ge)){const ue=Q(ge),fe=ee.split(" ");me(fe,we=>{var Ne,Ie,Ue,Ee;Ce(de)?(de?Co:Gs)(ue,we):(Ie=we,wo(Ne=ue)?Ne.dom.classList.toggle(Ie):(Ee=Ie,st(qg(Ue=Ne),Ee)?Zg(Ue,Ee):$g(Ue,Ee)),Kg(Ne))})}})},Se=(J,ee,de)=>$(ee,ge=>{var ue;const fe=Et(ee)?J.cloneNode(!0):J;return de&&kd(sk(ge.childNodes),we=>{fe.appendChild(we)}),null===(ue=ge.parentNode)||void 0===ue||ue.replaceChild(fe,ge),ge}),De=J=>{if(Re(J)){const ee="a"===J.nodeName.toLowerCase()&&!A(J,"href")&&A(J,"id");if(A(J,"name")||A(J,"data-mce-bookmark")||ee)return!0}return!1},Fe=()=>e.createRange(),et=(J,ee,de,ge)=>{if(Et(J)){let ue=J.length;const fe=[];for(;ue--;)fe[ue]=et(J[ue],ee,de,ge);return fe}return!t.collect||J!==e&&J!==r||u.push([J,ee,de,ge]),y.bind(J,ee,de,ge||qe)},lt=(J,ee,de)=>{if(Et(J)){let ge=J.length;const ue=[];for(;ge--;)ue[ge]=lt(J[ge],ee,de);return ue}if(u.length>0&&(J===e||J===r)){let ge=u.length;for(;ge--;){const[ue,fe,we]=u[ge];J!==ue||ee&&ee!==fe||de&&de!==we||y.unbind(ue,fe,we)}}return y.unbind(J,ee,de)},Me=J=>{if(J&&Re(J)){const ee=J.getAttribute("data-mce-contenteditable");return ee&&"inherit"!==ee?ee:"inherit"!==J.contentEditable?J.contentEditable:null}return null},qe={doc:e,settings:t,win:r,files:s,stdMode:!0,boxModel:!0,styleSheetLoader:h,boundEvents:u,styles:b,schema:p,events:y,isBlock:J=>Ye(J)?Ze(C,J):Re(J)&&(Ze(C,J.nodeName)||_o(p,J)),root:null,clone:(J,ee)=>J.cloneNode(ee),getRoot:O,getViewPort:J=>{const ee=Cf(J);return{x:ee.x,y:ee.y,w:ee.width,h:ee.height}},getRect:J=>{const ee=L(J),de=M(ee),ge=Y(ee);return{x:de.x,y:de.y,w:ge.w,h:ge.h}},getSize:Y,getParent:(J,ee,de)=>{const ge=G(J,ee,de,!1);return ge&&ge.length>0?ge[0]:null},getParents:G,get:L,getNext:(J,ee)=>Z(J,ee,"nextSibling"),getPrev:(J,ee)=>Z(J,ee,"previousSibling"),select:(J,ee)=>{var de,ge;const ue=null!==(ge=null!==(de=L(ee))&&void 0!==de?de:t.root_element)&&void 0!==ge?ge:e;return nt(ue.querySelectorAll)?ta(ue.querySelectorAll(J)):[]},is:U,add:ne,create:se,createHTML:(J,ee,de="")=>{let ge="<"+J;for(const ue in ee)Dn(ee,ue)&&(ge+=" "+ue+'="'+re(ee[ue])+'"');return c(de)&&Ze(p.getVoidElements(),J)?ge+" />":ge+">"+de+"</"+J+">"},createFragment:J=>{const ee=e.createElement("div"),de=e.createDocumentFragment();let ge;for(de.appendChild(ee),J&&(ee.innerHTML=J);ge=ee.firstChild;)de.appendChild(ge);return de.removeChild(ee),de},remove:he,setStyle:(J,ee,de)=>{$(J,ge=>{const ue=Q(ge);lp(ue,ee,de),t.update_styles&&sp(b,ue)})},getStyle:B,setStyles:(J,ee)=>{$(J,de=>{const ge=Q(de);dt(ee,(ue,fe)=>{lp(ge,fe,ue)}),t.update_styles&&sp(b,ge)})},removeAllAttribs:J=>$(J,ee=>{const de=ee.attributes;for(let ge=de.length-1;ge>=0;ge--)ee.removeAttributeNode(de.item(ge))}),setAttrib:N,setAttribs:K,getAttrib:A,getPos:M,parseStyle:J=>b.parse(J),serializeStyle:(J,ee)=>b.serialize(J,ee),addStyle:J=>{if(qe!==gt.DOM&&e===document){if(i[J])return;i[J]=!0}let ee=e.getElementById("mceDefaultStyles");if(!ee){ee=e.createElement("style"),ee.id="mceDefaultStyles",ee.type="text/css";const de=e.head;de.firstChild?de.insertBefore(ee,de.firstChild):de.appendChild(ee)}ee.styleSheet?ee.styleSheet.cssText+=J:ee.appendChild(e.createTextNode(J))},loadCSS:J=>{J||(J=""),me(J.split(","),ee=>{s[ee]=!0,h.load(ee).catch(Qe)})},addClass:(J,ee)=>{ke(J,ee,!0)},removeClass:(J,ee)=>{ke(J,ee,!1)},hasClass:(J,ee)=>{const de=R(J),ge=ee.split(" ");return Ce(de)&&In(ge,ue=>Zc(de,ue))},toggleClass:ke,show:J=>{$(J,ee=>ff(Q(ee),"display"))},hide:J=>{$(J,ee=>hf(Q(ee),"display","none"))},isHidden:J=>{const ee=R(J);return Ce(ee)&&It(Zs(ee,"display"),"none")},uniqueId:J=>(J||"mce_")+l++,setHTML:te,getOuterHTML:J=>{const ee=R(J);return Ce(ee)?Re(ee.dom)?ee.dom.outerHTML:(de=>{const ge=jt("div"),ue=Q(de.dom.cloneNode(!0));return zt(ge,ue),bf(ge)})(ee):""},setOuterHTML:(J,ee)=>{$(J,de=>{Re(de)&&(de.outerHTML=ee)})},decode:ui.decode,encode:re,insertAfter:(J,ee)=>{const de=L(ee);return $(J,ge=>{const ue=de?.parentNode,fe=de?.nextSibling;return ue&&(fe?ue.insertBefore(ge,fe):ue.appendChild(ge)),ge})},replace:Se,rename:(J,ee)=>{if(J.nodeName!==ee.toUpperCase()){const de=se(ee);return kd(P(J),ge=>{N(de,ge.nodeName,A(J,ge.nodeName))}),Se(de,J,!0),de}return J},findCommonAncestor:(J,ee)=>{let de=J;for(;de;){let ge=ee;for(;ge&&de!==ge;)ge=ge.parentNode;if(de===ge)break;de=de.parentNode}return!de&&J.ownerDocument?J.ownerDocument.documentElement:de},run:$,getAttribs:P,isEmpty:(J,ee)=>{let de=0;if(De(J))return!1;const ge=J.firstChild;if(ge){const ue=new Dt(ge,J),fe=p?p.getWhitespaceElements():{},we=ee||(p?p.getNonEmptyElements():null);let Ne=ge;do{if(Re(Ne)){const Ie=Ne.getAttribute("data-mce-bogus");if(Ie){Ne=ue.next("all"===Ie);continue}const je=Ne.nodeName.toLowerCase();if(we&&we[je]){if("br"===je){de++,Ne=ue.next();continue}return!1}if(De(Ne))return!1}if(ci(Ne)||ve(Ne)&&!Wi(Ne.data)||ve(Ne)&&Ne.parentNode&&fe[Ne.parentNode.nodeName]&&Wi(Ne.data))return!1;Ne=ue.next()}while(Ne)}return de<=1},createRng:Fe,nodeIndex:Tr,split:(J,ee,de)=>{let ge,ue,fe=Fe();if(J&&ee&&J.parentNode&&ee.parentNode){const we=J.parentNode;return fe.setStart(we,Tr(J)),fe.setEnd(ee.parentNode,Tr(ee)),ge=fe.extractContents(),fe=Fe(),fe.setStart(ee.parentNode,Tr(ee)+1),fe.setEnd(we,Tr(J)+1),ue=fe.extractContents(),we.insertBefore(pd(qe,ge),J),we.insertBefore(de||ee,J),we.insertBefore(pd(qe,ue),J),he(J),de||ee}},bind:et,unbind:lt,fire:(J,ee,de)=>y.dispatch(J,ee,de),dispatch:(J,ee,de)=>y.dispatch(J,ee,de),getContentEditable:Me,getContentEditableParent:J=>{const ee=O();let de=null;for(let ge=J;ge&&ge!==ee&&(de=Me(ge),null===de);ge=ge.parentNode);return de},destroy:()=>{if(u.length>0){let J=u.length;for(;J--;){const[ee,de,ge]=u[J];y.unbind(ee,de,ge)}}dt(s,(J,ee)=>{h.unload(ee),delete s[ee]})},isChildOf:(J,ee)=>J===ee||ee.contains(J),dumpRng:J=>"startContainer: "+J.startContainer.nodeName+", startOffset: "+J.startOffset+", endContainer: "+J.endContainer.nodeName+", endOffset: "+J.endOffset},Ge=((J,ee,de)=>{const ge=ee.keep_values,fe={style:{set:(we,Ne)=>{const Ie=Q(we);ge&&Bo(Ie,Sd,Ne),$t(Ie,"style"),Ye(Ne)&&$s(Ie,J.parse(Ne))},get:we=>{const Ne=Q(we),Ie=Ya(Ne,Sd)||Ya(Ne,"style");return J.serialize(J.parse(Ie),yt(Ne))}}};return ge&&(fe.href=fe.src={set:(we,Ne,Ie)=>{const je=Q(we);nt(ee.url_converter)&&Ce(Ne)&&(Ne=ee.url_converter.call(ee.url_converter_scope||de(),String(Ne),Ie,we)),Bo(je,"data-mce-"+Ie,Ne),Bo(je,Ie,Ne)},get:(we,Ne)=>{const Ie=Q(we);return Ya(Ie,"data-mce-"+Ne)||Ya(Ie,Ne)}}),fe})(b,t,Ae(qe));return qe};gt.DOM=gt(document),gt.nodeIndex=Tr;const ck=gt.DOM;class Yn{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((i,r)=>{const s=ck;let l;const h=()=>{s.remove(u),l&&(l.onerror=l.onload=l=null)},u=s.uniqueId();l=document.createElement("script"),l.id=u,l.type="text/javascript",l.src=pe._addCacheSuffix(t),this.settings.referrerPolicy&&s.setAttrib(l,"referrerpolicy",this.settings.referrerPolicy),l.onload=()=>{h(),i()},l.onerror=()=>{h(),r("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(l)})}isDone(t){return 2===this.states[t]}markDone(t){this.states[t]=2}add(t){const i=this;return i.queue.push(t),void 0===i.states[t]&&(i.states[t]=0),new Promise((r,s)=>{i.scriptLoadedCallbacks[t]||(i.scriptLoadedCallbacks[t]=[]),i.scriptLoadedCallbacks[t].push({resolve:r,reject:s})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const i=this,r=(p,b)=>{pt(i.scriptLoadedCallbacks,b).each(y=>{me(y,C=>C[p](b))}),delete i.scriptLoadedCallbacks[b]},s=p=>{const b=Ve(p,y=>"rejected"===y.status);return b.length>0?Promise.reject(Ua(b,({reason:y})=>Et(y)?y:[y])):Promise.resolve()},l=p=>Promise.allSettled(tt(p,b=>2===i.states[b]?(r("resolve",b),Promise.resolve()):3===i.states[b]?(r("reject",b),Promise.reject(b)):(i.states[b]=1,i.loadScript(b).then(()=>{i.states[b]=2,r("resolve",b);const y=i.queue;return y.length>0?(i.queue=[],l(y).then(s)):Promise.resolve()},()=>(i.states[b]=3,r("reject",b),Promise.reject(b)))))),h=p=>(i.loading=!0,l(p).then(b=>{i.loading=!1;const y=i.queueLoadedCallbacks.shift();return X.from(y).each(Ga),s(b)})),u=Xs(t);return i.loading?new Promise((p,b)=>{i.queueLoadedCallbacks.push(()=>h(u).then(p,b))}):h(u)}}Yn.ScriptLoader=new Yn;const Xt=e=>{let t=e;return{get:()=>t,set:i=>{t=i}}},Fo={},Ad=Xt("en"),cp=()=>pt(Fo,Ad.get()),Ja={getData:()=>mr(Fo,e=>({...e})),setCode:e=>{e&&Ad.set(e)},getCode:()=>Ad.get(),add:(e,t)=>{let i=Fo[e];i||(Fo[e]=i={}),dt(t,(r,s)=>{i[s.toLowerCase()]=r})},translate:e=>{const t=cp().getOr({}),i=u=>nt(u)?Object.prototype.toString.call(u):r(u)?"":""+u,r=u=>""===u||null==u,s=u=>{const p=i(u);return pt(t,p.toLowerCase()).map(i).getOr(p)},l=u=>u.replace(/{context:\w+}$/,"");if(r(e))return"";if(xt(h=e)&&Ze(h,"raw"))return i(e.raw);var h,u;if(Et(u=e)&&u.length>1){const u=e.slice(1);return l(s(e[0]).replace(/\{([0-9]+)\}/g,(p,b)=>Ze(u,b)?i(u[b]):p))}return l(s(e))},isRtl:()=>cp().bind(e=>pt(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>Ze(Fo,e)},ra=()=>{const e=[],t={},i={},r=[],s=(p,b)=>{const y=Ve(r,C=>C.name===p&&C.state===b);me(y,C=>C.resolve())},l=p=>Ze(t,p),h=(p,b)=>{const y=Ja.getCode();!y||b&&-1===(","+(b||"")+",").indexOf(","+y+",")||Yn.ScriptLoader.add(t[p]+"/langs/"+y+".js")},u=(p,b="added")=>"added"===b&&Ze(i,p)||"loaded"===b&&l(p)?Promise.resolve():new Promise(y=>{r.push({name:p,state:b,resolve:y})});return{items:e,urls:t,lookup:i,get:p=>{if(i[p])return i[p].instance},requireLangPack:(p,b)=>{!1!==ra.languageLoad&&(l(p)?h(p,b):u(p,"loaded").then(()=>h(p,b)))},add:(p,b)=>(e.push(b),i[p]={instance:b},s(p,"added"),b),remove:p=>{delete t[p],delete i[p]},createUrl:(p,b)=>Ye(b)?Ye(p)?{prefix:"",resource:b,suffix:""}:{prefix:p.prefix,resource:b,suffix:p.suffix}:b,load:(p,b)=>{if(t[p])return Promise.resolve();let y=Ye(b)?b:b.prefix+b.resource+b.suffix;0!==y.indexOf("/")&&-1===y.indexOf("://")&&(y=ra.baseURL+"/"+y),t[p]=y.substring(0,y.lastIndexOf("/"));const C=()=>(s(p,"loaded"),Promise.resolve());return i[p]?C():Yn.ScriptLoader.add(y).then(C)},waitFor:u}};ra.languageLoad=!0,ra.baseURL="",ra.PluginManager=ra(),ra.ThemeManager=ra(),ra.ModelManager=ra();const dk=e=>{const t=Xt(X.none()),i=()=>t.get().each(r=>clearInterval(r));return{clear:()=>{i(),t.set(X.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{i(),t.set(X.some(setInterval(r,e)))}}},fi=()=>{const e=(t=>{const i=Xt(X.none()),r=()=>i.get().each(t);return{clear:()=>{r(),i.set(X.none())},isSet:()=>i.get().isSome(),get:()=>i.get(),set:s=>{r(),i.set(X.some(s))}}})(Qe);return{...e,on:t=>e.get().each(t)}},gl=(e,t)=>{let i=null;return{cancel:()=>{le(i)||(clearTimeout(i),i=null)},throttle:(...r)=>{le(i)&&(i=setTimeout(()=>{i=null,e.apply(null,r)},t))}}},Ed=(e,t)=>{let i=null;const r=()=>{le(i)||(clearTimeout(i),i=null)};return{cancel:r,throttle:(...s)=>{r(),i=setTimeout(()=>{i=null,e.apply(null,s)},t)}}},zo=Ae("mce-annotation"),Gi=Ae("data-mce-annotation"),Pr=Ae("data-mce-annotation-uid"),Xo=Ae("data-mce-annotation-active"),Ho=Ae("data-mce-annotation-classes"),Yo=Ae("data-mce-annotation-attrs"),dp=e=>t=>it(t,e),hp=(e,t)=>{const i=e.selection.getRng(),r=Q(i.startContainer),s=Q(e.getBody()),l=t.fold(()=>"."+zo(),u=>`[${Gi()}="${u}"]`),h=qs(r,i.startOffset).getOr(r);return Fi(h,l,dp(s)).bind(u=>Bn(u,`${Pr()}`).bind(p=>Bn(u,`${Gi()}`).map(b=>{const y=gp(e,p);return{uid:p,name:b,elements:y}})))},up=(e,t)=>js(e,"data-mce-bogus")||Af(e,'[data-mce-bogus="all"]',dp(t)),gp=(e,t)=>{const i=Q(e.getBody()),r=ia(i,`[${Pr()}="${t}"]`);return Ve(r,s=>!up(s,i))},fp=(e,t)=>{const i=Q(e.getBody()),r=ia(i,`[${Gi()}="${t}"]`),s={};return me(r,l=>{if(!up(l,i)){const h=Ya(l,Pr()),u=pt(s,h).getOr([]);s[h]=u.concat([l])}}),s};let pp=0;const mp=e=>{const t=(new Date).getTime(),i=Math.floor(1e9*Math.random());return pp++,e+"_"+i+pp+String(t)},bp=(e,t)=>Q(e.dom.cloneNode(t)),Or=e=>bp(e,!1),xp=e=>bp(e,!0),vp=(e,t,i=vt)=>{const r=new Dt(e,t),s=l=>{let h;do{h=r[l]()}while(h&&!ve(h)&&!i(h));return X.from(h).filter(ve)};return{current:()=>X.from(r.current()).filter(ve),next:()=>s("next"),prev:()=>s("prev"),prev2:()=>s("prev2")}},Ui=(e,t)=>{const i=t||(s=>e.isBlock(s)||Tt(s)||bt(s)),r=(s,l,h,u)=>{if(ve(s)){const p=u(s,l,s.data);if(-1!==p)return X.some({container:s,offset:p})}return h().bind(p=>r(p.container,p.offset,h,u))};return{backwards:(s,l,h,u)=>{const p=vp(s,u??e.getRoot(),i);return r(s,l,()=>p.prev().map(b=>({container:b,offset:b.length})),h).getOrNull()},forwards:(s,l,h,u)=>{const p=vp(s,u??e.getRoot(),i);return r(s,l,()=>p.next().map(b=>({container:b,offset:0})),h).getOrNull()}}},Mr=Math.round,qi=e=>e?{left:Mr(e.left),top:Mr(e.top),bottom:Mr(e.bottom),right:Mr(e.right),width:Mr(e.width),height:Mr(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},yp=(e,t)=>(e=qi(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),wp=(e,t,i)=>e>=0&&e<=Math.min(t.height,i.height)/2,Wo=(e,t)=>{const i=Math.min(t.height/2,e.height/2);return e.bottom-i<t.top||!(e.top>t.bottom)&&wp(t.top-e.bottom,e,t)},Vo=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&wp(t.bottom-e.top,e,t),Cp=(e,t,i)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),s=Math.max(Math.min(i,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(i-s)*(i-s))},fl=e=>{const t=e.startContainer,i=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===i+1?t.childNodes[i]:null},pi=(e,t)=>{if(Re(e)&&e.hasChildNodes()){const i=e.childNodes;return i[(h=i.length-1,Math.min(Math.max(t,0),h))]}var h;return e},hk=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),kp=e=>Ye(e)&&e.charCodeAt(0)>=768&&hk.test(e),Sp=Re,uk=Wa,Ap=el("display","block table"),gk=el("float","left right"),jo=((...e)=>t=>{for(let i=0;i<e.length;i++)if(!e[i](t))return!1;return!0})(Sp,uk,Jn(gk)),fk=Jn(el("white-space","pre pre-line pre-wrap")),Go=ve,Nd=Tt,Ep=gt.nodeIndex,pl=(e,t)=>t<0&&Re(e)&&e.hasChildNodes()?void 0:pi(e,t),Ld=e=>e?e.createRange():gt.DOM.createRng(),Rd=e=>Ye(e)&&/[\r\n\t ]/.test(e),Np=e=>!!e.setStart&&!!e.setEnd,Td=e=>{const t=e.startContainer,i=e.startOffset;if(Rd(e.toString())&&fk(t.parentNode)&&ve(t)){const r=t.data;if(Rd(r[i-1])||Rd(r[i+1]))return!0}return!1},Lp=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,mi=e=>{var t;let i;const r=e.getClientRects();return i=qi(r.length>0?r[0]:e.getBoundingClientRect()),!Np(e)&&Nd(e)&&Lp(i)?(s=>{const l=s.ownerDocument,h=Ld(l),u=l.createTextNode(Gt),p=s.parentNode;p.insertBefore(u,s),h.setStart(u,0),h.setEnd(u,1);const b=qi(h.getBoundingClientRect());return p.removeChild(u),b})(e):Lp(i)&&Np(e)&&null!==(t=(s=>{const h=s.endContainer,u=s.startOffset,p=s.endOffset;if(s.startContainer===h&&ve(h)&&0===u&&1===p){const b=s.cloneRange();return b.setEndAfter(h),mi(b)}return null})(e))&&void 0!==t?t:i},$i=(e,t)=>{const i=yp(e,t);return i.width=1,i.right=i.left+1,i},ce=(e,t,i)=>{const r=()=>(i||(i=(s=>{const l=[],h=y=>{var C,L;0!==y.height&&(l.length>0&&(C=y).left===(L=l[l.length-1]).left&&C.top===L.top&&C.bottom===L.bottom&&C.right===L.right||l.push(y))},u=(y,C)=>{const L=Ld(y.ownerDocument);if(C<y.data.length){if(kp(y.data[C]))return;if(kp(y.data[C-1])&&(L.setStart(y,C),L.setEnd(y,C+1),!Td(L)))return void h($i(mi(L),!1))}C>0&&(L.setStart(y,C-1),L.setEnd(y,C),Td(L)||h($i(mi(L),!1))),C<y.data.length&&(L.setStart(y,C),L.setEnd(y,C+1),Td(L)||h($i(mi(L),!0)))},p=s.container(),b=s.offset();if(Go(p))return u(p,b),l;if(Sp(p))if(s.isAtEnd()){const y=pl(p,b);Go(y)&&u(y,y.data.length),jo(y)&&!Nd(y)&&h($i(mi(y),!1))}else{const y=pl(p,b);if(Go(y)&&u(y,0),jo(y)&&s.isAtEnd())return h($i(mi(y),!1)),l;const C=pl(s.container(),s.offset()-1);jo(C)&&!Nd(C)&&(Ap(C)||Ap(y)||!jo(y))&&h($i(mi(C),!1)),jo(y)&&h($i(mi(y),!0))}return l})(ce(e,t))),i);return{container:Ae(e),offset:Ae(t),toRange:()=>{const s=Ld(e.ownerDocument);return s.setStart(e,t),s.setEnd(e,t),s},getClientRects:r,isVisible:()=>r().length>0,isAtStart:()=>(Go(e),0===t),isAtEnd:()=>Go(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:s=>s&&e===s.container()&&t===s.offset(),getNode:s=>pl(e,s?t-1:t)}};ce.fromRangeStart=e=>ce(e.startContainer,e.startOffset),ce.fromRangeEnd=e=>ce(e.endContainer,e.endOffset),ce.after=e=>ce(e.parentNode,Ep(e)+1),ce.before=e=>ce(e.parentNode,Ep(e)),ce.isAbove=(e,t)=>qt(ea(t.getClientRects()),un(e.getClientRects()),Wo).getOr(!1),ce.isBelow=(e,t)=>qt(un(t.getClientRects()),ea(e.getClientRects()),Vo).getOr(!1),ce.isAtStart=e=>!!e&&e.isAtStart(),ce.isAtEnd=e=>!!e&&e.isAtEnd(),ce.isTextPosition=e=>!!e&&ve(e.container()),ce.isElementPosition=e=>!ce.isTextPosition(e);const ml=(e,t)=>{ve(t)&&0===t.data.length&&e.remove(t)},Pd=(e,t,i)=>{var r,l;id(i)?((r,s,l)=>{const h=X.from(l.firstChild),u=X.from(l.lastChild);s.insertNode(l),h.each(p=>ml(r,p.previousSibling)),u.each(p=>ml(r,p.nextSibling))})(e,t,i):(r=e,t.insertNode(l=i),ml(r,l.previousSibling),ml(r,l.nextSibling))},en=ve,Rp=Xi,Tp=gt.nodeIndex,Pp=e=>{const t=e.parentNode;return Rp(t)?Pp(t):t},Od=e=>e?vr(e.childNodes,(t,i)=>(Rp(i)&&"BR"!==i.nodeName?t=t.concat(Od(i)):t.push(i),t),[]):[],Op=e=>t=>e===t,Mp=e=>(en(e)?"text()":e.nodeName.toLowerCase())+"["+(t=>{let i,r;i=Od(Pp(t)),r=yr(i,Op(t),t),i=i.slice(0,r+1);const s=vr(i,(l,h,u)=>(en(h)&&en(i[u-1])&&l++,l),0);return i=Oi(i,Za([t.nodeName])),r=yr(i,Op(t),t),r-s})(e)+"]",Ip=(e,t)=>{let i,r=[],s=t.container(),l=t.offset();if(en(s))i=((u,p)=>{let b=u;for(;(b=b.previousSibling)&&en(b);)p+=b.data.length;return p})(s,l);else{const u=s.childNodes;l>=u.length?(i="after",l=u.length-1):i="before",s=u[l]}r.push(Mp(s));let h=((u,p,b)=>{const y=[];for(let C=p.parentNode;C&&C!==u;C=C.parentNode)y.push(C);return y})(e,s);return h=Oi(h,Jn(Xi)),r=r.concat(bo(h,u=>Mp(u))),r.reverse().join("/")+","+i},_p=(e,t)=>{if(!t)return null;const i=t.split(","),r=i[0].split("/"),s=i.length>1?i[1]:"before",l=vr(r,(h,u)=>{const p=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return p?("text()"===p[1]&&(p[1]="#text"),((b,y,C)=>{let L=Od(b);return L=Oi(L,(R,A)=>!en(R)||!en(L[A-1])),L=Oi(L,Za([y])),L[C]})(h,p[1],parseInt(p[2],10))):null},e);if(!l)return null;if(!en(l)&&l.parentNode){let h;return h="after"===s?Tp(l)+1:Tp(l),ce(l.parentNode,h)}return((h,u)=>{let p=h,b=0;for(;en(p);){const y=p.data.length;if(u>=b&&u<=b+y){h=p,u-=b;break}if(!en(p.nextSibling)){h=p,u=y;break}b+=y,p=p.nextSibling}return en(h)&&u>h.data.length&&(u=h.data.length),ce(h,u)})(l,parseInt(s,10))},bl=bt,Dp=(e,t,i,r,s)=>{const l=s?r.startContainer:r.endContainer;let h=s?r.startOffset:r.endOffset;const u=[],p=e.getRoot();if(ve(l))u.push(i?((b,y,C)=>{let L=b(y.data.slice(0,C)).length;for(let R=y.previousSibling;R&&ve(R);R=R.previousSibling)L+=b(R.data).length;return L})(t,l,h):h);else{let b=0;const y=l.childNodes;h>=y.length&&y.length&&(b=1,h=Math.max(0,y.length-1)),u.push(e.nodeIndex(y[h],i)+b)}for(let b=l;b&&b!==p;b=b.parentNode)u.push(e.nodeIndex(b,i));return u},Md=(e,t,i)=>{let r=0;return pe.each(e.select(t),s=>"all"===s.getAttribute("data-mce-bogus")?void 0:s!==i&&void r++),r},Bp=(e,t)=>{let i=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Re(i)&&"TR"===i.nodeName){const s=i.childNodes;i=s[Math.min(t?r:r-1,s.length-1)],i&&(r=t?0:i.childNodes.length,t?e.setStart(i,r):e.setEnd(i,r))}},Fp=e=>(Bp(e,!0),Bp(e,!1),e),zp=(e,t)=>{if(Re(e)&&(e=pi(e,t),bl(e)))return e;if(Pa(e)){ve(e)&&Lr(e)&&(e=e.parentNode);let i=e.previousSibling;if(bl(i)||(i=e.nextSibling,bl(i)))return i}},Xp=(e,t,i)=>{const r=i.getNode(),s=i.getRng();if("IMG"===r.nodeName||bl(r)){const h=r.nodeName;return{name:h,index:Md(i.dom,h,r)}}const l=zp((h=s).startContainer,h.startOffset)||zp(h.endContainer,h.endOffset);var h;if(l){const h=l.tagName;return{name:h,index:Md(i.dom,h,l)}}return((h,u,p,b)=>{const y=u.dom,C=Dp(y,h,p,b,!0),L=u.isForward(),R=_f(b)?{isFakeCaret:!0}:{};return u.isCollapsed()?{start:C,forward:L,...R}:{start:C,end:Dp(y,h,p,b,!1),forward:L,...R}})(e,i,t,s)},Hp=(e,t,i)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return i?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Yp=(e,t)=>{const i=e.dom;let r=e.getRng();const s=i.uniqueId(),l=e.isCollapsed(),h=e.getNode(),u=h.nodeName,p=e.isForward();if("IMG"===u)return{name:u,index:Md(i,u,h)};const b=Fp(r.cloneRange());if(!l){b.collapse(!1);const C=Hp(i,s+"_end",t);Pd(i,b,C)}r=Fp(r),r.collapse(!0);const y=Hp(i,s+"_start",t);return Pd(i,r,y),e.moveToBookmark({id:s,keep:!0,forward:p}),{id:s,forward:p}},Id=Te(Xp,ct,!0),Wp=e=>{const t=l=>l(e),i=Ae(e),r=()=>s,s={tag:!0,inner:e,fold:(l,h)=>h(e),isValue:Lt,isError:vt,map:l=>da.value(l(e)),mapError:r,bind:t,exists:t,forall:t,getOr:i,or:r,getOrThunk:i,orThunk:r,getOrDie:i,each:l=>{l(e)},toOptional:()=>X.some(e)};return s},Vp=e=>{const t=()=>i,i={tag:!1,inner:e,fold:(s,l)=>s(e),isValue:vt,isError:Lt,map:t,mapError:s=>da.error(s(e)),bind:t,exists:vt,forall:Lt,getOr:ct,or:ct,getOrThunk:Pn,orThunk:Pn,getOrDie:(r=String(e),()=>{throw new Error(r)}),each:Qe,toOptional:X.none};var r;return i},da={value:Wp,error:Vp,fromOption:(e,t)=>e.fold(()=>Vp(t),Wp)},mn=e=>{if(!Et(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],i={};return me(e,(r,s)=>{const l=aa(r);if(1!==l.length)throw new Error("one and only one name per case");const h=l[0],u=r[h];if(void 0!==i[h])throw new Error("duplicate key detected:"+h);if("cata"===h)throw new Error("cannot have a case named cata (sorry)");if(!Et(u))throw new Error("case arguments must be an array");t.push(h),i[h]=(...p)=>{const b=p.length;if(b!==u.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+u.length+" ("+u+"), got "+b);return{fold:(...y)=>{if(y.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+y.length);return y[s].apply(null,p)},match:y=>{const C=aa(y);if(t.length!==C.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+C.join(","));if(!In(t,L=>st(C,L)))throw new Error("Not all branches were specified when using match. Specified: "+C.join(", ")+"\nRequired: "+t.join(", "));return y[h].apply(null,p)},log:y=>{console.log(y,{constructors:t,constructor:h,params:p})}}}}),i};mn([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pk=e=>"inline-command"===e.type||"inline-format"===e.type,mk=e=>"block-command"===e.type||"block-format"===e.type,bk=e=>{const t=r=>da.error({message:r,pattern:e}),i=(r,s,l)=>{if(void 0!==e.format){let h;if(Et(e.format)){if(!In(e.format,Ye))return t(r+" pattern has non-string items in the `format` array");h=e.format}else{if(!Ye(e.format))return t(r+" pattern has non-string `format` parameter");h=[e.format]}return da.value(s(h))}return void 0!==e.cmd?Ye(e.cmd)?da.value(l(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!xt(e))return t("Raw pattern is not an object");if(!Ye(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!Ye(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,s=e.end;return 0===s.length&&(s=r,r=""),i("Inline",l=>({type:"inline-format",start:r,end:s,format:l}),(l,h)=>({type:"inline-command",start:r,end:s,cmd:l,value:h}))}return void 0!==e.replacement?Ye(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):da.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):i("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,s)=>({type:"block-command",start:e.start,cmd:r,value:s}))},jp=e=>Ve(e,mk),Gp=e=>Ve(e,pk),Up=e=>{const t=(i=>{const r=[],s=[];return me(i,l=>{l.fold(h=>{r.push(h)},h=>{s.push(h)})}),{errors:r,values:s}})(tt(e,bk));return me(t.errors,i=>console.error(i.message,i.pattern)),t.values},_d=Je().deviceType,xk=_d.isTouch(),vk=gt.DOM,qp=e=>cn(e,RegExp),Oe=e=>t=>t.options.get(e),Dd=e=>Ye(e)||xt(e),$p=(e,t="")=>i=>{const r=Ye(i);if(r){if(-1!==i.indexOf("=")){const s=(l=>{const h=l.indexOf("=")>0?l.split(/[;,](?![^=;,]*(?:[;,]|$))/):l.split(",");return la(h,(u,p)=>{const b=p.split("="),y=b[0],C=b.length>1?b[1]:y;return u[z(y)]=z(C),u},{})})(i);return{value:pt(s,e.id).getOr(t),valid:r}}return{value:i,valid:r}}return{valid:!1,message:"Must be a string."}},yk=Oe("iframe_attrs"),wk=Oe("doctype"),Zp=Oe("document_base_url"),Ck=Oe("body_id"),kk=Oe("body_class"),Kp=Oe("content_security_policy"),Sk=Oe("br_in_pre"),Sa=Oe("forced_root_block"),Uo=Oe("forced_root_block_attrs"),Ak=Oe("newline_behavior"),Ek=Oe("br_newline_selector"),Nk=Oe("no_newline_selector"),Lk=Oe("keep_styles"),Rk=Oe("end_container_on_empty_block"),Qp=Oe("automatic_uploads"),Jp=Oe("images_reuse_filename"),Tk=Oe("images_replace_blob_uris"),em=Oe("icons"),Pk=Oe("icons_url"),Ok=Oe("images_upload_url"),Mk=Oe("images_upload_base_path"),Ik=Oe("images_upload_credentials"),_k=Oe("images_upload_handler"),Dk=Oe("content_css_cors"),Bd=Oe("referrer_policy"),tm=Oe("language"),Bk=Oe("language_url"),am=Oe("indent_use_margin"),Fk=Oe("indentation"),zk=Oe("content_css"),Xk=Oe("content_style"),nm=Oe("font_css"),Hk=Oe("directionality"),Yk=Oe("inline_boundaries_selector"),im=Oe("object_resizing"),Wk=Oe("resize_img_proportional"),Vk=Oe("placeholder"),rm=Oe("event_root"),jk=Oe("service_message"),Ir=Oe("theme"),Gk=Oe("theme_url"),Fd=Oe("model"),Uk=Oe("model_url"),qo=Oe("inline_boundaries"),qk=Oe("formats"),$k=Oe("preview_styles"),Zk=Oe("format_empty_lines"),Kk=Oe("format_noneditable_selector"),Qk=Oe("custom_ui_selector"),zd=Oe("inline"),Jk=Oe("hidden_input"),eS=Oe("submit_patch"),tS=Oe("add_form_submit_trigger"),aS=Oe("add_unload_trigger"),nS=Oe("custom_undo_redo_levels"),iS=Oe("disable_nodechange"),om=Oe("readonly"),sm=Oe("content_css_cors"),xl=Oe("plugins"),rS=Oe("external_plugins"),oS=Oe("block_unsupported_drop"),sS=Oe("visual"),lS=Oe("visual_table_class"),lm=Oe("visual_anchor_class"),cS=Oe("iframe_aria_text"),dS=Oe("setup"),hS=Oe("init_instance_callback"),uS=Oe("urlconverter_callback"),gS=Oe("auto_focus"),fS=Oe("browser_spellcheck"),pS=Oe("protect"),mS=Oe("paste_block_drop"),vl=Oe("paste_data_images"),bS=Oe("paste_preprocess"),xS=Oe("paste_postprocess"),vS=Oe("paste_webkit_styles"),yS=Oe("paste_remove_styles_if_webkit"),wS=Oe("paste_merge_formats"),CS=Oe("smart_paste"),kS=Oe("paste_as_text"),SS=Oe("paste_tab_spaces"),AS=Oe("allow_html_data_urls"),ES=Oe("text_patterns"),NS=Oe("text_patterns_lookup"),cm=Oe("noneditable_class"),LS=Oe("editable_class"),RS=Oe("noneditable_regexp"),TS=Oe("preserve_cdata"),dm=e=>pe.explode(e.options.get("images_file_types")),PS=Oe("table_tab_navigation"),OS=Re,hm=ve,um=e=>{const t=e.parentNode;t&&t.removeChild(e)},gm=e=>{const t=Hn(e);return{count:e.length-t.length,text:t}},fm=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Qt));)e.deleteData(t,1)},pm=(e,t)=>(Zi(e),t),Zi=e=>{OS(e)&&Pa(e)&&(If(e)?e.removeAttribute("data-mce-caret"):um(e)),hm(e)&&(fm(e),0===e.data.length&&um(e))},IS=bt,_S=pn,DS=tl,mm=(e,t,i)=>{const r=yp(t.getBoundingClientRect(),i);let s,l;if("BODY"===e.tagName){const u=e.ownerDocument.documentElement;s=e.scrollLeft||u.scrollLeft,l=e.scrollTop||u.scrollTop}else{const u=e.getBoundingClientRect();s=e.scrollLeft-u.left,l=e.scrollTop-u.top}r.left+=s,r.right+=s,r.top+=l,r.bottom+=l,r.width=1;let h=t.offsetWidth-t.clientWidth;return h>0&&(i&&(h*=-1),r.left+=h,r.right+=h),r},bm=()=>at.browser.isFirefox(),$o=e=>IS(e)||_S(e),Zo=e=>$o(e)||Xn(e)&&bm(),FS=Ka,Xd=bt,zS=pn,xm=el("display","block table table-cell table-caption list-item"),vm=Pa,ym=Lr,XS=Re,HS=ve,YS=Wa,_r=e=>e>0,Ki=e=>e<0,yl=(e,t)=>{let i;for(;i=e(t);)if(!ym(i))return i;return null},Ko=(e,t,i,r,s)=>{const l=new Dt(e,r),h=Xd(e)||ym(e);let u;if(Ki(t)){if(h&&(u=yl(l.prev.bind(l),!0),i(u)))return u;for(;u=yl(l.prev.bind(l),s);)if(i(u))return u}if(_r(t)){if(h&&(u=yl(l.next.bind(l),!0),i(u)))return u;for(;u=yl(l.next.bind(l),s);)if(i(u))return u}return null},bi=(e,t)=>{for(;e&&e!==t;){if(xm(e))return e;e=e.parentNode}return null},bn=(e,t,i)=>bi(e.container(),i)===bi(t.container(),i),Hd=(e,t)=>{if(!t)return X.none();const i=t.container(),r=t.offset();return XS(i)?X.from(i.childNodes[r+e]):X.none()},wm=(e,t)=>{var i;const r=(null!==(i=t.ownerDocument)&&void 0!==i?i:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},WS=(e,t,i)=>bi(t,e)===bi(i,e),Cm=(e,t,i)=>{const r=e?"previousSibling":"nextSibling";let s=i;for(;s&&s!==t;){let l=s[r];if(l&&vm(l)&&(l=l[r]),Xd(l)||zS(l)){if(WS(t,l,s))return l;break}if(YS(l))break;s=s.parentNode}return null},Qo=Te(wm,!0),Jo=Te(wm,!1),Yd=(e,t,i)=>{let r;const s=Te(Cm,!0,t),l=Te(Cm,!1,t),h=i.startContainer,u=i.startOffset;if(Lr(h)){const p=HS(h)?h.parentNode:h,b=p.getAttribute("data-mce-caret");if("before"===b&&(r=p.nextSibling,Zo(r)))return Qo(r);if("after"===b&&(r=p.previousSibling,Zo(r)))return Jo(r)}if(!i.collapsed)return i;if(ve(h)){if(vm(h)){if(1===e){if(r=l(h),r)return Qo(r);if(r=s(h),r)return Jo(r)}if(-1===e){if(r=s(h),r)return Jo(r);if(r=l(h),r)return Qo(r)}return i}if(rl(h)&&u>=h.data.length-1)return 1===e&&(r=l(h),r)?Qo(r):i;if(il(h)&&u<=1)return-1===e&&(r=s(h),r)?Jo(r):i;if(u===h.data.length)return r=l(h),r?Qo(r):i;if(0===u)return r=s(h),r?Jo(r):i}return i},km=(e,t)=>Hd(e?0:-1,t).filter(Xd),es=(e,t,i)=>{const r=Yd(e,t,i);return-1===e?ce.fromRangeStart(r):ce.fromRangeEnd(r)},wl=e=>X.from(e.getNode()).map(Q),Wd=(e,t)=>{let i=t;for(;i=e(i);)if(i.isVisible())return i;return i},Cl=(e,t)=>{const i=bn(e,t);return!(i||!Tt(e.getNode()))||i};var Ht,e;(e=Ht||(Ht={}))[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards";const VS=bt,xn=ve,Sm=Re,Vd=Tt,Dr=Wa,Am=e=>{return Bf(e)||!!ud(t=e)&&!la(ta(t.getElementsByTagName("*")),(i,r)=>i||Df(r),!1);var t},kl=Ff,Em=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Nm=(e,t)=>{if(_r(e)){if(Dr(t.previousSibling)&&!xn(t.previousSibling))return ce.before(t);if(xn(t))return ce(t,0)}if(Ki(e)){if(Dr(t.nextSibling)&&!xn(t.nextSibling))return ce.after(t);if(xn(t))return ce(t,t.data.length)}return Ki(e)?Vd(t)?ce.before(t):ce.after(t):ce.before(t)},jd=(e,t,i)=>{let r,s,l,h;if(!Sm(i)||!t)return null;if(t.isEqual(ce.after(i))&&i.lastChild){if(h=ce.after(i.lastChild),Ki(e)&&Dr(i.lastChild)&&Sm(i.lastChild))return Vd(i.lastChild)?ce.before(i.lastChild):h}else h=t;const u=h.container();let p=h.offset();if(xn(u)){if(Ki(e)&&p>0)return ce(u,--p);if(_r(e)&&p<u.length)return ce(u,++p);r=u}else{if(Ki(e)&&p>0&&(s=Em(u,p-1),Dr(s)))return!Am(s)&&(l=Ko(s,e,kl,s),l)?xn(l)?ce(l,l.data.length):ce.after(l):xn(s)?ce(s,s.data.length):ce.before(s);if(_r(e)&&p<u.childNodes.length&&(s=Em(u,p),Dr(s)))return Vd(s)?((y,C)=>{const L=C.nextSibling;return L&&Dr(L)?xn(L)?ce(L,0):ce.before(L):jd(Ht.Forwards,ce.after(C),y)})(i,s):!Am(s)&&(l=Ko(s,e,kl,s),l)?xn(l)?ce(l,0):ce.before(l):xn(s)?ce(s,0):ce.after(s);r=s||h.getNode()}if(r&&(_r(e)&&h.isAtEnd()||Ki(e)&&h.isAtStart())&&(r=Ko(r,e,Lt,i,!0),kl(r,i)))return Nm(e,r);s=r&&Ko(r,e,kl,i);const b=na(Ve(((y,C)=>{const L=[];let R=y;for(;R&&R!==C;)L.push(R),R=R.parentNode;return L})(u,i),VS));return!b||s&&b.contains(s)?s?Nm(e,s):null:(h=_r(e)?ce.after(b):ce.before(b),h)},vn=e=>({next:t=>jd(Ht.Forwards,t,e),prev:t=>jd(Ht.Backwards,t,e)}),Lm=e=>ce.isTextPosition(e)?0===e.offset():Wa(e.getNode()),Rm=e=>{if(ce.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Wa(e.getNode(!0))},Tm=(e,t)=>!ce.isTextPosition(e)&&!ce.isTextPosition(t)&&e.getNode()===t.getNode(!0),Oa=(e,t,i)=>{const r=vn(t);return X.from(e?r.next(i):r.prev(i))},Sl=(e,t,i)=>Oa(e,t,i).bind(r=>{return bn(i,r,t)&&(l=i,h=r,e?!Tm(l,h)&&(ce.isTextPosition(u=l)||!Tt(u.getNode()))&&Rm(l)&&Lm(h):!Tm(h,l)&&Lm(l)&&Rm(h))?Oa(e,t,r):X.some(r);var l,h,u}),Pm=(e,t,i,r)=>Sl(e,t,i).bind(s=>r(s)?Pm(e,t,s,r):X.some(s)),Br=(e,t)=>{const i=e?t.firstChild:t.lastChild;return ve(i)?X.some(ce(i,e?0:i.data.length)):i?Wa(i)?X.some(e?ce.before(i):Tt(r=i)?ce.before(r):ce.after(r)):((s,l,h)=>{const u=s?ce.before(h):ce.after(h);return Oa(s,l,u)})(e,t,i):X.none();var r},ba=Te(Oa,!0),Ma=Te(Oa,!1),ha=Te(Br,!0),yn=Te(Br,!1),Gd="_mce_caret",tn=e=>Re(e)&&e.id===Gd,Qi=(e,t)=>{let i=t;for(;i&&i!==e;){if(tn(i))return i;i=i.parentNode}return null},Om=e=>Ze(e,"name"),Mm=e=>pe.isArray(e.start),Al=e=>!(!Om(e)&&Ca(e.forward))||e.forward,Im=(e,t)=>(Re(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),jS=(e,t)=>yn(e).fold(vt,i=>(t.setStart(i.container(),i.offset()),t.setEnd(i.container(),i.offset()),!0)),_m=(e,t,i)=>!(t.hasChildNodes()||!Qi(e,t)||(((r,s)=>{var l;const h=(null!==(l=r.ownerDocument)&&void 0!==l?l:document).createTextNode(Qt);r.appendChild(h),s.setStart(h,0),s.setEnd(h,0)})(t,i),0)),Dm=(e,t,i,r)=>{const s=i[t?"start":"end"],l=e.getRoot();if(s){let h=l,u=s[0];for(let p=s.length-1;h&&p>=1;p--){const b=h.childNodes;if(_m(l,h,r))return!0;if(s[p]>b.length-1)return!!_m(l,h,r)||jS(h,r);h=b[s[p]]}ve(h)&&(u=Math.min(s[0],h.data.length)),Re(h)&&(u=Math.min(s[0],h.childNodes.length)),t?r.setStart(h,u):r.setEnd(h,u)}return!0},Ud=e=>ve(e)&&e.data.length>0,Bm=(e,t,i)=>{const r=e.get(i.id+"_"+t),s=r?.parentNode,l=i.keep;if(r&&s){let h,u;if("start"===t?l?r.hasChildNodes()?(h=r.firstChild,u=1):Ud(r.nextSibling)?(h=r.nextSibling,u=0):Ud(r.previousSibling)?(h=r.previousSibling,u=r.previousSibling.data.length):(h=s,u=e.nodeIndex(r)+1):(h=s,u=e.nodeIndex(r)):l?r.hasChildNodes()?(h=r.firstChild,u=1):Ud(r.previousSibling)?(h=r.previousSibling,u=r.previousSibling.data.length):(h=s,u=e.nodeIndex(r)):(h=s,u=e.nodeIndex(r)),!l){const p=r.previousSibling,b=r.nextSibling;let y;for(pe.each(pe.grep(r.childNodes),C=>{ve(C)&&(C.data=C.data.replace(/\uFEFF/g,""))});y=e.get(i.id+"_"+t);)e.remove(y,!0);if(ve(b)&&ve(p)&&!at.browser.isOpera()){const C=p.data.length;p.appendData(b.data),e.remove(b),h=p,u=C}}return X.some(ce(h,u))}return X.none()},GS=(e,t,i)=>((r,s,l=!1)=>{return 2===s?Xp(Hn,l,r):3===s?(h=>{const u=h.getRng();return{start:Ip(h.dom.getRoot(),ce.fromRangeStart(u)),end:Ip(h.dom.getRoot(),ce.fromRangeEnd(u)),forward:h.isForward()}})(r):s?{rng:(h=r).getRng(),forward:h.isForward()}:Yp(r,!1);var h})(e,t,i),US=(e,t)=>{((i,r)=>{const s=i.dom;if(r){if(Mm(r))return((l,h)=>{const u=l.createRng();return Dm(l,!0,h,u)&&Dm(l,!1,h,u)?X.some({range:u,forward:Al(h)}):X.none()})(s,r);if(Ye(r.start))return((l,h)=>{const u=X.from(_p(l.getRoot(),h.start)),p=X.from(_p(l.getRoot(),h.end));return qt(u,p,(b,y)=>{const C=l.createRng();return C.setStart(b.container(),b.offset()),C.setEnd(y.container(),y.offset()),{range:C,forward:Al(h)}})})(s,r);if(Ze(r,"id"))return((l,h)=>{const u=Bm(l,"start",h),p=Bm(l,"end",h);return qt(u,p.or(u),(b,y)=>{const C=l.createRng();return C.setStart(Im(l,b.container()),b.offset()),C.setEnd(Im(l,y.container()),y.offset()),{range:C,forward:Al(h)}})})(s,r);if(Om(r))return((l,h)=>X.from(l.select(h.name)[h.index]).map(u=>{const p=l.createRng();return p.selectNode(u),{range:p,forward:!0}}))(s,r);if((l=>Ze(l,"rng"))(r))return X.some({range:r.rng,forward:Al(r)})}return X.none()})(e,t).each(({range:i,forward:r})=>{e.setRng(i,r)})},Ia=e=>Re(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),El=e=>"\xa0"===e,Fr=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),qd=e=>!Fr(e)&&!El(e)&&!Tf(e),$d=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},qS=e=>({value:$d(e.red)+$d(e.green)+$d(e.blue)}),$S=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,ZS=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Fm=(e,t,i,r)=>({red:e,green:t,blue:i,alpha:r}),zm=(e,t,i,r)=>{const s=parseInt(e,10),l=parseInt(t,10),h=parseInt(i,10),u=parseFloat(r);return Fm(s,l,h,u)},Nl=e=>(t=>{if("transparent"===t)return X.some(Fm(0,0,0,0));const i=$S.exec(t);if(null!==i)return X.some(zm(i[1],i[2],i[3],"1"));const r=ZS.exec(t);return null!==r?X.some(zm(r[1],r[2],r[3],r[4])):X.none()})(e).map(qS).map(t=>"#"+t.value).getOr(e),Zd=e=>{const t=[];if(e)for(let i=0;i<e.rangeCount;i++)t.push(e.getRangeAt(i));return t},Xm=(e,t)=>{const i=ia(t,"td[data-mce-selected],th[data-mce-selected]");return i.length>0?i:Ve(Ua(e,l=>{const h=fl(l);return h?[Q(h)]:[]}),Mo)},zr=e=>Xm(Zd(e.selection.getSel()),Q(e.getBody())),ts=(e,t)=>Lo(e,"table",t),Hm=e=>of(e).fold(Ae([e]),t=>[e].concat(Hm(t))),Kd=e=>Kc(e).fold(Ae([e]),t=>"br"===yt(t)?_i(t).map(i=>[e].concat(Kd(i))).getOr([]):[e].concat(Kd(t))),Qd=(e,t)=>qt((i=>{const r=i.startContainer,s=i.startOffset;return ve(r)?0===s?X.some(Q(r)):X.none():X.from(r.childNodes[s]).map(Q)})(t),(i=>{const r=i.endContainer,s=i.endOffset;return ve(r)?s===r.data.length?X.some(Q(r)):X.none():X.from(r.childNodes[s-1]).map(Q)})(t),(i,r)=>{const s=Mt(Hm(e),Te(it,i)),l=Mt(Kd(e),Te(it,r));return s.isSome()&&l.isSome()}).getOr(!1),Jd=(e,t,i,r)=>{const s=i,l=new Dt(i,s),h=Pi(e.schema.getMoveCaretBeforeOnEnterElements(),(p,b)=>!st(["td","th","table"],b.toLowerCase()));let u=i;do{if(ve(u)&&0!==pe.trim(u.data).length)return void(r?t.setStart(u,0):t.setEnd(u,u.data.length));if(h[u.nodeName])return void(r?t.setStartBefore(u):"BR"===u.nodeName?t.setEndBefore(u):t.setEndAfter(u))}while(u=r?l.next():l.prev());"BODY"===s.nodeName&&(r?t.setStart(s,0):t.setEnd(s,s.childNodes.length))},Ll=e=>{const t=e.selection.getSel();return Ce(t)&&t.rangeCount>0},eh=(e,t)=>{const i=zr(e);i.length>0?me(i,r=>{const s=r.dom,l=e.dom.createRng();l.setStartBefore(s),l.setEndAfter(s),t(l,!0)}):t(e.selection.getRng(),!1)},Ym=(e,t,i)=>{const r=Yp(e,t);i(r),e.moveToBookmark(r)},Rl=e=>Na(e?.nodeType),th=e=>Re(e)&&!Ia(e)&&!tn(e)&&!Xi(e),Ji=e=>!0===e.isContentEditable,Wm=(e,t,i)=>{const{selection:r,dom:s}=e,l=r.getNode(),h=bt(l);Ym(r,!0,()=>{t()}),h&&bt(l)&&s.isChildOf(l,e.getBody())?e.selection.select(l):i(r.getStart())&&KS(s,r)},KS=(e,t)=>{var i,r;const s=t.getRng(),{startContainer:l,startOffset:h}=s;if(!((u,p)=>{if(th(p)&&!/^(TD|TH)$/.test(p.nodeName)){const b=u.getAttrib(p,"data-mce-selected"),y=parseInt(b,10);return!isNaN(y)&&y>0}return!1})(e,t.getNode())&&Re(l)){const u=l.childNodes,p=e.getRoot();let b;if(h<u.length){const y=u[h];b=new Dt(y,null!==(i=e.getParent(y,e.isBlock))&&void 0!==i?i:p)}else{const y=u[u.length-1];b=new Dt(y,null!==(r=e.getParent(y,e.isBlock))&&void 0!==r?r:p),b.next(!0)}for(let y=b.current();y;y=b.next()){if("false"===e.getContentEditable(y))return;if(ve(y)&&!nh(y))return s.setStart(y,0),void t.setRng(s)}}},Vm=(e,t,i)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=i?e:e[r];e;e=e[r])if(Re(e)||!nh(e))return e}},ah=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||_o(e,t),Xr=(e,t,i)=>e.schema.isValidChild(t,i),nh=(e,t=!1)=>{if(Ce(e)&&ve(e)){const i=t?e.data.replace(/ /g,"\xa0"):e.data;return Wi(i)}return!1},jm=(e,t)=>{const i=e.dom;return th(t)&&"false"===i.getContentEditable(t)&&((r,s)=>{const l="[data-mce-cef-wrappable]",h=Kk(r),u=c(h)?l:`${l},${h}`;return qa(Q(s),u)})(e,t)&&0===i.select('[contenteditable="true"]',t).length},xi=(e,t)=>nt(e)?e(t):(Ce(t)&&(e=e.replace(/%(\w+)/g,(i,r)=>t[r]||i)),e),ih=(e,t)=>(e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()),rh=(e,t)=>{if(be(e))return null;{let i=String(e);return"color"!==t&&"backgroundColor"!==t||(i=Nl(i)),"fontWeight"===t&&700===e&&(i="bold"),"fontFamily"===t&&(i=i.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),i}},Tl=(e,t,i)=>{const r=e.getStyle(t,i);return rh(r,i)},Gm=(e,t)=>{let i;return e.getParent(t,r=>!!Re(r)&&(i=e.getStyle(r,"text-decoration"),!!i&&"none"!==i)),i},Pl=(e,t,i)=>e.getParents(t,i,e.getRoot()),oh=(e,t,i)=>{const r=e.formatter.get(t);return Ce(r)&&mt(r,i)},wn=e=>Dn(e,"block"),_a=e=>Dn(e,"selector"),Bt=e=>Dn(e,"inline"),sh=e=>_a(e)&&!1!==e.expand&&!Bt(e),Hr=Ia,Um=Pl,qm=nh,QS=ah,$m=(e,t)=>{let i=t;for(;i;){if(Re(i)&&e.getContentEditable(i))return"false"===e.getContentEditable(i)?i:t;i=i.parentNode}return t},Zm=(e,t,i,r)=>{const s=t.data;if(e){for(let l=i;l>0;l--)if(r(s.charAt(l-1)))return l}else for(let l=i;l<s.length;l++)if(r(s.charAt(l)))return l;return-1},JS=(e,t,i)=>Zm(e,t,i,r=>El(r)||Fr(r)),eA=(e,t,i)=>Zm(e,t,i,qd),Km=(e,t,i,r,s,l)=>{let h;const u=e.getParent(i,e.isBlock)||t,p=(b,y,C)=>{const L=Ui(e);return X.from((s?L.backwards:L.forwards)(b,y,(A,P)=>Hr(A.parentNode)?-1:(h=A,C(s,A,P)),u))};return p(i,r,JS).bind(b=>l?p(b.container,b.offset+(s?-1:0),eA):X.some(b)).orThunk(()=>h?X.some({container:h,offset:s?0:h.length}):X.none())},Qm=(e,t,i,r,s)=>{const l=r[s];ve(r)&&c(r.data)&&l&&(r=l);const h=Um(e,r);for(let u=0;u<h.length;u++)for(let p=0;p<t.length;p++){const b=t[p];if((!Ce(b.collapsed)||b.collapsed===i.collapsed)&&_a(b)&&e.is(h[u],b.selector))return h[u]}return r},Jm=(e,t,i,r)=>{var s;let l=i;const h=e.getRoot(),u=t[0];if(wn(u)&&(l=u.wrapper?null:e.getParent(i,u.block,h)),!l){const p=null!==(s=e.getParent(i,"LI,TD,TH"))&&void 0!==s?s:h;l=e.getParent(ve(i)?i.parentNode:i,b=>b!==h&&QS(e.schema,b),p)}if(l&&wn(u)&&u.wrapper&&(l=Um(e,l,"ul,ol").reverse()[0]||l),!l)for(l=i;l&&l[r]&&!e.isBlock(l[r])&&(l=l[r],!ih(l,"br")););return l||i},eb=(e,t,i,r)=>{const s=i.parentNode;return!Ce(i[r])&&(!(s!==t&&!be(s)&&!e.isBlock(s))||eb(e,t,s,r))},Ol=(e,t,i,r,s)=>{let l=i;const h=s?"previousSibling":"nextSibling",u=e.getRoot();if(ve(i)&&!qm(i)&&(s?r>0:r<i.data.length))return i;for(;l;){if(!t[0].block_expand&&e.isBlock(l))return l;for(let b=l[h];b;b=b[h]){const y=ve(b)&&!eb(e,u,b,h);if(!Hr(b)&&(!Tt(p=b)||!p.getAttribute("data-mce-bogus")||p.nextSibling)&&!qm(b,y))return l}if(l===u||l.parentNode===u){i=l;break}l=l.parentNode}var p;return i},tb=e=>Hr(e.parentNode)||Hr(e),er=(e,t,i,r=!1)=>{let{startContainer:s,startOffset:l,endContainer:h,endOffset:u}=t;const p=i[0];return Re(s)&&s.hasChildNodes()&&(s=pi(s,l),ve(s)&&(l=0)),Re(h)&&h.hasChildNodes()&&(h=pi(h,t.collapsed?u:u-1),ve(h)&&(u=h.data.length)),s=$m(e,s),h=$m(e,h),tb(s)&&(s=Hr(s)?s:s.parentNode,s=t.collapsed?s.previousSibling||s:s.nextSibling||s,ve(s)&&(l=t.collapsed?s.length:0)),tb(h)&&(h=Hr(h)?h:h.parentNode,h=t.collapsed?h.nextSibling||h:h.previousSibling||h,ve(h)&&(u=t.collapsed?0:h.length)),t.collapsed&&(Km(e,e.getRoot(),s,l,!0,r).each(({container:b,offset:y})=>{s=b,l=y}),Km(e,e.getRoot(),h,u,!1,r).each(({container:b,offset:y})=>{h=b,u=y})),(Bt(p)||p.block_expand)&&(Bt(p)&&ve(s)&&0!==l||(s=Ol(e,i,s,l,!0)),Bt(p)&&ve(h)&&u!==h.data.length||(h=Ol(e,i,h,u,!1))),sh(p)&&(s=Qm(e,i,t,s,"previousSibling"),h=Qm(e,i,t,h,"nextSibling")),(wn(p)||_a(p))&&(s=Jm(e,i,s,"previousSibling"),h=Jm(e,i,h,"nextSibling"),wn(p)&&(e.isBlock(s)||(s=Ol(e,i,s,l,!0)),e.isBlock(h)||(h=Ol(e,i,h,u,!1)))),Re(s)&&s.parentNode&&(l=e.nodeIndex(s),s=s.parentNode),Re(h)&&h.parentNode&&(u=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:s,startOffset:l,endContainer:h,endOffset:u}},as=(e,t,i)=>{var r;const s=t.startOffset,l=pi(t.startContainer,s),h=t.endOffset,u=pi(t.endContainer,h-1),p=N=>{const O=N[0];ve(O)&&O===l&&s>=O.data.length&&N.splice(0,1);const M=N[N.length-1];return 0===h&&N.length>0&&M===u&&ve(M)&&N.splice(N.length-1,1),N},b=(N,O,M)=>{const B=[];for(;N&&N!==M;N=N[O])B.push(N);return B},y=(N,O)=>e.getParent(N,M=>M.parentNode===O,O),C=(N,O,M)=>{const B=M?"nextSibling":"previousSibling";for(let Y=N,U=Y.parentNode;Y&&Y!==O;Y=U){U=Y.parentNode;const G=b(Y===N?Y:Y[B],B);G.length&&(M||G.reverse(),i(p(G)))}};if(l===u)return i(p([l]));const L=null!==(r=e.findCommonAncestor(l,u))&&void 0!==r?r:e.getRoot();if(e.isChildOf(l,u))return C(l,L,!0);if(e.isChildOf(u,l))return C(u,L);const R=y(l,L)||l,A=y(u,L)||u;C(l,R,!0);const P=b(R===l?R:R.nextSibling,"nextSibling",A===u?A.nextSibling:A);P.length&&i(p(P)),C(u,A)},tA=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],ab=(e,t,i,r,s,l)=>{const{uid:h=t,...u}=i;Co(e,zo()),Vt(e,`${Pr()}`,h),Vt(e,`${Gi()}`,r);const{attributes:p={},classes:b=[]}=s(h,u);if(ii(e,p),y=e,me(b,L=>{Co(y,L)}),l){b.length>0&&Vt(e,`${Ho()}`,b.join(","));const y=aa(p);y.length>0&&Vt(e,`${Yo()}`,y.join(","))}var y},nb=(e,t,i,r,s)=>{const l=jt("span",e);return ab(l,t,i,r,s,!1),l},ib=e=>{const t=(()=>{const l={};return{register:(h,u)=>{l[h]={name:h,settings:u}},lookup:h=>pt(l,h).map(u=>u.settings),getNames:()=>aa(l)}})();((l,h)=>{const u=Gi(),p=y=>X.from(y.attr(u)).bind(h.lookup),b=y=>{var C,L;y.attr(Pr(),null),y.attr(Gi(),null),y.attr(Xo(),null);const R=X.from(y.attr(Yo())).map(O=>O.split(",")).getOr([]),A=X.from(y.attr(Ho())).map(O=>O.split(",")).getOr([]);me(R,O=>y.attr(O,null));const P=null!==(L=null===(C=y.attr("class"))||void 0===C?void 0:C.split(" "))&&void 0!==L?L:[],N=ho(P,[zo()].concat(A));y.attr("class",N.length>0?N.join(" "):null),y.attr(Ho(),null),y.attr(Yo(),null)};l.serializer.addTempAttr(Xo()),l.serializer.addAttributeFilter(u,y=>{for(const C of y)p(C).each(L=>{!1===L.persistent&&("span"===C.name?C.unwrap():b(C))})})})(e,t);const i=((l,h)=>{const u=Xt({}),p=()=>({listeners:[],previous:fi()}),b=(R,A)=>{y(R,P=>(A(P),P))},y=(R,A)=>{const P=u.get(),N=A(pt(P,R).getOrThunk(p));P[R]=N,u.set(P)},C=(R,A)=>{me(gp(l,R),P=>{A?Vt(P,Xo(),"true"):$t(P,Xo())})},L=Ed(()=>{const R=ai(h.getNames());me(R,A=>{y(A,P=>{const N=P.previous.get();return hp(l,X.some(A)).fold(()=>{N.each(O=>{var M;b(M=A,B=>{me(B.listeners,Y=>Y(!1,M))}),P.previous.clear(),C(O,!1)})},({uid:O,name:M,elements:B})=>{var Y,U,G;It(N,O)||(N.each(Y=>C(Y,!1)),U=O,G=B,b(Y=M,Z=>{me(Z.listeners,$=>$(!0,Y,{uid:U,nodes:tt(G,K=>K.dom)}))}),P.previous.set(O),C(O,!0))}),{previous:P.previous,listeners:P.listeners}})})},30);return l.on("remove",()=>{L.cancel()}),l.on("NodeChange",()=>{L.throttle()}),{addListener:(R,A)=>{y(R,P=>({previous:P.previous,listeners:P.listeners.concat([A])}))}}})(e,t),r=qc("span"),s=l=>{me(l,h=>{r(h)?si(h):(u=>{Gs(u,zo()),$t(u,`${Pr()}`),$t(u,`${Gi()}`),$t(u,`${Xo()}`);const p=Bn(u,`${Yo()}`).map(C=>C.split(",")).getOr([]),b=Bn(u,`${Ho()}`).map(C=>C.split(",")).getOr([]);var y;me(p,C=>$t(u,C)),y=u,me(b,C=>{Gs(y,C)}),$t(u,`${Ho()}`),$t(u,`${Yo()}`)})(h)})};return{register:(l,h)=>{t.register(l,h)},annotate:(l,h)=>{t.lookup(l).each(u=>{var p,b,y,C;b=l,y=u,C=h,(p=e).undoManager.transact(()=>{const L=p.selection,R=L.getRng(),A=zr(p).length>0,P=mp("mce-annotation");if(R.collapsed&&!A&&((N,O)=>{const M=er(N.dom,O,[{inline:"span"}]);O.setStart(M.startContainer,M.startOffset),O.setEnd(M.endContainer,M.endOffset),N.selection.setRng(O)})(p,R),L.getRng().collapsed&&!A){const N=nb(p.getDoc(),P,C,b,y.decorate);Ks(N,Gt),L.getRng().insertNode(N.dom),L.select(N.dom)}else Ym(L,!1,()=>{eh(p,N=>{((e,t,i,r,s,l)=>{const h=[],u=nb(e.getDoc(),i,l,r,s),p=fi(),b=()=>{p.clear()},y=L=>{me(L,C)},C=L=>{switch(R=e,A=L,P="span",N=yt(L),$a(A).fold(()=>"skipping",O=>{return"br"===N||Ra(M=A)&&rd(M)===Qt?"valid":(M=>ka(M)&&Zc(M,zo()))(A)?"existing":tn(A.dom)?"caret":mt(tA,M=>qa(A,M))?"valid-block":Xr(R,P,N)&&Xr(R,yt(O),P)?"valid":"invalid-child";var M})){case"invalid-child":{b();const R=Zt(L);y(R),b();break}case"valid-block":b(),ab(L,i,l,r,s,!0);break;case"valid":{const R=p.get().getOrThunk(()=>{const A=Or(u);return h.push(A),p.set(A),A});((A,P)=>{Ta(A,P),zt(P,A)})(L,R);break}}var R,A,P,N};as(e.dom,t,L=>{b(),(R=>{const A=tt(R,Q);y(A)})(L)})})(p,N,P,b,y.decorate,C)})})})})},annotationChanged:(l,h)=>{i.addListener(l,h)},remove:l=>{const h=e.selection.getBookmark();hp(e,X.some(l)).each(({elements:u})=>{s(u)}),e.selection.moveToBookmark(h)},removeAll:l=>{const h=e.selection.getBookmark();dt(fp(e,l),(u,p)=>{s(u)}),e.selection.moveToBookmark(h)},getAll:l=>{const h=fp(e,l);return mr(h,u=>tt(u,p=>p.dom))}}},ns=e=>({getBookmark:Te(GS,e),moveToBookmark:Te(US,e)});ns.isBookmarkNode=Ia;const rb=(e,t,i)=>!i.collapsed&&mt(i.getClientRects(),r=>{return h=t,(l=e)>=(s=r).left&&l<=s.right&&h>=s.top&&h<=s.bottom;var s,l,h}),ob=(e,t,i)=>{e.dispatch(t,i)},sb=(e,t,i,r)=>{e.dispatch("FormatApply",{format:t,node:i,vars:r})},lb=(e,t,i,r)=>{e.dispatch("FormatRemove",{format:t,node:i,vars:r})},cb=(e,t)=>e.dispatch("SetContent",t),db=(e,t)=>e.dispatch("GetContent",t),hb=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),_e={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||_e.metaKeyPressed(e),metaKeyPressed:e=>at.os.isMacOS()||at.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},is="data-mce-selected",ub=Math.abs,Ml=Math.round,lh={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},gb=(e,t)=>{const i=t.dom,r=t.getDoc(),s=document,l=t.getBody();let h,u,p,b,y,C,L,R,A,P,N,O,M,B,Y;const U=Me=>Ce(Me)&&(Lf(Me)||i.is(Me,"figure.image")),G=Me=>pn(Me)||i.hasClass(Me,"mce-preview-object"),Z=Me=>{const qe=Me.target;((Ge,J)=>{if("longpress"===(ee=Ge).type||0===ee.type.indexOf("touch")){const ee=Ge.touches[0];return U(Ge.target)&&!rb(ee.clientX,ee.clientY,J)}var ee;return U(Ge.target)&&!rb(Ge.clientX,Ge.clientY,J)})(Me,t.selection.getRng())&&!Me.isDefaultPrevented()&&t.selection.select(qe)},$=Me=>i.hasClass(Me,"mce-preview-object")&&Ce(Me.firstElementChild)?[Me,Me.firstElementChild]:i.is(Me,"figure.image")?[Me.querySelector("img")]:[Me],K=Me=>{const qe=im(t);return!!qe&&"false"!==Me.getAttribute("data-mce-resize")&&Me!==t.getBody()&&(i.hasClass(Me,"mce-preview-object")&&Ce(Me.firstElementChild)?qa(Q(Me.firstElementChild),qe):qa(Q(Me),qe))},te=(Me,qe,Ge)=>{if(Ce(Ge)){const J=$(Me);me(J,ee=>{ee.style[qe]||!t.schema.isValid(ee.nodeName.toLowerCase(),qe)?i.setStyle(ee,qe,Ge):i.setAttrib(ee,qe,""+Ge)})}},ne=(Me,qe,Ge)=>{te(Me,"width",qe),te(Me,"height",Ge)},se=Me=>{let qe,Ge,J,ee,de;qe=Me.screenX-C,Ge=Me.screenY-L,O=qe*b[2]+R,M=Ge*b[3]+A,O=O<5?5:O,M=M<5?5:M,J=(U(h)||G(h))&&!1!==Wk(t)?!_e.modifierPressed(Me):_e.modifierPressed(Me),J&&(ub(qe)>ub(Ge)?(M=Ml(O*P),O=Ml(M/P)):(O=Ml(M/P),M=Ml(O*P))),ne(u,O,M),ee=b.startPos.x+qe,de=b.startPos.y+Ge,ee=ee>0?ee:0,de=de>0?de:0,i.setStyles(p,{left:ee,top:de,display:"block"}),p.innerHTML=O+" &times; "+M,b[2]<0&&u.clientWidth<=O&&i.setStyle(u,"left",void 0+(R-O)),b[3]<0&&u.clientHeight<=M&&i.setStyle(u,"top",void 0+(A-M)),qe=l.scrollWidth-B,Ge=l.scrollHeight-Y,qe+Ge!==0&&i.setStyles(p,{left:ee-qe,top:de-Ge}),N||(t.dispatch("ObjectResizeStart",{target:h,width:R,height:A,origin:"corner-"+b.name}),N=!0)},re=()=>{const Me=N;N=!1,Me&&(te(h,"width",O),te(h,"height",M)),i.unbind(r,"mousemove",se),i.unbind(r,"mouseup",re),s!==r&&(i.unbind(s,"mousemove",se),i.unbind(s,"mouseup",re)),i.remove(u),i.remove(p),i.remove(y),he(h),Me&&(t.dispatch("ObjectResized",{target:h,width:O,height:M,origin:"corner-"+b.name}),i.setAttrib(h,"style",i.getAttrib(h,"style"))),t.nodeChanged()},he=Me=>{et();const qe=i.getPos(Me,l),Ge=qe.x,J=qe.y,ee=Me.getBoundingClientRect(),de=ee.width||ee.right-ee.left,ge=ee.height||ee.bottom-ee.top;h!==Me&&(Se(),h=Me,O=M=0);const ue=t.dispatch("ObjectSelected",{target:Me});K(Me)&&!ue.isDefaultPrevented()?dt(lh,(fe,we)=>{let Ne=i.get("mceResizeHandle"+we);Ne&&i.remove(Ne),Ne=i.add(l,"div",{id:"mceResizeHandle"+we,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+we+"-resize; margin:0; padding:0"}),i.bind(Ne,"mousedown",Ie=>{Ie.stopImmediatePropagation(),Ie.preventDefault(),(je=>{const Ue=$(h)[0];var Ee;C=je.screenX,L=je.screenY,R=Ue.clientWidth,A=Ue.clientHeight,P=A/R,b=fe,b.name=we,b.startPos={x:de*fe[0]+Ge,y:ge*fe[1]+J},B=l.scrollWidth,Y=l.scrollHeight,y=i.add(l,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(y,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),u=G(Ee=h)?i.create("img",{src:at.transparentSrc}):Ee.cloneNode(!0),i.addClass(u,"mce-clonedresizable"),i.setAttrib(u,"data-mce-bogus","all"),u.contentEditable="false",i.setStyles(u,{left:Ge,top:J,margin:0}),ne(u,de,ge),u.removeAttribute(is),l.appendChild(u),i.bind(r,"mousemove",se),i.bind(r,"mouseup",re),s!==r&&(i.bind(s,"mousemove",se),i.bind(s,"mouseup",re)),p=i.add(l,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},R+" &times; "+A)})(Ie)}),fe.elm=Ne,i.setStyles(Ne,{left:de*fe[0]+Ge-Ne.offsetWidth/2,top:ge*fe[1]+J-Ne.offsetHeight/2})}):Se(!1)},ke=gl(he,0),Se=(Me=!0)=>{ke.cancel(),et(),h&&Me&&h.removeAttribute(is),dt(lh,(qe,Ge)=>{const J=i.get("mceResizeHandle"+Ge);J&&(i.unbind(J),i.remove(J))})},De=(Me,qe)=>i.isChildOf(Me,qe),Fe=Me=>{if(N||t.removed||t.composing)return;const qe="mousedown"===Me.type?Me.target:e.getNode(),Ge=Fi(Q(qe),"table,img,figure.image,hr,video,span.mce-preview-object").map(ee=>ee.dom).getOrUndefined(),J=Ce(Ge)?i.getAttrib(Ge,is,"1"):"1";if(me(i.select("img[data-mce-selected],hr[data-mce-selected]"),ee=>{ee.removeAttribute(is)}),Ce(Ge)&&De(Ge,l)){lt();const ee=e.getStart(!0);if(De(ee,Ge)&&De(e.getEnd(!0),Ge))return i.setAttrib(Ge,is,J),void ke.throttle(Ge)}Se()},et=()=>{dt(lh,Me=>{Me.elm&&(i.unbind(Me.elm),delete Me.elm)})},lt=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{lt(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Fe),t.on("keyup compositionend",Me=>{h&&"TABLE"===h.nodeName&&Fe(Me)}),t.on("hide blur",Se),t.on("contextmenu longpress",Z,!0)}),t.on("remove",et),{isResizable:K,showResizeRect:he,hideResizeRect:Se,updateResizeRect:Fe,destroy:()=>{ke.cancel(),h=u=y=null}}},fb=(e,t,i)=>{const r=e.document.createRange();var s,l;return s=r,t.fold(l=>{s.setStartBefore(l.dom)},(l,h)=>{s.setStart(l.dom,h)},l=>{s.setStartAfter(l.dom)}),l=r,i.fold(u=>{l.setEndBefore(u.dom)},(u,p)=>{l.setEnd(u.dom,p)},u=>{l.setEndAfter(u.dom)}),r},ch=(e,t,i,r,s)=>{const l=e.document.createRange();return l.setStart(t.dom,i),l.setEnd(r.dom,s),l},rs=mn([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pb=(e,t,i)=>t(Q(i.startContainer),i.startOffset,Q(i.endContainer),i.endOffset),mb=(e,t,i,r)=>({start:e,soffset:t,finish:i,foffset:r}),nA=document.caretPositionFromPoint?(e,t,i)=>{var r,s;return X.from(null===(s=(r=e.dom).caretPositionFromPoint)||void 0===s?void 0:s.call(r,t,i)).bind(l=>{if(null===l.offsetNode)return X.none();const h=e.dom.createRange();return h.setStart(l.offsetNode,l.offset),h.collapse(),X.some(h)})}:document.caretRangeFromPoint?(e,t,i)=>{var r,s;return X.from(null===(s=(r=e.dom).caretRangeFromPoint)||void 0===s?void 0:s.call(r,t,i))}:X.none,dh=mn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Wn={before:dh.before,on:dh.on,after:dh.after,cata:(e,t,i,r)=>e.fold(t,i,r),getStart:e=>e.fold(ct,ct,ct)},Il=mn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Yr={domRange:Il.domRange,relative:Il.relative,exact:Il.exact,exactFromRange:e=>Il.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=e.match({domRange:r=>Q(r.startContainer),relative:(r,s)=>Wn.getStart(r),exact:(r,s,l,h)=>r});return Ao(t)},range:mb},_l=(e,t)=>{const i=yt(e);return"input"===i?Wn.after(e):st(["br","img"],i)?0===t?Wn.before(e):Wn.after(e):Wn.on(e,t)},iA=(e,t)=>{const i=e.fold(Wn.before,_l,Wn.after),r=t.fold(Wn.before,_l,Wn.after);return Yr.relative(i,r)},bb=(e,t,i,r)=>{const s=_l(e,t),l=_l(i,r);return Yr.relative(s,l)},hh=(e,t)=>{const i=(t||document).createDocumentFragment();return me(e,r=>{i.appendChild(r.dom)}),Q(i)},xb=(e,t,i)=>{return(r=Ao(Q(i)).dom,s=e,l=t,((h,u,p)=>{const b=Q(h.document);return nA(b,u,p).map(y=>mb(Q(y.startContainer),y.startOffset,Q(y.endContainer),y.endOffset))})(r,s,l)).map(r=>{const s=i.createRange();return s.setStart(r.start.dom,r.soffset),s.setEnd(r.finish.dom,r.foffset),s}).getOrUndefined();var r,s,l},uh=(e,t)=>Ce(e)&&Ce(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,vb=(e,t,i)=>null!==((r,s,l)=>{let h=r;for(;h&&h!==s;){if(l(h))return h;h=h.parentNode}return null})(e,t,i),oA=(e,t,i)=>vb(e,t,r=>r.nodeName===i),sA=(e,t)=>Pa(e)&&!vb(e,t,tn),yb=(e,t,i)=>{const r=t.parentNode;if(r){const s=new Dt(t,e.getParent(r,e.isBlock)||e.getRoot());let l;for(;l=s[i?"prev":"next"]();)if(Tt(l))return!0}return!1},gh=(e,t,i,r,s)=>{const l=e.getRoot(),h=e.schema.getNonEmptyElements(),u=s.parentNode;let p,b;if(!u)return X.none();const y=e.getParent(u,e.isBlock)||l;if(r&&Tt(s)&&t&&e.isEmpty(y))return X.some(ce(u,e.nodeIndex(s)));const C=new Dt(s,y);for(;b=C[r?"prev":"next"]();){if("false"===e.getContentEditableParent(b)||sA(b,l))return X.none();if(ve(b)&&b.data.length>0)return oA(b,l,"A")?X.none():X.some(ce(b,r?b.data.length:0));if(e.isBlock(b)||h[b.nodeName.toLowerCase()])return X.none();p=b}return ci(p)?X.none():i&&p?X.some(ce(p,0)):X.none()},wb=(e,t,i,r)=>{const s=e.getRoot();let l,h=!1,u=i?r.startContainer:r.endContainer,p=i?r.startOffset:r.endOffset;const b=Re(u)&&p===u.childNodes.length,y=e.schema.getNonEmptyElements();let C=i;if(Pa(u))return X.none();if(Re(u)&&p>u.childNodes.length-1&&(C=!1),To(u)&&(u=s,p=0),u===s){if(C&&(l=u.childNodes[p>0?p-1:0],l)&&(Pa(l)||y[l.nodeName]||Xn(l)))return X.none();if(u.hasChildNodes()){if(p=Math.min(!C&&p>0?p-1:p,u.childNodes.length-1),u=u.childNodes[p],p=ve(u)&&b?u.data.length:0,!t&&u===s.lastChild&&Xn(u)||((L,R)=>{let A=R;for(;A&&A!==L;){if(bt(A))return!0;A=A.parentNode}return!1})(s,u)||Pa(u))return X.none();if(u.hasChildNodes()&&!Xn(u)){l=u;const L=new Dt(u,s);do{if(bt(l)||Pa(l)){h=!1;break}if(ve(l)&&l.data.length>0){p=C?0:l.data.length,u=l,h=!0;break}if(y[l.nodeName.toLowerCase()]&&!Rf(l)){p=e.nodeIndex(l),u=l.parentNode,C||p++,h=!0;break}}while(l=C?L.next():L.prev())}}}return t&&(ve(u)&&0===p&&gh(e,b,t,!0,u).each(L=>{u=L.container(),p=L.offset(),h=!0}),Re(u)&&(l=u.childNodes[p],l||(l=u.childNodes[p-1]),!l||!Tt(l)||"A"===(null===(A=l.previousSibling)||void 0===A?void 0:A.nodeName)||yb(e,l,!1)||yb(e,l,!0)||gh(e,b,t,!0,l).each(L=>{u=L.container(),p=L.offset(),h=!0}))),C&&!t&&ve(u)&&p===u.data.length&&gh(e,b,t,!1,u).each(L=>{u=L.container(),p=L.offset(),h=!0}),h&&u?X.some(ce(u,p)):X.none();var A},Dl=(e,t)=>{const i=t.collapsed,r=t.cloneRange(),s=ce.fromRangeStart(t);return wb(e,i,!0,r).each(l=>{i&&ce.isAbove(s,l)||r.setStart(l.container(),l.offset())}),i||wb(e,i,!1,r).each(l=>{r.setEnd(l.container(),l.offset())}),i&&r.collapse(!0),uh(t,r)?X.none():X.some(r)},Bl=(e,t)=>e.splitText(t),Fl=e=>{let t=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset;if(t===r&&ve(t)){if(i>0&&i<t.data.length)if(r=Bl(t,i),t=r.previousSibling,s>i){s-=i;const l=Bl(r,s).previousSibling;t=r=l,s=l.data.length,i=0}else s=0}else if(ve(t)&&i>0&&i<t.data.length&&(t=Bl(t,i),i=0),ve(r)&&s>0&&s<r.data.length){const l=Bl(r,s).previousSibling;r=l,s=l.data.length}return{startContainer:t,startOffset:i,endContainer:r,endOffset:s}},tr=e=>({walk:(t,i)=>as(e,t,i),split:Fl,expand:(t,i={type:"word"})=>{if("word"===i.type){const r=er(e,t,[{inline:"span"}]),s=e.createRng();return s.setStart(r.startContainer,r.startOffset),s.setEnd(r.endContainer,r.endOffset),s}return t},normalize:t=>Dl(e,t).fold(vt,i=>(t.setStart(i.startContainer,i.startOffset),t.setEnd(i.endContainer,i.endOffset),!0))});tr.compareRanges=uh,tr.getCaretRangeFromPoint=xb,tr.getSelectedNode=fl,tr.getNode=pi;const lA=((e,t)=>{const i=s=>{const l=(h=>{const u=h.dom;return Ar(h)?u.getBoundingClientRect().height:u.offsetHeight})(s);if(l<=0||null===l){const h=fn(s,e);return parseFloat(h)||0}return l},r=(s,l)=>la(l,(h,u)=>{const p=fn(s,u),b=void 0===p?0:parseInt(p,10);return isNaN(b)?h:h+b},0);return{set:(s,l)=>{if(!Na(l)&&!l.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+l);const h=s.dom;ko(h)&&(h.style[e]=l+"px")},get:i,getOuter:i,aggregate:r,max:(s,l,h)=>{const u=r(s,h);return l>u?l-u:0}}})("height"),Cb=()=>Q(document),kb=(e,t)=>e.view(t).fold(Ae([]),i=>{const r=e.owner(i),s=kb(e,r);return[i].concat(s)});var cA=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?X.none():X.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Q)},owner:e=>zn(e)});const fh=e=>"textarea"===yt(e),Sb=(e,t)=>{const i=(s=>{const l=s.dom.ownerDocument,h=l.body,u=l.defaultView,p=l.documentElement;if(h===s.dom)return Er(h.offsetLeft,h.offsetTop);const b=Qs(u?.pageYOffset,p.scrollTop),y=Qs(u?.pageXOffset,p.scrollLeft),C=Qs(p.clientTop,h.clientTop),L=Qs(p.clientLeft,h.clientLeft);return ed(s).translate(y-L,b-C)})(e),r=lA.get(e);return{element:e,bottom:i.top+r,height:r,pos:i,cleanup:t}},Ab=(e,t,i,r)=>{hA(e,(s,l)=>dA(e,t,i,r),i)},Eb=(e,t,i,r,s)=>{const l={elm:r.element.dom,alignToTop:s};e.dispatch("ScrollIntoView",l).isDefaultPrevented()||(i(t,td(t).top,r,s),e.dispatch("AfterScrollIntoView",l))},dA=(e,t,i,r)=>{Q(e.getBody());const l=Q(e.getDoc()),h=((u,p)=>{const b=((C,L)=>{const R=Zt(C);if(0===R.length||fh(C))return{element:C,offset:L};if(L<R.length&&!fh(R[L]))return{element:R[L],offset:0};{const A=R[R.length-1];return fh(A)?{element:C,offset:L}:"img"===yt(A)?{element:A,offset:1}:Ra(A)?{element:A,offset:rd(A).length}:{element:A,offset:Zt(A).length}}})(u,p),y=Us('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return Ta(b.element,y),Sb(y,()=>Ct(y))})(Q(i.startContainer),i.startOffset);Eb(e,l,t,h,r),h.cleanup()},Nb=(e,t,i,r)=>{const s=Q(e.getDoc());Eb(e,s,i,Sb(Q(t),Qe),r)},hA=(e,t,i)=>{const r=i.startContainer,s=i.startOffset,l=i.endContainer,h=i.endOffset;t(Q(r),Q(l));const u=e.dom.createRng();u.setStart(r,s),u.setEnd(l,h),e.selection.setRng(i)},ph=(e,t,i,r)=>{const s=e.pos;vf(s.left,i?s.top:s.top-t+e.height,r)},Lb=(e,t,i,r,s)=>{const l=i+t,h=r.pos.top,u=r.bottom,p=u-h>=i;h<t?ph(r,i,!1!==s,e):h>l?ph(r,i,p?!1!==s:!0===s,e):u>l&&!p&&ph(r,i,!0===s,e)},Rb=(e,t,i,r)=>{const s=Ao(e).dom.innerHeight;Lb(e,t,s,i,r)},Tb=(e,t,i,r)=>{const s=Ao(e).dom.innerHeight;Lb(e,t,s,i,r);const l=(u=>{const p=Cb(),b=td(p),y=((R,A)=>{const P=A.owner(R);return kb(A,P)})(u,cA),C=ed(u),L=ti(y,(R,A)=>{const P=ed(A);return{left:R.left+P.left,top:R.top+P.top}},{left:0,top:0});return Er(L.left+C.left+b.left,L.top+C.top+b.top)})(i.element),h=Cf(window);l.top<h.y?yf(i.element,!1!==r):l.top>h.bottom&&yf(i.element,!0===r)},uA=(e,t,i)=>Ab(e,Rb,t,i),gA=(e,t,i)=>Nb(e,t,Rb,i),fA=(e,t,i)=>Ab(e,Tb,t,i),pA=(e,t,i)=>Nb(e,t,Tb,i),os=(e,t,i)=>{(e.inline?uA:fA)(e,t,i)},Pb=e=>e.dom.focus(),Ob=e=>{const t=ri(e).dom;return e.dom===t.activeElement},mh=(e=Cb())=>X.from(e.dom.activeElement).map(Q),Mb=(e,t)=>{const i=Ra(t)?rd(t).length:Zt(t).length+1;return e>i?i:e<0?0:e},mA=e=>Yr.range(e.start,Mb(e.soffset,e.start),e.finish,Mb(e.foffset,e.finish)),Ib=(e,t)=>!Js(t.dom)&&(Fn(e,t)||it(e,t)),_b=e=>t=>Ib(e,t.start)&&Ib(e,t.finish),bA=e=>Yr.range(Q(e.startContainer),e.startOffset,Q(e.endContainer),e.endOffset),xA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),X.some(t)}catch{return X.none()}},bh=e=>{const t=e.inline||at.browser.isFirefox()?(i=Q(e.getBody()),(r=>{const s=r.getSelection();return(s&&0!==s.rangeCount?X.from(s.getRangeAt(0)):X.none()).map(bA)})(Ao(i).dom).filter(_b(i))):X.none();var i;e.bookmark=t.isSome()?t:e.bookmark},xh=e=>(e.bookmark?e.bookmark:X.none()).bind(t=>{return i=Q(e.getBody()),X.from(t).filter(_b(i)).map(mA);var i}).bind(xA),Db={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Da={setEditorTimeout:(e,t,i)=>{return Na(s=i)||(s=0),setTimeout(()=>{e.removed||t()},s);var s},setEditorInterval:(e,t,i)=>{const r=(Na(l=i)||(l=0),setInterval(()=>{e.removed?clearInterval(r):t()},l));var l;return r}};let Wr;const vh=gt.DOM,zl=(e,t)=>{const i=Qk(e);return null!==vh.getParent(t,s=>{return Re(l=s)&&Db.isEditorUIElement(l)||!!i&&e.dom.is(s,i);var l})},vA=(e,t)=>{const i=t.editor;(r=>{const s=gl(()=>{bh(r)},0);r.on("init",()=>{var l,p;r.inline&&((l,h)=>{const u=()=>{h.throttle()};gt.DOM.bind(document,"mouseup",u),l.on("remove",()=>{gt.DOM.unbind(document,"mouseup",u)})})(r,s),p=s,(l=r).on("mouseup touchend",b=>{p.throttle()}),l.on("keyup NodeChange AfterSetSelectionRange",u=>{(p=>"nodechange"===p.type&&p.selectionChange)(u)||bh(l)})}),r.on("remove",()=>{s.cancel()})})(i),i.on("focusin",()=>{const r=e.focusedEditor;r!==i&&(r&&r.dispatch("blur",{focusedEditor:i}),e.setActive(i),e.focusedEditor=i,i.dispatch("focus",{blurredEditor:r}),i.focus(!0))}),i.on("focusout",()=>{Da.setEditorTimeout(i,()=>{const r=e.focusedEditor;zl(i,(s=>{try{const l=ri(Q(s.getElement()));return mh(l).fold(()=>document.body,h=>h.dom)}catch{return document.body}})(i))||r!==i||(i.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Wr||(Wr=r=>{const s=e.activeEditor;s&&cf(r).each(l=>{l.ownerDocument===document&&(l===document.body||zl(s,l)||e.focusedEditor!==s||(s.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))})},vh.bind(document,"focusin",Wr))},yA=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Wr&&(vh.unbind(document,"focusin",Wr),Wr=null)},Bb=(e,t)=>{var i,r,s;(i=Q(e.getBody()),r=t,(s=r,s.collapsed?X.from(pi(s.startContainer,s.startOffset)).map(Q):X.none()).bind(s=>MC(s)?X.some(s):Fn(i,s)?X.none():X.some(i))).bind(i=>ha(i.dom)).fold(()=>{e.selection.normalize()},i=>e.selection.setRng(i.toRange()))},yh=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},ar=e=>{return e.inline?(t=>{const i=t.getBody();return i&&(r=Q(i),Ob(r)||(s=r,mh(ri(s)).filter(l=>s.dom.contains(l.dom))).isSome());var r,s})(e):Ce((t=e).iframeElement)&&Ob(Q(t.iframeElement));var t},wh=e=>e.editorManager.setActive(e),Fb=(e,t,i,r,s)=>{const h=i?t.startOffset:t.endOffset;return X.from(i?t.startContainer:t.endContainer).map(Q).map(u=>r&&t.collapsed?u:qs(u,s(u,h)).getOr(u)).bind(u=>ka(u)?X.some(u):$a(u).filter(ka)).map(u=>u.dom).getOr(e)},zb=(e,t,i=!1)=>Fb(e,t,!0,i,(r,s)=>Math.min(sf(r),s)),Xb=(e,t,i=!1)=>Fb(e,t,!1,i,(r,s)=>s>0?s-1:s),Hb=(e,t)=>{const i=e;for(;e&&ve(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||i},Ch=(e,t)=>tt(t,i=>{const r=e.dispatch("GetSelectionRange",{range:i});return r.range!==i?r.range:i}),wA=["img","br"],Yb=e=>Of(e).filter(i=>0!==i.trim().length||i.indexOf(Gt)>-1).isSome()||st(wA,yt(e)),Wb="[data-mce-autocompleter]",Vb=e=>Ro(e,Wb),kA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Xl=(e,t,i)=>{const r=i?"lastChild":"firstChild",s=i?"prev":"next";if(e[r])return e[r];if(e!==t){let l=e[s];if(l)return l;for(let h=e.parent;h&&h!==t;h=h.parent)if(l=h[s],l)return l}},SA=e=>{var t;const i=null!==(t=e.value)&&void 0!==t?t:"";if(!Wi(i))return!1;const r=e.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(i)},jb=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class ua{constructor(t,i){this.name=t,this.type=i,1===i&&(this.attributes=[],this.attributes.map={})}static create(t,i){const r=new ua(t,kA[t]||1);return i&&dt(i,(s,l)=>{r.attr(l,s)}),r}replace(t){const i=this;return t.parent&&t.remove(),i.insert(t,i),i.remove(),i}attr(t,i){const r=this;if(!Ye(t))return Ce(t)&&dt(t,(l,h)=>{r.attr(h,l)}),r;const s=r.attributes;if(s){if(void 0!==i){if(null===i){if(t in s.map){delete s.map[t];let l=s.length;for(;l--;)if(s[l].name===t)return s.splice(l,1),r}return r}if(t in s.map){let l=s.length;for(;l--;)if(s[l].name===t){s[l].value=i;break}}else s.push({name:t,value:i});return s.map[t]=i,r}return s.map[t]}}clone(){const t=this,i=new ua(t.name,t.type),r=t.attributes;if(r){const s=[];s.map={};for(let l=0,h=r.length;l<h;l++){const u=r[l];"id"!==u.name&&(s[s.length]={name:u.name,value:u.value},s.map[u.name]=u.value)}i.attributes=s}return i.value=t.value,i}wrap(t){const i=this;return i.parent&&(i.parent.insert(t,i),t.append(i)),i}unwrap(){const t=this;for(let i=t.firstChild;i;){const r=i.next;t.insert(i,t,!0),i=r}t.remove()}remove(){const t=this,i=t.parent,r=t.next,s=t.prev;return i&&(i.firstChild===t?(i.firstChild=r,r&&(r.prev=null)):s&&(s.next=r),i.lastChild===t?(i.lastChild=s,s&&(s.next=null)):r&&(r.prev=s),t.parent=t.next=t.prev=null),t}append(t){const i=this;t.parent&&t.remove();const r=i.lastChild;return r?(r.next=t,t.prev=r,i.lastChild=t):i.lastChild=i.firstChild=t,t.parent=i,t}insert(t,i,r){t.parent&&t.remove();const s=i.parent||this;return r?(i===s.firstChild?s.firstChild=t:i.prev&&(i.prev.next=t),t.prev=i.prev,t.next=i,i.prev=t):(i===s.lastChild?s.lastChild=t:i.next&&(i.next.prev=t),t.next=i.next,t.prev=i,i.next=t),t.parent=s,t}getAll(t){const i=this,r=[];for(let s=i.firstChild;s;s=Xl(s,i))s.name===t&&r.push(s);return r}children(){const t=[];for(let i=this.firstChild;i;i=i.next)t.push(i);return t}empty(){const t=this;if(t.firstChild){const i=[];for(let s=t.firstChild;s;s=Xl(s,t))i.push(s);let r=i.length;for(;r--;){const s=i[r];s.parent=s.firstChild=s.lastChild=s.next=s.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,i={},r){var s;const l=this;let h=l.firstChild;if(jb(l))return!1;if(h)do{if(1===h.type){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||jb(h))return!1}if(8===h.type||3===h.type&&!SA(h)||3===h.type&&h.parent&&i[h.parent.name]&&Wi(null!==(s=h.value)&&void 0!==s?s:"")||r&&r(h))return!1}while(h=Xl(h,l));return!0}walk(t){return Xl(this,null,t)}}const Gb=(e,t,i=0)=>{const r=e.toLowerCase();if(-1!==r.indexOf("[if ",i)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(i))){const s=r.indexOf("[endif]",i);return r.indexOf(">",s)}if(t){const s=r.indexOf(">",i);return-1!==s?s:r.length}{const s=/--!?>/g;s.lastIndex=i;const l=s.exec(e);return l?l.index+l[0].length:r.length}},AA=(e,t,i)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,l=e.getVoidElements();let h=1,u=i;for(;0!==h;)for(r.lastIndex=u;;){const p=r.exec(t);if(null===p)return u;if("!"===p[1]){u=_t(p[2],"--")?Gb(t,!1,p.index+3):Gb(t,!0,p.index+1);break}{s.lastIndex=r.lastIndex;const b=s.exec(t);if(le(b)||b.index!==r.lastIndex)continue;"/"===p[1]?h-=1:Ze(l,p[2])||(h+=1),u=r.lastIndex+b[0].length;break}}return u},Ub=(e,t)=>{const i=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let s=((u,p)=>{const b=new RegExp(["\\s?("+u.join("|")+')="[^"]+"'].join("|"),"gi");return p.replace(b,"")})(e.getTempAttrs(),t);const l=r.getVoidElements();let h;for(;h=i.exec(s);){const u=i.lastIndex,p=h[0].length;let b;b=l[h[1]]?u:AA(r,s,u),s=s.substring(0,u-p)+s.substring(b),i.lastIndex=u-p}return Hn(s)},EA=Ub,qb=e=>{const t=ia(e,"[data-mce-bogus]");me(t,i=>{"all"===Ya(i,"data-mce-bogus")?Ct(i):Hi(i)?(Ta(i,Sr("\ufeff")),Ct(i)):si(i)})},$b=e=>{const t=ia(e,"input");me(t,i=>{$t(i,"name")})},Zb=pe.makeMap,Kb=e=>{const t=[],i=(e=e||{}).indent,r=Zb(e.indent_before||""),s=Zb(e.indent_after||""),l=ui.getEncodeFunc(e.entity_encoding||"raw",e.entities),h="xhtml"!==e.element_format;return{start:(u,p,b)=>{if(i&&r[u]&&t.length>0){const y=t[t.length-1];y.length>0&&"\n"!==y&&t.push("\n")}if(t.push("<",u),p)for(let y=0,C=p.length;y<C;y++){const L=p[y];t.push(" ",L.name,'="',l(L.value,!0),'"')}if(t[t.length]=!b||h?">":" />",b&&i&&s[u]&&t.length>0){const y=t[t.length-1];y.length>0&&"\n"!==y&&t.push("\n")}},end:u=>{let p;t.push("</",u,">"),i&&s[u]&&t.length>0&&(p=t[t.length-1],p.length>0&&"\n"!==p&&t.push("\n"))},text:(u,p)=>{u.length>0&&(t[t.length]=p?u:l(u))},cdata:u=>{t.push("<![CDATA[",u,"]]>")},comment:u=>{t.push("\x3c!--",u,"--\x3e")},pi:(u,p)=>{p?t.push("<?",u," ",l(p),"?>"):t.push("<?",u,"?>"),i&&t.push("\n")},doctype:u=>{t.push("<!DOCTYPE",u,">",i?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},vi=(e={},t=gi())=>{const i=Kb(e);return e.validate=!("validate"in e)||e.validate,{serialize:r=>{const s=e.validate,l={3:u=>{var p;i.text(null!==(p=u.value)&&void 0!==p?p:"",u.raw)},8:u=>{var p;i.comment(null!==(p=u.value)&&void 0!==p?p:"")},7:u=>{i.pi(u.name,u.value)},10:u=>{var p;i.doctype(null!==(p=u.value)&&void 0!==p?p:"")},4:u=>{var p;i.cdata(null!==(p=u.value)&&void 0!==p?p:"")},11:u=>{let p=u;if(p=p.firstChild)do{h(p)}while(p=p.next)}};i.reset();const h=u=>{var p;const b=l[u.type];if(b)b(u);else{const y=u.name,C=y in t.getVoidElements();let L=u.attributes;if(s&&L&&L.length>1){const R=[];R.map={};const A=t.getElementRule(u.name);if(A){for(let P=0,N=A.attributesOrder.length;P<N;P++){const O=A.attributesOrder[P];if(O in L.map){const M=L.map[O];R.map[O]=M,R.push({name:O,value:M})}}for(let P=0,N=L.length;P<N;P++){const O=L[P].name;if(!(O in R.map)){const M=L.map[O];R.map[O]=M,R.push({name:O,value:M})}}L=R}}if(i.start(y,L,C),!C){let R=u.firstChild;if(R){"pre"!==y&&"textarea"!==y||3!==R.type||"\n"!==(null===(p=R.value)||void 0===p?void 0:p[0])||i.text("\n",!0);do{h(R)}while(R=R.next)}i.end(y)}}};return 1!==r.type||e.inner?3===r.type?l[3](r):l[11](r):h(r),i.getContent()}}},Qb=new Set;me(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{Qb.add(e)});const Jb=["font","text-decoration","text-emphasis"],kh=(e,t)=>aa(e.parseStyle(e.getAttrib(t,"style"))),LA=(e,t,i)=>{const r=kh(e,t),s=kh(e,i),l=h=>{var u,p;const b=null!==(u=e.getStyle(t,h))&&void 0!==u?u:"",y=null!==(p=e.getStyle(i,h))&&void 0!==p?p:"";return o(b)&&o(y)&&b!==y};return mt(r,h=>{const u=p=>mt(p,b=>b===h);if(!u(s)&&u(Jb)){const p=Ve(s,b=>mt(Jb,y=>_t(b,y)));return mt(p,l)}return l(h)})},ex=(e,t,i)=>X.from(i.container()).filter(ve).exists(r=>{const s=e?0:-1;return t(r.data.charAt(i.offset()+s))}),Sh=Te(ex,!0,Fr),Ah=Te(ex,!1,Fr),RA=e=>{const t=e.container();return ve(t)&&(0===t.data.length||nl(t.data)&&ns.isBookmarkNode(t.parentNode))},yi=(e,t)=>i=>Hd(e?0:-1,i).filter(t).isSome(),tx=e=>Lf(e)&&"block"===fn(Q(e),"display"),ax=e=>{return bt(e)&&!(Re(t=e)&&"all"===t.getAttribute("data-mce-bogus"));var t},TA=yi(!0,tx),PA=yi(!1,tx),ss=yi(!0,pn),ls=yi(!1,pn),nx=yi(!0,Xn),ix=yi(!1,Xn),wi=yi(!0,ax),Ci=yi(!1,ax),rx=(e,t)=>{return s=vt,Fn(r=t,i=e)?af(i,l=>s(l)||it(l,r)).slice(0,-1):[];var i,r,s},Vn=(e,t)=>[e].concat(rx(e,t)),Eh=(e,t,i)=>Pm(e,t,i,RA),ox=(e,t)=>Mt(Vn(Q(t.container()),e),Qa),sx=(e,t,i)=>Eh(e,t.dom,i).forall(r=>ox(t,i).fold(()=>!bn(r,i,t.dom),s=>!bn(r,i,t.dom)&&Fn(s,Q(r.container())))),lx=(e,t,i)=>ox(t,i).fold(()=>Eh(e,t.dom,i).forall(r=>!bn(r,i,t.dom)),r=>Eh(e,r.dom,i).isNone()),Nh=Te(lx,!1),cx=Te(lx,!0),OA=Te(sx,!1),MA=Te(sx,!0),IA=e=>wl(e).exists(Hi),Hl=(e,t,i)=>{const r=Ve(Vn(Q(i.container()),t),Qa),s=ea(r).getOr(t);return Oa(e,s.dom,i).filter(IA)},Lh=(e,t)=>wl(t).exists(Hi)||Hl(!0,e,t).isSome(),Rh=(e,t)=>{return(i=t,X.from(i.getNode(!0)).map(Q)).exists(Hi)||Hl(!1,e,t).isSome();var i},_A=Te(Hl,!1),DA=Te(Hl,!0),dx=e=>ce.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),hx=(e,t)=>{const i=Ve(Vn(Q(t.container()),e),Qa);return ea(i).getOr(e)},ux=(e,t)=>dx(t)?Ah(t):Ah(t)||Ma(hx(e,t).dom,t).exists(Ah),gx=(e,t)=>dx(t)?Sh(t):Sh(t)||ba(hx(e,t).dom,t).exists(Sh),Th=e=>wl(e).bind(t=>Bi(t,ka)).exists(t=>{return i=fn(t,"white-space"),st(["pre","pre-wrap"],i);var i}),fx=(e,t)=>i=>{return r=new Dt(i,e)[t](),Ce(r)&&bt(r)&&xm(r);var r},cs=(e,t)=>!Th(t)&&(Nh(e,t)||OA(e,t)||Rh(e,t)||ux(e,t)||((i,r)=>{const s=Ma(i.dom,r).getOr(r),l=fx(i.dom,"prev");return r.isAtStart()&&(l(r.container())||l(s.container()))})(e,t)),ds=(e,t)=>!Th(t)&&(cx(e,t)||MA(e,t)||Lh(e,t)||gx(e,t)||((i,r)=>{const s=ba(i.dom,r).getOr(r),l=fx(i.dom,"next");return r.isAtEnd()&&(l(r.container())||l(s.container()))})(e,t)),Ph=(e,t)=>cs(e,t)||ds(e,(i=>{const r=i.container(),s=i.offset();return ve(r)&&s<r.data.length?ce(r,s+1):i})(t)),px=(e,t)=>El(e.charAt(t)),mx=(e,t)=>Fr(e.charAt(t)),bx=(e,t,i)=>{const r=t.data,s=ce(t,0);return i||!px(r,0)||Ph(e,s)?!!(i&&mx(r,0)&&cs(e,s))&&(t.data=Gt+r.slice(1),!0):(t.data=" "+r.slice(1),!0)},xx=(e,t,i)=>{const r=t.data,s=ce(t,r.length-1);return i||!px(r,r.length-1)||Ph(e,s)?!!(i&&mx(r,r.length-1)&&ds(e,s))&&(t.data=r.slice(0,-1)+Gt,!0):(t.data=r.slice(0,-1)+" ",!0)},vx=(e,t,i)=>{if(0===i)return;const r=Q(e),s=li(r,Qa).getOr(r),l=e.data.slice(t,t+i),h=t+i>=e.data.length&&ds(s,ce(e,e.data.length)),u=0===t&&cs(s,ce(e,0));e.replaceData(t,i,Xf(l,4,u,h))},Yl=(e,t)=>{const i=e.data.slice(t),r=i.length-a(i).length;vx(e,t,r)},Oh=(e,t)=>{const i=e.data.slice(0,t),r=i.length-n(i).length;vx(e,t-r,r)},Mh=(e,t,i,r=!0)=>{const s=n(e.data).length,l=r?e:t,h=r?t:e;return r?l.appendData(h.data):l.insertData(0,h.data),Ct(Q(h)),i&&Yl(l,s),l},FA=(e,t)=>((i,r)=>{const s=i.container(),l=i.offset();return!ce.isTextPosition(i)&&s===r.parentNode&&l>ce.before(r).offset()})(t,e)?ce(t.container(),t.offset()-1):t,yx=e=>{return Wa(e.previousSibling)?X.some(ve(t=e.previousSibling)?ce(t,t.data.length):ce.after(t)):e.previousSibling?yn(e.previousSibling):X.none();var t},wx=e=>{return Wa(e.nextSibling)?X.some(ve(t=e.nextSibling)?ce(t,0):ce.before(t)):e.nextSibling?ha(e.nextSibling):X.none();var t},Cx=(e,t,i)=>{i.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},XA=(e,t)=>t&&Ze(e.schema.getBlockElements(),yt(t)),HA=e=>{if(Pt(e)){const t=Us('<br data-mce-bogus="1">');return No(e),zt(e,t),X.some(ce.before(t.dom))}return X.none()},nr=(e,t,i,r=!0)=>{const s=((e,t,i)=>{return(r=e,s=t,l=i,r?(h=s,wx(u=l).orThunk(()=>yx(u)).orThunk(()=>{return ba(p=h,ce.after(b=u)).orThunk(()=>Ma(p,ce.before(b)));var p,b})):((h,u)=>yx(u).orThunk(()=>wx(u)).orThunk(()=>{return p=h,X.from((b=u).previousSibling?b.previousSibling:b.parentNode).bind(y=>Ma(p,ce.before(y))).orThunk(()=>ba(p,ce.after(b)));var p,b}))(s,l)).map(Te(FA,i));var r,s,l,h,u})(t,e.getBody(),i.dom),l=li(i,Te(XA,e),(h=e.getBody(),p=>p.dom===h));var h;const u=((p,b,y)=>{const C=_i(p).filter(Ra),L=Eo(p).filter(Ra);return Ct(p),(R=C,A=L,P=b,N=(O,M,B)=>{const Y=O.dom,U=M.dom,G=Y.data.length;return Mh(Y,U,y),B.container()===U?ce(Y,G):B},R.isSome()&&A.isSome()&&P.isSome()?X.some(N(R.getOrDie(),A.getOrDie(),P.getOrDie())):X.none()).orThunk(()=>(y&&(C.each(O=>Oh(O.dom,O.dom.length)),L.each(O=>Yl(O.dom,0))),b));var R,A,P,N})(i,s,(b=i,Ze(e.schema.getTextInlineElements(),yt(b))));var b;e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):l.bind(HA).fold(()=>{r&&Cx(e,t,u)},p=>{r&&Cx(e,t,X.some(p))})},YA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ir=(e,t)=>qa(Q(t),Yk(e))&&!_o(e.schema,t),ki=(e,t,i)=>{const r=(s=e,l=t,Ve(gt.DOM.getParents(i.container(),"*",l),s));var s,l;return X.from(r[r.length-1])},Ba=(e,t)=>{const i=t.container(),r=t.offset();return e?hi(i)?ve(i.nextSibling)?ce(i.nextSibling,0):ce.after(i):cd(t)?ce(i,r+1):t:hi(i)?ve(i.previousSibling)?ce(i.previousSibling,i.previousSibling.data.length):ce.before(i):dd(t)?ce(i,r-1):t},kx=Te(Ba,!0),Sx=Te(Ba,!1),Ax=(e,t)=>{const i=r=>r.stopImmediatePropagation();e.on("beforeinput input",i,!0),e.getDoc().execCommand(t),e.off("beforeinput input",i)},Ex=e=>Ax(e,"Delete"),WA=e=>Mf(e)||Oo(e),Wl=(e,t)=>{return Fn(e,t)?Bi(t,WA,(i=e,r=>It($a(r),i,it))):X.none();var i},Ih=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Nx=e=>{var t;return(8===jg(t=e)||"#comment"===yt(t)?_i(e):Kc(e)).bind(Nx).orThunk(()=>X.some(e))},Lx=(e,t,i,r=!0)=>{var s;t.deleteContents();const l=Nx(i).getOr(i),h=Q(null!==(s=e.dom.getParent(l.dom,e.dom.isBlock))&&void 0!==s?s:i.dom);if(h.dom===e.getBody()?Ih(e,r):Pt(h)&&(Yi(h),r&&e.selection.setCursorLocation(h.dom,0)),!it(i,h)){const p=It($a(h),i)?[]:$a(u=h).map(Zt).map(b=>Ve(b,y=>!it(u,y))).getOr([]);me(p.concat(Zt(i)),b=>{it(b,h)||Fn(b,h)||!Pt(b)||Ct(b)})}var u},_h=e=>ia(e,"td,th"),Dh=(e,t)=>({start:e,end:t}),hs=mn([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Vl=(e,t)=>Fi(Q(e),"td,th",t),Rx=e=>!it(e.start,e.end),Tx=(e,t)=>ts(e.start,t).bind(i=>ts(e.end,t).bind(r=>yo(it(i,r),i))),Bh=e=>t=>Tx(t,e).map(i=>({rng:t,table:i,cells:_h(i)})),Px=(e,t,i,r)=>{if(i.collapsed||!e.forall(Rx))return X.none();if(t.isSameTable){const s=e.bind(Bh(r));return X.some({start:s,end:s})}{const s=Vl(i.startContainer,r),l=Vl(i.endContainer,r),h=s.bind((p=r,b=>ts(b,p).bind(y=>un(_h(y)).map(C=>Dh(b,C))))).bind(Bh(r)),u=l.bind((p=>b=>ts(b,p).bind(y=>ea(_h(y)).map(C=>Dh(C,b))))(r)).bind(Bh(r));return X.some({start:h,end:u})}var p},Ox=(e,t)=>Mn(e,i=>it(i,t)),Fh=e=>qt(Ox(e.cells,e.rng.start),Ox(e.cells,e.rng.end),(t,i)=>e.cells.slice(t,i+1)),Mx=(e,t)=>{const{startTable:i,endTable:r}=t,s=e.cloneRange();return i.each(l=>s.setStartAfter(l.dom)),r.each(l=>s.setEndBefore(l.dom)),s},Ix=e=>me(e,t=>{$t(t,"contenteditable"),Yi(t)}),zh=(e,t,i,r)=>{const s=i.cloneRange();r?(s.setStart(i.startContainer,i.startOffset),s.setEndAfter(t.dom.lastChild)):(s.setStartBefore(t.dom.firstChild),s.setEnd(i.endContainer,i.endOffset)),Xh(e,s,t,!1).each(l=>l())},_x=e=>{const t=zr(e),i=Q(e.selection.getNode());tl(i.dom)&&Pt(i)?e.selection.setCursorLocation(i.dom,0):e.selection.collapse(!0),t.length>1&&mt(t,r=>it(r,i))&&Vt(i,"data-mce-selected","1")},Dx=(e,t,i)=>X.some(()=>{const r=e.selection.getRng(),s=i.bind(({rng:l,isStartInTable:h})=>{const u=X.from((b=e).dom.getParent(h?l.endContainer:l.startContainer,b.dom.isBlock)).map(Q);var b;l.deleteContents(),((b,y,C)=>{C.each(L=>{y?Ct(L):(Yi(L),b.selection.setCursorLocation(L.dom,0))})})(e,h,u.filter(Pt));const p=h?t[0]:t[t.length-1];return zh(e,p,r,h),Pt(p)?X.none():X.some(h?t.slice(1):t.slice(0,-1))}).getOr(t);Ix(s),_x(e)}),jA=(e,t,i,r)=>X.some(()=>{const s=e.selection.getRng(),l=t[0],h=i[i.length-1];zh(e,l,s,!0),zh(e,h,s,!1);const u=Pt(l)?t:t.slice(1),p=Pt(h)?i:i.slice(0,-1);Ix(u.concat(p)),r.deleteContents(),_x(e)}),Xh=(e,t,i,r=!0)=>X.some(()=>{Lx(e,t,i,r)}),GA=(e,t)=>X.some(()=>nr(e,!1,t)),Bx=(e,t)=>Mt(Vn(t,e),Mo),Hh=(e,t)=>Mt(Vn(t,e),qc("caption")),jl=(e,t)=>X.some(()=>{Yi(t),e.selection.setCursorLocation(t.dom,0)}),Fx=(e,t)=>e?nx(t):ix(t),Yh=(e,t)=>{const i=Q(e.selection.getStart(!0)),r=zr(e);return e.selection.isCollapsed()&&0===r.length?((e,t,i)=>{const r=Q(e.getBody());return Hh(r,i).fold(()=>((s,l,h,u)=>{const p=ce.fromRangeStart(s.selection.getRng());return Bx(h,u).bind(b=>{return Pt(b)?jl(s,b):(C=h,R=b,A=p,Sl(l,s.getBody(),A).bind(P=>Bx(C,Q(P.getNode())).bind(N=>it(N,R)?X.none():X.some(Qe))));var C,R,A})})(e,t,r,i).orThunk(()=>yo(((s,l)=>{const h=ce.fromRangeStart(s.selection.getRng());return Fx(l,h)||Oa(l,s.getBody(),h).exists(u=>Fx(l,u))})(e,t),Qe)),s=>((l,h,u,p)=>{const b=ce.fromRangeStart(l.selection.getRng());return Pt(p)?jl(l,p):(C=u,R=p,A=b,Sl(L=h,(y=l).getBody(),A).fold(()=>X.some(Qe),P=>{return O=L,M=A,B=P,ha((N=R).dom).bind(Y=>yn(N.dom).map(U=>O?M.isEqual(Y)&&B.isEqual(U):M.isEqual(U)&&B.isEqual(Y))).getOr(!0)?((N,O)=>jl(N,O))(y,R):((N,O,M)=>Hh(N,Q(M.getNode())).fold(()=>X.some(Qe),B=>yo(!it(B,O),Qe)))(C,R,P);var N,O,M,B}));var y,C,L,R,A})(e,t,r,s))})(e,t,i):((s,l,h)=>{const u=Q(s.getBody()),p=s.selection.getRng();return 0!==h.length?Dx(s,h,X.none()):(b=s,C=p,Hh(y=u,l).fold(()=>{return R=b,((e,t)=>{const i=(l=e,h=>it(l,h)),r=((l,h)=>{const u=Vl(l.startContainer,h),p=Vl(l.endContainer,h);return qt(u,p,Dh)})(t,i),s=((l,h)=>{const u=R=>ts(Q(R),h),p=u(l.startContainer),b=u(l.endContainer),y=p.isSome(),C=b.isSome(),L=qt(p,b,it).getOr(!1);return{startTable:p,endTable:b,isStartInTable:y,isEndInTable:C,isSameTable:L,isMultiTable:!L&&y&&C}})(t,i);var l;return((l,h,u)=>l.exists(p=>{return y=u,!Rx(b=p)&&Tx(b,y).exists(C=>{const L=C.dom.rows;return 1===L.length&&1===L[0].cells.length})&&Qd(p.start,h);var b,y}))(r,t,i)?r.map(l=>hs.singleCellTable(t,l.start)):s.isMultiTable?((l,h,u,p)=>Px(l,h,u,p).bind(({start:b,end:y})=>{const C=b.bind(Fh).getOr([]),L=y.bind(Fh).getOr([]);if(C.length>0&&L.length>0){const R=Mx(u,h);return X.some(hs.multiTable(C,L,R))}return X.none()}))(r,s,t,i):((l,h,u,p)=>Px(l,h,u,p).bind(({start:b,end:y})=>b.or(y)).bind(b=>{const{isSameTable:y}=h,C=Fh(b).getOr([]);if(y&&b.cells.length===C.length)return X.some(hs.fullTable(b.table));if(C.length>0){if(y)return X.some(hs.partialTable(C,X.none()));{const L=Mx(u,h);return X.some(hs.partialTable(C,X.some({...h,rng:L})))}}return X.none()}))(r,s,t,i)})(y,C).bind(N=>N.fold(Te(Xh,R),Te(GA,R),Te(Dx,R),Te(jA,R)));var R},R=>jl(b,R)));var b,y,C})(e,i,r)},rr=(e,t)=>{let i=t;for(;i&&i!==e;){if(Ka(i)||bt(i))return i;i=i.parentNode}return null},qA=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],$A=pe.each,Wh=e=>{const t=e.dom,i=new Set(e.serializer.getTempAttrs()),r=s=>mt(qA,l=>_t(s,l))||i.has(s);return{compare:(s,l)=>{if(s.nodeName!==l.nodeName||s.nodeType!==l.nodeType)return!1;const h=p=>{const b={};return $A(t.getAttribs(p),y=>{const C=y.nodeName.toLowerCase();"style"===C||r(C)||(b[C]=t.getAttrib(p,C))}),b},u=(p,b)=>{for(const y in p)if(Ze(p,y)){const C=b[y];if(ft(C)||p[y]!==C)return!1;delete b[y]}for(const y in b)if(Ze(b,y))return!1;return!0};return!(Re(s)&&Re(l)&&(!u(h(s),h(l))||!u(t.parseStyle(t.getAttrib(s,"style")),t.parseStyle(t.getAttrib(l,"style"))))||Ia(s)||Ia(l))},isAttributeInternal:r}},zx=(e,t,i,r)=>{const s=i.name;for(let l=0,h=e.length;l<h;l++){const u=e[l];if(u.name===s){const p=r.nodes[s];p?p.nodes.push(i):r.nodes[s]={filter:u,nodes:[i]}}}if(i.attributes)for(let l=0,h=t.length;l<h;l++){const u=t[l],p=u.name;if(p in i.attributes.map){const b=r.attributes[p];b?b.nodes.push(i):r.attributes[p]={filter:u,nodes:[i]}}}},Xx=(e,t)=>{const i=(r,s)=>{dt(r,l=>{const h=ta(l.nodes);me(l.filter.callbacks,u=>{for(let p=h.length-1;p>=0;p--){const b=h[p];(s?void 0!==b.attr(l.filter.name):b.name===l.filter.name)&&!be(b.parent)||h.splice(p,1)}h.length>0&&u(h,l.filter.name,t)})})};i(e.nodes,!1),i(e.attributes,!0)},Hx=(e,t,i,r={})=>{const s=((l,h,u)=>{const p={nodes:{},attributes:{}};return u.firstChild&&((b,y)=>{let C=b;for(;C=C.walk();)zx(l,h,C,p)})(u),p})(e,t,i);Xx(s,r)},Vh=(e,t,i)=>{if(e.insert&&t(i)){const r=new ua("br",1);r.attr("data-mce-bogus","1"),i.empty().append(r)}else i.empty().append(new ua("#text",3)).value=Gt},Yx=(e,t)=>{const i=e?.firstChild;return Ce(i)&&i===e.lastChild&&i.name===t},us=(e,t,i,r)=>r.isEmpty(t,i,s=>!0===e.getElementRule(s.name)?.paddEmpty),jh=(e,t,i=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const s of r)i&&!t.isValidChild(i.name,s.name)&&jh(s,t,i);e.unwrap()}},Gh=(e,t,i=Qe)=>{const r=t.getTextBlockElements(),s=t.getNonEmptyElements(),l=t.getWhitespaceElements(),h=pe.makeMap("tr,td,th,tbody,thead,tfoot,table"),u=new Set;for(let p=0;p<e.length;p++){const b=e[p];let y,C,L;if(!b.parent||u.has(b))continue;if(r[b.name]&&"li"===b.parent.name){let A=b.next;for(;A&&r[A.name];)A.name="li",u.add(A),b.parent.insert(A,b.parent),A=A.next;b.unwrap();continue}const R=[b];for(y=b.parent;y&&!t.isValidChild(y.name,b.name)&&!h[y.name];y=y.parent)R.push(y);if(y&&R.length>1)if(t.isValidChild(y.name,b.name)){R.reverse(),C=R[0].clone(),i(C);let A=C;for(let P=0;P<R.length-1;P++){t.isValidChild(A.name,R[P].name)?(L=R[P].clone(),i(L),A.append(L)):L=A;for(let N=R[P].firstChild;N&&N!==R[P+1];){const O=N.next;L.append(N),N=O}A=L}us(t,s,l,C)?y.insert(b,R[0],!0):(y.insert(C,R[0],!0),y.insert(b,C)),y=R[0],(us(t,s,l,y)||Yx(y,"br"))&&y.empty().remove()}else jh(b,t);else if(b.parent){if("li"===b.name){let A=b.prev;if(A&&("ul"===A.name||"ol"===A.name)){A.append(b);continue}if(A=b.next,A&&("ul"===A.name||"ol"===A.name)&&A.firstChild){A.insert(b,A.firstChild,!0);continue}const P=new ua("ul",1);i(P),b.wrap(P);continue}if(t.isValidChild(b.parent.name,"div")&&t.isValidChild("div",b.name)){const A=new ua("div",1);i(A),b.wrap(A)}else jh(b,t)}}},Wx=(e,t,i=t.parent)=>!(!i||!e.children[t.name]||e.isValidChild(i.name,t.name))||!(!i||"a"!==t.name||!((r,s)=>{let l=r;for(;l;){if("a"===l.name)return!0;l=l.parent}return!1})(i)),Uh=e=>e.collapsed?e:(t=>{const i=ce.fromRangeStart(t),r=ce.fromRangeEnd(t),s=t.commonAncestorContainer;return Oa(!1,s,r).map(l=>!bn(i,r,s)&&bn(i,l,s)?((h,u,p,b)=>{const y=document.createRange();return y.setStart(h,u),y.setEnd(p,b),y})(i.container(),i.offset(),l.container(),l.offset()):t).getOr(t)})(e),qh=(e,t)=>{const i=e.getParent(t,e.isBlock);return i&&"LI"===i.nodeName?i:null},Vx=(e,t)=>{const i=ce.after(e),r=vn(t).prev(i);return r?r.toRange():null},JA=["pre"],$h=tl,eE=(e,t,i)=>{var r,s;const l=e.selection,h=e.dom,u=e.parser,p=i.merge,b=vi({validate:!0},e.schema),y='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,y);let C=l.getRng();const L=C.startContainer,R=e.getBody();var B,Y;L===R&&l.isCollapsed()&&h.isBlock(R.firstChild)&&(B=e,Ce(Y=R.firstChild)&&!B.schema.getVoidElements()[Y.nodeName])&&h.isEmpty(R.firstChild)&&(C=h.createRng(),C.setStart(R.firstChild,0),C.setEnd(R.firstChild,0),l.setRng(C)),l.isCollapsed()||(B=>{const Y=B.dom,U=Uh(B.selection.getRng());B.selection.setRng(U);const G=Y.getParent(U.startContainer,$h);var Z,$,K;Z=Y,$=U,Ce(K=G)&&K===Z.getParent($.endContainer,$h)&&Qd(Q(K),$)?Xh(B,U,Q(G)):U.startContainer===U.endContainer&&U.endOffset-U.startOffset==1&&ve(U.startContainer.childNodes[U.startOffset])?U.deleteContents():B.getDoc().execCommand("Delete",!1)})(e);const A=l.getNode(),P={context:A.nodeName.toLowerCase(),data:i.data,insert:!0},N=u.parse(t,P);if(!0===i.paste&&((e,t)=>{let i=t.firstChild,r=t.lastChild;return i&&"meta"===i.name&&(i=i.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),((s,l)=>{const h=s.getNonEmptyElements();return Ce(l)&&(l.isEmpty(h)||(p=l,s.getBlockElements()[p.name]&&Ce((b=p).firstChild)&&b.firstChild===b.lastChild&&(b=>"br"===b.name||b.value===Gt)(p.firstChild)));var p,b})(e,r)&&(r=r?.prev),!(!i||i!==r||"ul"!==i.name&&"ol"!==i.name)})(e.schema,N)&&((B,Y)=>!!qh(B,Y))(h,A))return C=((e,t,i,r)=>{const s=((C,L,R)=>{const A=L.serialize(R);return(P=>{var N,O;const M=P.firstChild,B=P.lastChild;return M&&"META"===M.nodeName&&(null===(N=M.parentNode)||void 0===N||N.removeChild(M)),B&&"mce_marker"===B.id&&(null===(O=B.parentNode)||void 0===O||O.removeChild(B)),P})(C.createFragment(A))})(t,e,r),l=qh(t,i.startContainer),h=(e=>{return e.length>0&&(!(i=e[e.length-1]).firstChild||Ce(null==(t=i)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&((r=t.firstChild).data===Gt||Tt(r)))?e.slice(0,-1):e;var r,t,i})(Ve(null!==(p=s.firstChild?.childNodes)&&void 0!==p?p:[],C=>"LI"===C.nodeName));var p;const b=t.getRoot(),y=C=>{const L=ce.fromRangeStart(i),R=vn(t.getRoot()),P=(1===C?R.prev(L):R.next(L))?.getNode();return!P||qh(t,P)!==l};return l?y(1)?((C,L,R)=>{const A=C.parentNode;return A&&pe.each(L,P=>{A.insertBefore(P,C)}),((P,N)=>{const O=ce.before(P),M=vn(N).next(O);return M?M.toRange():null})(C,R)})(l,h,b):y(2)?(C=l,R=b,t.insertAfter((L=h).reverse(),C),Vx(L[0],R)):((C,L,R,A)=>{const P=((O,M)=>{const B=M.cloneRange(),Y=M.cloneRange();return B.setStartBefore(O),Y.setEndAfter(O),[B.cloneContents(),Y.cloneContents()]})(C,A),N=C.parentNode;return N&&(N.insertBefore(P[0],C),pe.each(L,O=>{N.insertBefore(O,C)}),N.insertBefore(P[1],C),N.removeChild(C)),Vx(L[L.length-1],R)})(l,h,b,i):null;var C,L,R})(b,h,l.getRng(),N),C&&l.setRng(C),t;!0===i.paste&&((B,Y,U,G)=>{var Z;const $=Y.firstChild,K=Y.lastChild,te=$===("bookmark"===K.attr("data-mce-type")?K.prev:K),ne=st(JA,$.name);if(te&&ne){const se="false"!==$.attr("contenteditable"),re=(null===(Z=B.getParent(U,B.isBlock))||void 0===Z?void 0:Z.nodeName.toLowerCase())===$.name,he=X.from(rr(G,U)).forall(Ka);return se&&re&&he}return!1})(h,N,A,e.getBody())&&(null===(r=N.firstChild)||void 0===r||r.unwrap()),(B=>{let Y=B;for(;Y=Y.walk();)1===Y.type&&Y.attr("data-mce-fragment","1")})(N);let O=N.lastChild;if(O&&"mce_marker"===O.attr("id")){const B=O;for(O=O.prev;O;O=O.walk(!0))if(3===O.type||!h.isBlock(O.name)){O.parent&&e.schema.isValidChild(O.parent.name,"span")&&O.parent.insert(B,O,"br"===O.name);break}}if(e._selectionOverrides.showBlockCaretContainer(A),P.invalid){e.selection.setContent(y);let B,Y=l.getNode();const U=e.getBody();for(To(Y)?Y=B=U:B=Y;B&&B!==U;)Y=B,B=B.parentNode;t=Y===U?U.innerHTML:h.getOuterHTML(Y);const G=u.parse(t);for(let te=G;te;te=te.walk())if("mce_marker"===te.attr("id")){te.replace(N);break}const Z=N.children(),$=null!==(s=N.parent)&&void 0!==s?s:G;N.unwrap();const K=Ve(Z,te=>Wx(e.schema,te,$));Gh(K,e.schema),Hx(u.getNodeFilters(),u.getAttributeFilters(),G),t=b.serialize(G),Y===U?h.setHTML(U,t):h.setOuterHTML(Y,t)}else t=b.serialize(N),((B,Y,U)=>{var G;if("all"===U.getAttribute("data-mce-bogus"))null===(G=U.parentNode)||void 0===G||G.insertBefore(B.dom.createFragment(Y),U);else{const Z=U.firstChild,$=U.lastChild;!Z||Z===$&&"BR"===Z.nodeName?B.dom.setHTML(U,Y):B.selection.setContent(Y,{no_events:!0})}})(e,t,A);var M;return((B,Y)=>{const U=B.schema.getTextInlineElements(),G=B.dom;if(Y){const Z=B.getBody(),$=Wh(B);pe.each(G.select("*[data-mce-fragment]"),K=>{if(Ce(U[K.nodeName.toLowerCase()])&&In(kh(G,K),se=>!Qb.has(se)))for(let te=K.parentElement;Ce(te)&&te!==Z&&!LA(G,K,te);te=te.parentElement)if($.compare(te,K)){G.remove(K,!0);break}})}})(e,p),((B,Y)=>{var U,G,Z;let $;const K=B.dom,te=B.selection;if(!Y)return;te.scrollIntoView(Y);const ne=rr(B.getBody(),Y);if(ne&&"false"===K.getContentEditable(ne))return K.remove(Y),void te.select(ne);let se=K.createRng();const re=Y.previousSibling;if(ve(re)){se.setStart(re,null!==(G=null===(U=re.nodeValue)||void 0===U?void 0:U.length)&&void 0!==G?G:0);const ke=Y.nextSibling;ve(ke)&&(re.appendData(ke.data),null===(Z=ke.parentNode)||void 0===Z||Z.removeChild(ke))}else se.setStartBefore(Y),se.setEndBefore(Y);const he=K.getParent(Y,K.isBlock);K.remove(Y),he&&K.isEmpty(he)&&(No(Q(he)),se.setStart(he,0),se.setEnd(he,0),$h(he)||he.getAttribute("data-mce-fragment")||!($=(ke=>{let Se=ce.fromRangeStart(ke);return Se=vn(B.getBody()).next(Se),Se?.toRange()})(se))?K.add(he,K.create("br",{"data-mce-bogus":"1"})):(se=$,K.remove(he))),te.setRng(se)})(e,h.get("mce_marker")),M=e.getBody(),pe.each(M.getElementsByTagName("*"),B=>{B.removeAttribute("data-mce-fragment")}),((B,Y)=>{X.from(B.getParent(Y,"td,th")).map(Q).each(DC)})(h,l.getStart()),((B,Y,U)=>{const G=af(Q(U),Z=>it(Z,Q(Y)));_n(G,G.length-2).filter(ka).fold(()=>fd(B,Y),Z=>fd(B,Z.dom))})(e.schema,e.getBody(),l.getStart()),t},Gl=e=>e instanceof ua,Zh=(e,t,i)=>{var r;e.dom.setHTML(e.getBody(),t),!0!==i&&ar(r=e)&&ha(r.getBody()).each(s=>{const l=s.getNode(),h=Xn(l)?ha(l).getOr(s):s;r.selection.setRng(h.toRange())})},jx=e=>nt(e)?e:vt,Kh=(e,t,i)=>{const r=t(e),s=jx(i);return r.orThunk(()=>s(e)?X.none():((l,h,u)=>{let p=l.dom;const b=jx(u);for(;p.parentNode;){p=p.parentNode;const y=Q(p),C=h(y);if(C.isSome())return C;if(b(y))break}return X.none()})(e,t,s))},Qh=ih,Gx=(e,t,i)=>{const r=e.formatter.get(i);if(r)for(let s=0;s<r.length;s++){const l=r[s];if(_a(l)&&!1===l.inherit&&e.dom.is(t,l.selector))return!0}return!1},Jh=(e,t,i,r,s)=>{const l=e.dom.getRoot();if(t===l)return!1;const h=e.dom.getParent(t,u=>!!Gx(e,u,i)||u.parentNode===l||!!Cn(e,u,i,r,!0));return!!Cn(e,h,i,r,s)},Ul=(e,t,i)=>!(!Bt(i)||!Qh(t,i.inline))||!(!wn(i)||!Qh(t,i.block))||!!_a(i)&&Re(t)&&e.is(t,i.selector),Ux=(e,t,i,r,s,l)=>{const h=i[r],u="attributes"===r;if(nt(i.onmatch))return i.onmatch(t,i,r);if(h)if(mo(h)){for(let p=0;p<h.length;p++)if(u?e.getAttrib(t,h[p]):Tl(e,t,h[p]))return!0}else for(const p in h)if(Ze(h,p)){const b=u?e.getAttrib(t,p):Tl(e,t,p),y=xi(h[p],l),C=be(b)||c(b);if(C&&be(y))continue;if(s&&C&&!i.exact||(!s||i.exact)&&!Qh(b,rh(y,p)))return!1}return!0},Cn=(e,t,i,r,s)=>{const l=e.formatter.get(i),h=e.dom;if(l&&Re(t))for(let u=0;u<l.length;u++){const p=l[u];if(Ul(e.dom,t,p)&&Ux(h,t,p,"attributes",s,r)&&Ux(h,t,p,"styles",s,r)){const b=p.classes;if(b)for(let y=0;y<b.length;y++)if(!e.dom.hasClass(t,xi(b[y],r)))return;return p}}},eu=(e,t,i,r,s)=>{if(r)return Jh(e,r,t,i,s);if(r=e.selection.getNode(),Jh(e,r,t,i,s))return!0;const l=e.selection.getStart();return!(l===r||!Jh(e,l,t,i,s))},qx=e=>(t=>{const i=[];let r=t;for(;r;){if(ve(r)&&"\ufeff"!==r.data||r.childNodes.length>1)return[];Re(r)&&i.push(r),r=r.firstChild}return i})(e).length>0,$x=e=>{if(e){const t=new Dt(e,e);for(let i=t.current();i;i=t.next())if(ve(i))return i}return null},tu=e=>{const t=jt("span");return ii(t,{id:Gd,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&zt(t,Sr("\ufeff")),t},au=(e,t,i=!0)=>{const r=e.dom,s=e.selection;if(qx(t))nr(e,!1,Q(t),i);else{const l=s.getRng(),h=r.getParent(t,r.isBlock),u=l.startContainer,p=l.startOffset,b=l.endContainer,y=l.endOffset,C=(L=>{const R=$x(L);return R&&"\ufeff"===R.data.charAt(0)&&R.deleteData(0,1),R})(t);r.remove(t,!0),u===C&&p>0&&l.setStart(C,p-1),b===C&&y>0&&l.setEnd(C,y-1),h&&r.isEmpty(h)&&Yi(Q(h)),s.setRng(l)}},nu=(e,t,i=!0)=>{const r=e.dom,s=e.selection;if(t)au(e,t,i);else if(!(t=Qi(e.getBody(),s.getStart())))for(;t=r.get(Gd);)au(e,t,!1)},Zx=(e,t)=>(e.appendChild(t),t),Kx=(e,t)=>{var i;const r=ti(e,(l,h)=>Zx(l,h.cloneNode(!1)),t),s=null!==(i=r.ownerDocument)&&void 0!==i?i:document;return Zx(r,s.createTextNode("\ufeff"))},nE=(e,t)=>{const i=e.schema.getTextInlineElements();return Ze(i,yt(t))&&!tn(t.dom)&&!Xi(t.dom)},gs={},Qx=Za(["pre"]);gs.pre||(gs.pre=[]),gs.pre.push(e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),i=Ve(Ve(t,Qx),(r=t,s=>{const l=s.previousSibling;return Qx(l)&&st(r,l)}));me(i,r=>{((s,l)=>{const h=Q(l),u=zn(h).dom;Ct(h),Di(Q(s),[jt("br",u),jt("br",u),...Zt(h)])})(r.previousSibling,r)})}var r});const Jx=["fontWeight","fontStyle","color","fontSize","fontFamily"],ev=(e,t)=>{const i=e.get(t);return Et(i)?Mt(i,r=>{return Bt(r)&&"span"===r.inline&&xt((s=r).styles)&&mt(aa(s.styles),l=>st(Jx,l));var s}):X.none()},tv=(e,t)=>Ma(t,ce.fromRangeStart(e)).isNone(),av=(e,t)=>!1===ba(t,ce.fromRangeEnd(e)).exists(i=>!Tt(i.getNode())||ba(t,i).isSome()),nv=e=>t=>PC(t)&&"false"!==e.getContentEditableParent(t),iv=e=>Ve(e.getSelectedBlocks(),nv(e.dom)),iu=pe.each,ru=e=>Re(e)&&!Ia(e)&&!tn(e)&&!Xi(e),rv=(e,t)=>{for(let i=e;i;i=i[t]){if(ve(i)&&o(i.data))return e;if(Re(i)&&!Ia(i))return i}return e},ov=(e,t,i)=>{const r=Wh(e),s=Re(t)&&Ji(t),l=Re(i)&&Ji(i);if(s&&l){const h=rv(t,"previousSibling"),u=rv(i,"nextSibling");if(r.compare(h,u)){for(let p=h.nextSibling;p&&p!==u;){const b=p;p=p.nextSibling,h.appendChild(b)}return e.dom.remove(u),pe.each(pe.grep(u.childNodes),p=>{h.appendChild(p)}),h}}return i},sv=(e,t,i,r)=>{var s;if(r&&!1!==t.merge_siblings){const l=null!==(s=ov(e,Vm(r),r))&&void 0!==s?s:r;ov(e,l,Vm(l,!0))}},ou=(e,t,i)=>{iu(e.childNodes,r=>{ru(r)&&(t(r)&&i(r),r.hasChildNodes()&&ou(r,t,i))})},lv=(e,t)=>i=>!(!i||!Tl(e,i,t)),cv=(e,t,i)=>r=>{var s,l;e.setStyle(r,t,i),""===r.getAttribute("style")&&r.removeAttribute("style"),s=e,"SPAN"===(l=r).nodeName&&0===s.getAttribs(l).length&&s.remove(l,!0)},or=mn([{keep:[]},{rename:["name"]},{removed:[]}]),iE=/^(src|href|style)$/,su=pe.each,ql=ih,dv=(e,t,i)=>e.isChildOf(t,i)&&t!==i&&!e.isBlock(i),hv=(e,t,i)=>{let r=t[i?"startContainer":"endContainer"],s=t[i?"startOffset":"endOffset"];if(Re(r)){const l=r.childNodes.length-1;!i&&s&&s--,r=r.childNodes[s>l?l:s]}return ve(r)&&i&&s>=r.data.length&&(r=new Dt(r,e.getBody()).next()||r),ve(r)&&!i&&0===s&&(r=new Dt(r,e.getBody()).prev()||r),r},uv=(e,t)=>{const i=t?"firstChild":"lastChild",r=e[i];return/^(TR|TH|TD)$/.test(e.nodeName)&&r?"TR"===e.nodeName&&r[i]||r:e},lu=(e,t,i,r)=>{var s;const l=e.create(i,r);return null===(s=t.parentNode)||void 0===s||s.insertBefore(l,t),l.appendChild(t),l},gv=(e,t,i,r,s)=>{const l=Q(t),h=Q(e.create(r,s)),u=i?rf(l):nf(l);return Di(h,u),i?(Ta(l,h),pf(h,l)):(oi(l,h),zt(h,l)),h.dom},fv=(e,t,i)=>{const r=t.parentNode;let s;const l=e.dom,h=Sa(e);var u;wn(i)&&r===l.getRoot()&&(i.list_block&&ql(t,i.list_block)||me(ta(t.childNodes),u=>{Xr(e,h,u.nodeName.toLowerCase())?s?s.appendChild(u):(s=lu(l,u,h),l.setAttribs(s,Uo(e))):s=null})),_a(u=i)&&Bt(u)&&It(pt(u,"mixed"),!0)&&!ql(i.inline,t)||l.remove(t,!0)},pv=(e,t,i)=>Na(e)?{name:t,value:null}:{name:e,value:xi(t,i)},mv=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},bv=(e,t,i,r,s)=>{let l=!1;su(i.styles,(h,u)=>{const{name:p,value:b}=pv(u,h,r),y=rh(b,p);(i.remove_similar||le(b)||!Re(s)||ql(Tl(e,s,p),y))&&e.setStyle(t,p,""),l=!0}),l&&mv(e,t)},xv=(e,t,i,r,s)=>{const l=e.dom,h=Wh(e),u=e.schema;if(Bt(t)&&sl(u,t.inline)&&_o(u,r)&&r.parentElement===e.getBody())return fv(e,r,t),or.removed();if(!t.ceFalseOverride&&r&&"false"===l.getContentEditableParent(r)||r&&!Ul(l,r,t)&&(!t.links||"A"!==r.nodeName))return or.keep();const p=r,b=t.preserve_attributes;if(Bt(t)&&"all"===t.remove&&Et(b)){const y=Ve(l.getAttribs(p),C=>st(b,C.name.toLowerCase()));if(l.removeAllAttribs(p),me(y,C=>l.setAttrib(p,C.name,C.value)),y.length>0)return or.rename("span")}if("all"!==t.remove){bv(l,p,t,i,s),su(t.attributes,(C,L)=>{const{name:R,value:A}=pv(L,C,i);if(t.remove_similar||le(A)||!Re(s)||ql(l.getAttrib(s,R),A)){if("class"===R){const P=l.getAttrib(p,R);if(P){let N="";if(me(P.split(/\s+/),O=>{/mce\-\w+/.test(O)&&(N+=(N?" ":"")+O)}),N)return void l.setAttrib(p,R,N)}}if(iE.test(R)&&p.removeAttribute("data-mce-"+R),"style"===R&&Za(["li"])(p)&&"none"===l.getStyle(p,"list-style-type"))return p.removeAttribute(R),void l.setStyle(p,"list-style-type","none");"class"===R&&p.removeAttribute("className"),p.removeAttribute(R)}}),su(t.classes,C=>{C=xi(C,i),Re(s)&&!l.hasClass(s,C)||l.removeClass(p,C)});const y=l.getAttribs(p);for(let C=0;C<y.length;C++)if(!h.isAttributeInternal(y[C].nodeName))return or.keep()}return"none"!==t.remove?(fv(e,p,t),or.removed()):or.keep()},fs=(e,t,i,r,s)=>xv(e,t,i,r,s).fold(vt,l=>(e.dom.rename(r,l),!0),Lt),rE=(e,t,i,r)=>xv(e,t,i,r,r).fold(Ae(r),s=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,s)),Ae(null)),vv=(e,t,i,r,s)=>{const l=e.formatter.get(t),h=l[0],u=e.dom,p=e.selection,b=A=>{const P=((N,O,M,B,Y)=>{let U;return O.parentNode&&me(Pl(N.dom,O.parentNode).reverse(),G=>{if(!U&&Re(G)&&"_start"!==G.id&&"_end"!==G.id){const Z=Cn(N,G,M,B,Y);Z&&!1!==Z.split&&(U=G)}}),U})(e,A,t,i,s);return((N,O,M,B,Y,U,G,Z)=>{var $,K;let te,ne;const se=N.dom;if(M){const re=M.parentNode;for(let he=B.parentNode;he&&he!==re;he=he.parentNode){let ke=se.clone(he,!1);for(let Se=0;Se<O.length&&(ke=rE(N,O[Se],Z,ke),null!==ke);Se++);ke&&(te&&ke.appendChild(te),ne||(ne=ke),te=ke)}G.mixed&&se.isBlock(M)||(B=null!==($=se.split(M,B))&&void 0!==$?$:B),te&&ne&&(null===(K=Y.parentNode)||void 0===K||K.insertBefore(te,Y),ne.appendChild(Y),Bt(G)&&sv(N,G,0,te))}return B})(e,l,P,A,A,0,h,i)},y=A=>mt(l,P=>fs(e,P,i,A,A)),C=A=>{const P=ta(A.childNodes),N=y(A)||mt(l,M=>Ul(u,A,M)),O=A.parentNode;if(!N&&Ce(O)&&sh(h)&&y(O),h.deep&&P.length)for(let M=0;M<P.length;M++)C(P[M]);me(["underline","line-through","overline"],M=>{Re(A)&&e.dom.getStyle(A,"text-decoration")===M&&A.parentNode&&Gm(u,A.parentNode)===M&&fs(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:M}},void 0,A)})},L=A=>{const P=u.get(A?"_start":"_end");if(P){let N=P[A?"firstChild":"lastChild"];return Ia(O=N)&&Re(O)&&("_start"===O.id||"_end"===O.id)&&(N=N[A?"firstChild":"lastChild"]),ve(N)&&0===N.data.length&&(N=A?P.previousSibling||P.nextSibling:P.nextSibling||P.previousSibling),u.remove(P,!0),N}var O;return null},R=A=>{let P,N,O=er(u,A,l,A.collapsed);if(h.split){if(O=Fl(O),P=hv(e,O,!0),N=hv(e,O),P!==N){if(P=uv(P,!0),N=uv(N,!1),dv(u,P,N)){const B=X.from(P.firstChild).getOr(P);return b(gv(u,B,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void L(!0)}if(dv(u,N,P)){const B=X.from(N.lastChild).getOr(N);return b(gv(u,B,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void L(!1)}P=lu(u,P,"span",{id:"_start","data-mce-type":"bookmark"}),N=lu(u,N,"span",{id:"_end","data-mce-type":"bookmark"});const M=u.createRng();M.setStartAfter(P),M.setEndBefore(N),as(u,M,B=>{me(B,Y=>{Ia(Y)||Ia(Y.parentNode)||b(Y)})}),b(P),b(N),P=L(!0),N=L()}else P=N=b(P);O.startContainer=P.parentNode?P.parentNode:P,O.startOffset=u.nodeIndex(P),O.endContainer=N.parentNode?N.parentNode:N,O.endOffset=u.nodeIndex(N)+1}as(u,O,M=>{me(M,C)})};if(r){if(Rl(r)){const A=u.createRng();A.setStartBefore(r),A.setEndAfter(r),R(A)}else R(r);lb(e,t,r,i)}else p.isCollapsed()&&Bt(h)&&!zr(e).length?((e,t,i,r)=>{const s=e.dom,l=e.selection;let h=!1;const u=e.formatter.get(t);if(!u)return;const p=l.getRng(),b=p.startContainer,y=p.startOffset;let C=b;ve(b)&&(y!==b.data.length&&(h=!0),C=C.parentNode);const L=[];let R;for(;C;){if(Cn(e,C,t,i,r)){R=C;break}C.nextSibling&&(h=!0),L.push(C),C=C.parentNode}if(R)if(h){const A=l.getBookmark();p.collapse(!0);let P=er(s,p,u,!0);P=Fl(P),e.formatter.remove(t,i,P,r),l.moveToBookmark(A)}else{const A=Qi(e.getBody(),R),P=tu(!1).dom;((M,B,Y)=>{var U,G;const Z=M.dom,$=Z.getParent(Y,Te(ah,M.schema));$&&Z.isEmpty($)?null===(U=Y.parentNode)||void 0===U||U.replaceChild(B,Y):((K=>{const te=ia(K,"br"),ne=Ve((se=>{const re=[];let he=se.dom;for(;he;)re.push(Q(he)),he=he.lastChild;return re})(K).slice(-1),Hi);te.length===ne.length&&me(ne,Ct)})(Q(Y)),Z.isEmpty(Y)?null===(G=Y.parentNode)||void 0===G||G.replaceChild(B,Y):Z.insertAfter(B,Y))})(e,P,A??R);const N=((M,B,Y,U,G,Z)=>{const $=M.formatter,K=M.dom,te=Ve(aa($.get()),se=>se!==U&&!Ft(se,"removeformat")),ne=(se=M,re=Y,la(te,(ke,Se)=>{const De=oh(se,Se,lt=>{const Me=qe=>nt(qe)||qe.length>1&&"%"===qe.charAt(0);return mt(["styles","attributes"],qe=>pt(lt,qe).exists(Ge=>{const J=Et(Ge)?Ge:gn(Ge);return mt(J,Me)}))});return se.formatter.matchNode(re,Se,{},De)?ke.concat([Se]):ke},[]));var se,re;if(Ve(ne,se=>!((re,he,ke)=>{const Se=["inline","block","selector","attributes","styles","classes"],De=Fe=>Pi(Fe,(et,lt)=>mt(Se,Me=>Me===lt));return oh(re,he,Fe=>{const et=De(Fe);return oh(re,ke,lt=>{const Me=De(lt);return((qe,Ge,J=Xe)=>so(J).eq(qe,Ge))(et,Me)})})})(M,se,U)).length>0){const se=Y.cloneNode(!1);return K.add(B,se),$.remove(U,G,se,Z),K.remove(se),X.some(se)}return X.none()})(e,P,R,t,i,r),O=Kx(L.concat(N.toArray()),P);A&&au(e,A,!1),l.setCursorLocation(O,1),s.isEmpty(R)&&s.remove(R)}})(e,t,i,s):(Wm(e,()=>eh(e,R),A=>Bt(h)&&eu(e,t,i,A)),e.nodeChanged()),A=e,N=i,"removeformat"===(P=t)?me(iv(A.selection),O=>{me(Jx,M=>A.dom.setStyle(O,M,"")),mv(A.dom,O)}):ev(A.formatter,P).each(O=>{me(iv(A.selection),M=>bv(A.dom,M,O,N,null))}),lb(e,t,r,i);var A,P,N},yv=pe.each,$l=pe.each,wv=(e,t,i,r)=>{if($l(i.styles,(s,l)=>{e.setStyle(t,l,xi(s,r))}),i.styles){const s=e.getAttrib(t,"style");s&&e.setAttrib(t,"data-mce-style",s)}},Cv=(e,t,i,r)=>{const s=e.formatter.get(t),l=s[0],h=!r&&e.selection.isCollapsed(),u=e.dom,p=e.selection,b=(A,P=l)=>{nt(P.onformat)&&P.onformat(A,P,i,r),wv(u,A,P,i),$l(P.attributes,(N,O)=>{u.setAttrib(A,O,xi(N,i))}),$l(P.classes,N=>{const O=xi(N,i);u.hasClass(A,O)||u.addClass(A,O)})},y=(A,P)=>{let N=!1;return $l(A,O=>!(!_a(O)||("false"!==u.getContentEditable(P)||O.ceFalseOverride)&&(!Ce(O.collapsed)||O.collapsed===h)&&u.is(P,O.selector)&&!tn(P)&&(b(P,O),N=!0,1))),N},L=(A,P,N)=>{const O=[];let M=!0;const B=l.inline||l.block,Y=(A=>{if(Ye(A)){const P=u.create(A);return b(P),P}return null})(B);as(A,P,U=>{let G;const Z=$=>{let K=!1,te=M,ne=!1;const se=$.parentNode,re=se.nodeName.toLowerCase(),he=A.getContentEditable($);Ce(he)&&(te=M,M="true"===he,K=!0,ne=jm(e,$));const ke=M&&!K;if(Tt($)&&!((Se,De,Fe,et)=>{if(Zk(Se)&&Bt(De)&&Fe.parentNode){const lt=ip(Se.schema),Me=((e,t)=>((i,r)=>{const s=i.dom;return s.parentNode?(l=Q(s.parentNode),Mt(l.dom.childNodes,u=>(l=>!it(i,l)&&r(l))(Q(u))).map(Q)):X.none();var l})(e,t).isSome())(Q(Fe),qe=>tn(qe.dom));return Dn(lt,et)&&Pt(Q(Fe.parentNode),!1)&&!Me}return!1})(e,l,$,re))return G=null,void(wn(l)&&A.remove($));if(Se=$,wn(De=l)&&!0===De.wrapper&&Cn(e,Se,t,i))G=null;else{if(((Se,De,Fe)=>{const et=wn(lt=l)&&!0!==lt.wrapper&&ah(e.schema,Se)&&Xr(e,De,B);var lt;return Fe&&et})($,re,ke)){const Se=A.rename($,B);return b(Se),O.push(Se),void(G=null)}if(_a(l)){let Se=y(s,$);if(!Se&&Ce(se)&&sh(l)&&(Se=y(s,se)),!Bt(l)||Se)return void(G=null)}Ce(Y)&&((Se,De,Fe,et)=>{const lt=Se.nodeName.toLowerCase(),Me=Xr(e,B,lt)&&Xr(e,De,B),qe=!N&&ve(Se)&&nl(Se.data),Ge=tn(Se),J=!Bt(l)||!A.isBlock(Se);return(Fe||et)&&Me&&!qe&&!Ge&&J})($,re,ke,ne)?(G||(G=A.clone(Y,!1),se.insertBefore(G,$),O.push(G)),ne&&K&&(M=te),G.appendChild($)):(G=null,me(ta($.childNodes),Z),K&&(M=te),G=null)}var Se,De};me(U,Z)}),!0===l.links&&me(O,U=>{const G=Z=>{"A"===Z.nodeName&&b(Z,l),me(ta(Z.childNodes),G)};G(U)}),me(O,U=>{const G=(Z=>{let $=0;return me(Z.childNodes,K=>{var te;Ce(te=K)&&ve(te)&&0===te.length||Ia(K)||$++}),$})(U);var Z;!(O.length>1)&&A.isBlock(U)||0!==G?(Bt(l)||wn(l)&&l.wrapper)&&(l.exact||1!==G||(U=Mt((Z=U).childNodes,th).filter(K=>"false"!==A.getContentEditable(K)&&Ul(A,K,l)).map(K=>{const te=A.clone(K,!1);return b(te),A.replace(te,Z,!0),A.remove(K,!0),te}).getOr(Z)),((Z,$,K,te)=>{yv($,ne=>{var se,re,he;Bt(ne)&&yv(Z.dom.select(ne.inline,te),se=>{ru(se)&&fs(Z,ne,K,se,ne.exact?se:null)}),se=Z.dom,he=te,(re=ne).clear_child_styles&&iu(se.select(re.links?"*:not(a)":"*",he),Se=>{ru(Se)&&Ji(Se)&&iu(re.styles,(De,Fe)=>{se.setStyle(Se,Fe,"")})})})})(e,s,i,U),((Z,$,K,te,ne)=>{const se=ne.parentNode;Cn(Z,se,K,te)&&fs(Z,$,te,ne)||$.merge_with_parents&&se&&Z.dom.getParent(se,re=>!!Cn(Z,re,K,te)&&(fs(Z,$,te,ne),!0))})(e,l,t,i,U),((Z,$,K,te)=>{if($.styles&&$.styles.backgroundColor){const ne=lv(Z,"fontSize");ou(te,se=>ne(se)&&Ji(se),cv(Z,"backgroundColor",xi($.styles.backgroundColor,K)))}})(A,l,i,U),((Z,$,K,te)=>{const ne=se=>{if(Re(se)&&Re(se.parentNode)&&Ji(se)){const re=Gm(Z,se.parentNode);Z.getStyle(se,"color")&&re?Z.setStyle(se,"text-decoration",re):Z.getStyle(se,"text-decoration")===re&&Z.setStyle(se,"text-decoration",null)}};$.styles&&($.styles.color||$.styles.textDecoration)&&(pe.walk(te,ne,"childNodes"),ne(te))})(A,l,0,U),((Z,$,K,te)=>{if(Bt($)&&("sub"===$.inline||"sup"===$.inline)){const ne=lv(Z,"fontSize");ou(te,re=>ne(re)&&Ji(re),cv(Z,"fontSize",""));const se=Ve(Z.select("sup"===$.inline?"sub":"sup",te),Ji);Z.remove(se,!0)}})(A,l,0,U),sv(e,l,0,U)):A.remove(U,!0)})},R=Rl(r)?r:p.getNode();if("false"===u.getContentEditable(R)&&!jm(e,R))return y(s,r=R),void sb(e,t,r,i);if(l){if(r)if(Rl(r)){if(!y(s,r)){const A=u.createRng();A.setStartBefore(r),A.setEndAfter(r),L(u,er(u,A,s),!0)}}else L(u,r,!0);else h&&Bt(l)&&!zr(e).length?((A,P,N)=>{let O;const M=A.selection,B=A.formatter.get(P);if(!B)return;const Y=M.getRng();let U=Y.startOffset;const G=Y.startContainer.nodeValue;O=Qi(A.getBody(),M.getStart());const Z=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(G&&U>0&&U<G.length&&Z.test(G.charAt(U))&&Z.test(G.charAt(U-1))){const te=M.getBookmark();Y.collapse(!0);let ne=er(A.dom,Y,B);ne=Fl(ne),A.formatter.apply(P,N,ne),M.moveToBookmark(te)}else{let te=O?$x(O):null;O&&"\ufeff"===te?.data||($=A.getDoc(),K=tu(!0).dom,O=$.importNode(K,!0),te=O.firstChild,Y.insertNode(O),U=1),A.formatter.apply(P,N,O),M.setCursorLocation(te,U)}var $,K})(e,t,i):(p.setRng(Uh(p.getRng())),Wm(e,()=>{eh(e,(A,P)=>{const N=P?A:er(u,A,s);L(u,N,!1)})},Lt),e.nodeChanged()),ev(e.formatter,t).each(A=>{var P;me(Ve((N=>{const O=N.getSelectedBlocks(),M=N.getRng();if(N.isCollapsed())return[];if(1===O.length)return tv(M,O[0])&&av(M,O[0])?O:[];{const B=ea(O).filter(G=>tv(M,G)).toArray(),Y=un(O).filter(G=>av(M,G)).toArray(),U=O.slice(1,-1);return B.concat(U).concat(Y)}})(P=e.selection),nv(P.dom)),P=>wv(u,P,A,i))});P=e,Ze(gs,A=t)&&me(gs[A],N=>{N(P)})}var A,P;sb(e,t,r,i)},kv=e=>Ze(e,"vars"),Sv=e=>e.selection.getStart(),Av=(e,t,i,r,s)=>Fs(t,l=>{const h=e.formatter.matchNode(l,i,s??{},r);return!ft(h)},l=>!!Gx(e,l,i)||!r&&Ce(e.formatter.matchNode(l,i,s,!0))),Ev=(e,t)=>{const i=t??Sv(e);return Ve(Pl(e.dom,i),r=>Re(r)&&!Xi(r))},Nv=(e,t,i)=>{const r=Ev(e,t);dt(i,(s,l)=>{const h=u=>{const p=Av(e,r,l,u.similar,kv(u)?u.vars:void 0),b=p.isSome();if(u.state.get()!==b){u.state.set(b);const y=p.getOr(t);kv(u)?u.callback(b,{node:y,format:l,parents:r}):me(u.callbacks,C=>C(b,{node:y,format:l,parents:r}))}};me([s.withSimilar,s.withoutSimilar],h),me(s.withVars,h)})};function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cu(e,t){return(cu=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,t)}function oE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function du(e,t,i){return(du=oE()?Reflect.construct:function(r,s,l){var h=[null];h.push.apply(h,s);var u=new(Function.bind.apply(r,h));return l&&cu(u,l.prototype),u}).apply(null,arguments)}function an(e){return function(t){if(Array.isArray(t))return hu(t)}(e)||function(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,i){if(t){if("string"==typeof t)return hu(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hu(t,i):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var sE=Object.hasOwnProperty,Lv=Object.setPrototypeOf,lE=Object.isFrozen,cE=Object.getPrototypeOf,dE=Object.getOwnPropertyDescriptor,xa=Object.freeze,kn=Object.seal,hE=Object.create,Rv=typeof Reflect<"u"&&Reflect,Zl=Rv.apply,uu=Rv.construct;Zl||(Zl=function(e,t,i){return e.apply(t,i)}),xa||(xa=function(e){return e}),kn||(kn=function(e){return e}),uu||(uu=function(e,t){return du(e,an(t))});var Tv,uE=nn(Array.prototype.forEach),gE=nn(Array.prototype.pop),ps=nn(Array.prototype.push),Kl=nn(String.prototype.toLowerCase),fE=nn(String.prototype.match),Si=nn(String.prototype.replace),pE=nn(String.prototype.indexOf),mE=nn(String.prototype.trim),va=nn(RegExp.prototype.test),gu=(Tv=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return uu(Tv,t)});function nn(e){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return Zl(e,t,r)}}function rt(e,t){Lv&&Lv(e,null);for(var i=t.length;i--;){var r=t[i];if("string"==typeof r){var s=Kl(r);s!==r&&(lE(t)||(t[i]=s),r=s)}e[r]=!0}return e}function lr(e){var t,i=hE(null);for(t in e)Zl(sE,e,[t])&&(i[t]=e[t]);return i}function Ql(e,t){for(;null!==e;){var i=dE(e,t);if(i){if(i.get)return nn(i.get);if("function"==typeof i.value)return nn(i.value)}e=cE(e)}return function(r){return console.warn("fallback value for",r),null}}var Pv=xa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fu=xa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pu=xa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bE=xa(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mu=xa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),xE=xa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ov=xa(["#text"]),Mv=xa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),bu=xa(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Iv=xa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jl=xa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vE=kn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yE=kn(/<%[\w\W]*|[\w\W]*%>/gm),wE=kn(/^data-[\-\w.\u00B7-\uFFFF]/),CE=kn(/^aria-[\-\w]+$/),kE=kn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SE=kn(/^(?:\w+script|data):/i),AE=kn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),EE=kn(/^html$/i),NE=function(){return typeof window>"u"?null:window},LE=function(e,t){if("object"!==sr(e)||"function"!=typeof e.createPolicy)return null;var i=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(i=t.currentScript.getAttribute(r));var s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},RE=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE(),i=function(ie){return e(ie)};if(i.version="2.3.8",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;var r=t.document,s=t.document,l=t.DocumentFragment,h=t.HTMLTemplateElement,u=t.Node,p=t.Element,b=t.NodeFilter,y=t.NamedNodeMap,C=void 0===y?t.NamedNodeMap||t.MozNamedAttrMap:y,L=t.HTMLFormElement,R=t.DOMParser,A=t.trustedTypes,P=p.prototype,N=Ql(P,"cloneNode"),O=Ql(P,"nextSibling"),M=Ql(P,"childNodes"),B=Ql(P,"parentNode");if("function"==typeof h){var Y=s.createElement("template");Y.content&&Y.content.ownerDocument&&(s=Y.content.ownerDocument)}var U=LE(A,r),G=U?U.createHTML(""):"",Z=s,$=Z.implementation,K=Z.createNodeIterator,te=Z.createDocumentFragment,ne=Z.getElementsByTagName,se=r.importNode,re={};try{re=lr(s).documentMode?s.documentMode:{}}catch{}var he={};i.isSupported="function"==typeof B&&$&&void 0!==$.createHTMLDocument&&9!==re;var ke,Se,De=vE,Fe=yE,et=wE,lt=CE,Me=SE,qe=AE,Ge=kE,J=null,ee=rt({},[].concat(an(Pv),an(fu),an(pu),an(mu),an(Ov))),de=null,ge=rt({},[].concat(an(Mv),an(bu),an(Iv),an(Jl))),ue=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fe=null,we=null,Ne=!0,Ie=!0,je=!1,Ue=!1,Ee=!1,$e=!1,Ot=!1,kt=!1,fa=!1,pa=!1,sn=!0,ja=!0,Ut=!1,ya={},Nt=null,Ln=rt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ei=null,Wc=rt({},["audio","video","img","source","image","track"]),Rn=null,Ms=rt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Aa="http://www.w3.org/1998/Math/MathML",Ni="http://www.w3.org/2000/svg",Ea="http://www.w3.org/1999/xhtml",fr=Ea,hC=!1,eT=["application/xhtml+xml","text/html"],tT="text/html",oo=null,aT=s.createElement("form"),uC=function(ie){return ie instanceof RegExp||ie instanceof Function},Wg=function(ie){oo&&oo===ie||(ie&&"object"===sr(ie)||(ie={}),ie=lr(ie),J="ALLOWED_TAGS"in ie?rt({},ie.ALLOWED_TAGS):ee,de="ALLOWED_ATTR"in ie?rt({},ie.ALLOWED_ATTR):ge,Rn="ADD_URI_SAFE_ATTR"in ie?rt(lr(Ms),ie.ADD_URI_SAFE_ATTR):Ms,Ei="ADD_DATA_URI_TAGS"in ie?rt(lr(Wc),ie.ADD_DATA_URI_TAGS):Wc,Nt="FORBID_CONTENTS"in ie?rt({},ie.FORBID_CONTENTS):Ln,fe="FORBID_TAGS"in ie?rt({},ie.FORBID_TAGS):{},we="FORBID_ATTR"in ie?rt({},ie.FORBID_ATTR):{},ya="USE_PROFILES"in ie&&ie.USE_PROFILES,Ne=!1!==ie.ALLOW_ARIA_ATTR,Ie=!1!==ie.ALLOW_DATA_ATTR,je=ie.ALLOW_UNKNOWN_PROTOCOLS||!1,Ue=ie.SAFE_FOR_TEMPLATES||!1,Ee=ie.WHOLE_DOCUMENT||!1,kt=ie.RETURN_DOM||!1,fa=ie.RETURN_DOM_FRAGMENT||!1,pa=ie.RETURN_TRUSTED_TYPE||!1,Ot=ie.FORCE_BODY||!1,sn=!1!==ie.SANITIZE_DOM,ja=!1!==ie.KEEP_CONTENT,Ut=ie.IN_PLACE||!1,Ge=ie.ALLOWED_URI_REGEXP||Ge,fr=ie.NAMESPACE||Ea,ie.CUSTOM_ELEMENT_HANDLING&&uC(ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&uC(ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ie.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ue.allowCustomizedBuiltInElements=ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke=ke=-1===eT.indexOf(ie.PARSER_MEDIA_TYPE)?tT:ie.PARSER_MEDIA_TYPE,Se="application/xhtml+xml"===ke?function(We){return We}:Kl,Ue&&(Ie=!1),fa&&(kt=!0),ya&&(J=rt({},an(Ov)),de=[],!0===ya.html&&(rt(J,Pv),rt(de,Mv)),!0===ya.svg&&(rt(J,fu),rt(de,bu),rt(de,Jl)),!0===ya.svgFilters&&(rt(J,pu),rt(de,bu),rt(de,Jl)),!0===ya.mathMl&&(rt(J,mu),rt(de,Iv),rt(de,Jl))),ie.ADD_TAGS&&(J===ee&&(J=lr(J)),rt(J,ie.ADD_TAGS)),ie.ADD_ATTR&&(de===ge&&(de=lr(de)),rt(de,ie.ADD_ATTR)),ie.ADD_URI_SAFE_ATTR&&rt(Rn,ie.ADD_URI_SAFE_ATTR),ie.FORBID_CONTENTS&&(Nt===Ln&&(Nt=lr(Nt)),rt(Nt,ie.FORBID_CONTENTS)),ja&&(J["#text"]=!0),Ee&&rt(J,["html","head","body"]),J.table&&(rt(J,["tbody"]),delete fe.tbody),xa&&xa(ie),oo=ie)},gC=rt({},["mi","mo","mn","ms","mtext"]),fC=rt({},["foreignobject","desc","title","annotation-xml"]),nT=rt({},["title","style","font","a","script"]),Vc=rt({},fu);rt(Vc,pu),rt(Vc,bE);var Vg=rt({},mu);rt(Vg,xE);var iT=function(ie){var We=B(ie);We&&We.tagName||(We={namespaceURI:Ea,tagName:"template"});var Be=Kl(ie.tagName),At=Kl(We.tagName);return ie.namespaceURI===Ni?We.namespaceURI===Ea?"svg"===Be:We.namespaceURI===Aa?"svg"===Be&&("annotation-xml"===At||gC[At]):Boolean(Vc[Be]):ie.namespaceURI===Aa?We.namespaceURI===Ea?"math"===Be:We.namespaceURI===Ni?"math"===Be&&fC[At]:Boolean(Vg[Be]):ie.namespaceURI===Ea&&!(We.namespaceURI===Ni&&!fC[At])&&!(We.namespaceURI===Aa&&!gC[At])&&!Vg[Be]&&(nT[Be]||!Vc[Be])},Un=function(ie){ps(i.removed,{element:ie});try{ie.parentNode.removeChild(ie)}catch{try{ie.outerHTML=G}catch{ie.remove()}}},jc=function(ie,We){try{ps(i.removed,{attribute:We.getAttributeNode(ie),from:We})}catch{ps(i.removed,{attribute:null,from:We})}if(We.removeAttribute(ie),"is"===ie&&!de[ie])if(kt||fa)try{Un(We)}catch{}else try{We.setAttribute(ie,"")}catch{}},pC=function(ie){var We,Be;if(Ot)ie="<remove></remove>"+ie;else{var At=fE(ie,/^[\r\n\t ]+/);Be=At&&At[0]}"application/xhtml+xml"===ke&&(ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ie+"</body></html>");var Yt=U?U.createHTML(ie):ie;if(fr===Ea)try{We=(new R).parseFromString(Yt,ke)}catch{}if(!We||!We.documentElement){We=$.createDocument(fr,"template",null);try{We.documentElement.innerHTML=hC?"":Yt}catch{}}var wa=We.body||We.documentElement;return ie&&Be&&wa.insertBefore(s.createTextNode(Be),wa.childNodes[0]||null),fr===Ea?ne.call(We,Ee?"html":"body")[0]:Ee?We.documentElement:wa},mC=function(ie){return K.call(ie.ownerDocument||ie,ie,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},rT=function(ie){return ie instanceof L&&("string"!=typeof ie.nodeName||"string"!=typeof ie.textContent||"function"!=typeof ie.removeChild||!(ie.attributes instanceof C)||"function"!=typeof ie.removeAttribute||"function"!=typeof ie.setAttribute||"string"!=typeof ie.namespaceURI||"function"!=typeof ie.insertBefore)},Is=function(ie){return"object"===sr(u)?ie instanceof u:ie&&"object"===sr(ie)&&"number"==typeof ie.nodeType&&"string"==typeof ie.nodeName},qn=function(ie,We,Be){he[ie]&&uE(he[ie],function(At){At.call(i,We,Be,oo)})},bC=function(ie){var We;if(qn("beforeSanitizeElements",ie,null),rT(ie)||va(/[\u0080-\uFFFF]/,ie.nodeName))return Un(ie),!0;var Be=Se(ie.nodeName);if(qn("uponSanitizeElement",ie,{tagName:Be,allowedTags:J}),ie.hasChildNodes()&&!Is(ie.firstElementChild)&&(!Is(ie.content)||!Is(ie.content.firstElementChild))&&va(/<[/\w]/g,ie.innerHTML)&&va(/<[/\w]/g,ie.textContent)||"select"===Be&&va(/<template/i,ie.innerHTML))return Un(ie),!0;if(!J[Be]||fe[Be]){if(!fe[Be]&&vC(Be)&&(ue.tagNameCheck instanceof RegExp&&va(ue.tagNameCheck,Be)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(Be)))return!1;if(ja&&!Nt[Be]){var At=B(ie)||ie.parentNode,Yt=M(ie)||ie.childNodes;if(Yt&&At)for(var wa=Yt.length-1;wa>=0;--wa)At.insertBefore(N(Yt[wa],!0),O(ie))}return Un(ie),!0}return ie instanceof p&&!iT(ie)?(Un(ie),!0):"noscript"!==Be&&"noembed"!==Be||!va(/<\/no(script|embed)/i,ie.innerHTML)?(Ue&&3===ie.nodeType&&(We=Si(We=ie.textContent,De," "),We=Si(We,Fe," "),ie.textContent!==We&&(ps(i.removed,{element:ie.cloneNode()}),ie.textContent=We)),qn("afterSanitizeElements",ie,null),!1):(Un(ie),!0)},xC=function(ie,We,Be){if(sn&&("id"===We||"name"===We)&&(Be in s||Be in aT))return!1;if((!Ie||we[We]||!va(et,We))&&(!Ne||!va(lt,We)))if(!de[We]||we[We]){if(!(vC(ie)&&(ue.tagNameCheck instanceof RegExp&&va(ue.tagNameCheck,ie)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(ie))&&(ue.attributeNameCheck instanceof RegExp&&va(ue.attributeNameCheck,We)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(We))||"is"===We&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&va(ue.tagNameCheck,Be)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(Be))))return!1}else if(!Rn[We]&&!va(Ge,Si(Be,qe,""))&&("src"!==We&&"xlink:href"!==We&&"href"!==We||"script"===ie||0!==pE(Be,"data:")||!Ei[ie])&&(!je||va(Me,Si(Be,qe,"")))&&Be)return!1;return!0},vC=function(ie){return ie.indexOf("-")>0},yC=function(ie){var We,Be,At,Yt;qn("beforeSanitizeAttributes",ie,null);var wa=ie.attributes;if(wa){var sa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:de};for(Yt=wa.length;Yt--;){var _s=We=wa[Yt],Tn=_s.name,ln=_s.namespaceURI;Be="value"===Tn?We.value:mE(We.value),At=Se(Tn);var sT=Be;if(sa.attrName=At,sa.attrValue=Be,sa.keepAttr=!0,sa.forceKeepAttr=void 0,qn("uponSanitizeAttribute",ie,sa),Be=sa.attrValue,!sa.forceKeepAttr)if(sa.keepAttr)if(va(/\/>/i,Be))jc(Tn,ie);else{Ue&&(Be=Si(Be,De," "),Be=Si(Be,Fe," "));var lT=Se(ie.nodeName);if(xC(lT,At,Be)){if(Be!==sT)try{ln?ie.setAttributeNS(ln,Tn,Be):ie.setAttribute(Tn,Be)}catch{jc(Tn,ie)}}else jc(Tn,ie)}else jc(Tn,ie)}qn("afterSanitizeAttributes",ie,null)}},oT=function ie(We){var Be,At=mC(We);for(qn("beforeSanitizeShadowDOM",We,null);Be=At.nextNode();)qn("uponSanitizeShadowNode",Be,null),bC(Be)||(Be.content instanceof l&&ie(Be.content),yC(Be));qn("afterSanitizeShadowDOM",We,null)};return i.sanitize=function(ie,We){var Be,At,Yt,wa,sa;if((hC=!ie)&&(ie="\x3c!--\x3e"),"string"!=typeof ie&&!Is(ie)){if("function"!=typeof ie.toString)throw gu("toString is not a function");if("string"!=typeof(ie=ie.toString()))throw gu("dirty is not a string, aborting")}if(!i.isSupported){if("object"===sr(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof ie)return t.toStaticHTML(ie);if(Is(ie))return t.toStaticHTML(ie.outerHTML)}return ie}if($e||Wg(We),i.removed=[],"string"==typeof ie&&(Ut=!1),Ut){if(ie.nodeName){var _s=Se(ie.nodeName);if(!J[_s]||fe[_s])throw gu("root node is forbidden and cannot be sanitized in-place")}}else if(ie instanceof u)1===(At=(Be=pC("\x3c!----\x3e")).ownerDocument.importNode(ie,!0)).nodeType&&"BODY"===At.nodeName||"HTML"===At.nodeName?Be=At:Be.appendChild(At);else{if(!kt&&!Ue&&!Ee&&-1===ie.indexOf("<"))return U&&pa?U.createHTML(ie):ie;if(!(Be=pC(ie)))return kt?null:pa?G:""}Be&&Ot&&Un(Be.firstChild);for(var Tn=mC(Ut?ie:Be);Yt=Tn.nextNode();)3===Yt.nodeType&&Yt===wa||bC(Yt)||(Yt.content instanceof l&&oT(Yt.content),yC(Yt),wa=Yt);if(wa=null,Ut)return ie;if(kt){if(fa)for(sa=te.call(Be.ownerDocument);Be.firstChild;)sa.appendChild(Be.firstChild);else sa=Be;return de.shadowroot&&(sa=se.call(r,sa,!0)),sa}var ln=Ee?Be.outerHTML:Be.innerHTML;return Ee&&J["!doctype"]&&Be.ownerDocument&&Be.ownerDocument.doctype&&Be.ownerDocument.doctype.name&&va(EE,Be.ownerDocument.doctype.name)&&(ln="<!DOCTYPE "+Be.ownerDocument.doctype.name+">\n"+ln),Ue&&(ln=Si(ln,De," "),ln=Si(ln,Fe," ")),U&&pa?U.createHTML(ln):ln},i.setConfig=function(ie){Wg(ie),$e=!0},i.clearConfig=function(){oo=null,$e=!1},i.isValidAttribute=function(ie,We,Be){oo||Wg({});var At=Se(ie),Yt=Se(We);return xC(At,Yt,Be)},i.addHook=function(ie,We){"function"==typeof We&&(he[ie]=he[ie]||[],ps(he[ie],We))},i.removeHook=function(ie){if(he[ie])return gE(he[ie])},i.removeHooks=function(ie){he[ie]&&(he[ie]=[])},i.removeAllHooks=function(){he={}},i}();const _v=pe.explode,Dv=()=>{const e={};return{addFilter:(t,i)=>{me(_v(t),r=>{Ze(e,r)||(e[r]={name:r,callbacks:[]}),e[r].callbacks.push(i)})},getFilters:()=>gn(e),removeFilter:(t,i)=>{me(_v(t),r=>{if(Ze(e,r))if(Ce(i)){const s=e[r],l=Ve(s.callbacks,h=>h!==i);l.length>0?s.callbacks=l:delete e[r]}else delete e[r]})}}},xu=e=>{const[t,...i]=e.split(","),r=i.join(","),s=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(s){const l=";base64"===s[2],h=l?(u=>{const p=/([a-z0-9+\/=\s]+)/i.exec(u);return p?p[1]:""})(r):decodeURIComponent(r);return X.some({type:s[1],data:h,base64Encoded:l})}return X.none()},Bv=(e,t,i=!0)=>{let r=t;if(i)try{r=atob(t)}catch{return X.none()}const s=new Uint8Array(r.length);for(let l=0;l<s.length;l++)s[l]=r.charCodeAt(l);return X.some(new Blob([s],{type:e}))},Fv=e=>new Promise((t,i)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var s;i(null===(s=r.error)||void 0===s?void 0:s.message)},r.readAsDataURL(e)});let PE=0;const zv=(e,t,i)=>xu(e).bind(({data:r,type:s,base64Encoded:l})=>{if(t&&!l)return X.none();{const h=l?r:btoa(r);return i(h,s)}}),Xv=(e,t,i)=>{const r=e.create("blobid"+PE++,t,i);return e.add(r),r},Hv=(e,t,i=!1)=>zv(t,i,(r,s)=>X.from(e.getByData(r,s)).orThunk(()=>Bv(s,r).map(l=>Xv(e,l,r)))),Yv=pe.each,OE=pe.trim,ME=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],IE={ftp:21,http:80,https:443,mailto:25},_E=["img","video"],Wv=(e,t,i)=>{const r=(s=>{try{return decodeURIComponent(s)}catch{return unescape(s)}})(t);return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!e.allow_html_data_urls&&(/^data:image\//i.test(r)?(l=i,(Ce(s=e.allow_svg_data_urls)?!s:!Ce(l)||!st(_E,l))&&/^data:image\/svg\+xml/i.test(r)):/^data:/i.test(r)));var s,l};class rn{constructor(t,i={}){this.path="",this.directory="",t=OE(t),this.settings=i;const r=i.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(s.source=t);const l=0===t.indexOf("//");if(0!==t.indexOf("/")||l||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const u=r?r.path:new rn(document.location.href).directory;if(""===r?.protocol)t="//mce_host"+s.toAbsPath(u,t);else{const p=/([^#?]*)([#?]?.*)/.exec(t);p&&(t=(r&&r.protocol||"http")+"://mce_host"+s.toAbsPath(u,p[1])+p[2])}}t=t.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);h&&Yv(ME,(u,p)=>{let b=h[p];b&&(b=b.replace(/\(mce_at\)/g,"@@")),s[u]=b}),r&&(s.protocol||(s.protocol=r.protocol),s.userInfo||(s.userInfo=r.userInfo),s.port||"mce_host"!==s.host||(s.port=r.port),s.host&&"mce_host"!==s.host||(s.host=r.host),s.source=""),l&&(s.protocol="")}static parseDataUri(t){let i;const r=decodeURIComponent(t).split(","),s=/data:([^;]+)/.exec(r[0]);return s&&(i=s[1]),{type:i,data:r[1]}}static isDomSafe(t,i,r={}){if(r.allow_script_urls)return!0;{const s=ui.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Wv(r,s,i)}}static getDocumentBaseUrl(t){var i;let r;return r=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?null!==(i=t.href)&&void 0!==i?i:"":t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}setPath(t){const i=/^(.*?)\/?(\w+)?$/.exec(t);i&&(this.path=i[0],this.directory=i[1],this.file=i[2]),this.source="",this.getURI()}toRelative(t){if("./"===t)return t;const i=new rn(t,{base_uri:this});if("mce_host"!==i.host&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&""!==i.protocol)return i.getURI();const r=this.getURI(),s=i.getURI();if(r===s||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===s)return r;let l=this.toRelPath(this.path,i.path);return i.query&&(l+="?"+i.query),i.anchor&&(l+="#"+i.anchor),l}toAbsolute(t,i){const r=new rn(t,{base_uri:this});return r.getURI(i&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const i=this.protocol?IE[this.protocol]:null;if(i&&(this.port||i)==(t.port||i))return!0}return!1}toRelPath(t,i){let r,s,l=0,h="";const u=t.substring(0,t.lastIndexOf("/")).split("/"),p=i.split("/");if(u.length>=p.length)for(r=0,s=u.length;r<s;r++)if(r>=p.length||u[r]!==p[r]){l=r+1;break}if(u.length<p.length)for(r=0,s=p.length;r<s;r++)if(r>=u.length||u[r]!==p[r]){l=r+1;break}if(1===l)return i;for(r=0,s=u.length-(l-1);r<s;r++)h+="../";for(r=l-1,s=p.length;r<s;r++)h+=r!==l-1?"/"+p[r]:p[r];return h}toAbsPath(t,i){let r=0;const s=/\/$/.test(i)?"/":"",l=t.split("/"),h=i.split("/"),u=[];Yv(l,C=>{C&&u.push(C)});const p=[];for(let C=h.length-1;C>=0;C--)0!==h[C].length&&"."!==h[C]&&(".."!==h[C]?r>0?r--:p.push(h[C]):r++);const b=u.length-r;let y;return y=b<=0?Ti(p).join("/"):u.slice(0,b).join("/")+"/"+Ti(p).join("/"),0!==y.indexOf("/")&&(y="/"+y),s&&y.lastIndexOf("/")!==y.length-1&&(y+=s),y}getURI(t=!1){let i;return this.source&&!t||(i="",t||(i+=this.protocol?this.protocol+"://":"//",this.userInfo&&(i+=this.userInfo+"@"),this.host&&(i+=this.host),this.port&&(i+=":"+this.port)),this.path&&(i+=this.path),this.query&&(i+="?"+this.query),this.anchor&&(i+="#"+this.anchor),this.source=i),this.source}}const Vv=pe.makeMap,jv=pe.extend,DE={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},BE=pe.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),vu="data-mce-type",Gv=(e,t,i)=>{const r=e.name,s=r in i&&"title"!==r&&"textarea"!==r,l=t.childNodes;for(let h=0,u=l.length;h<u;h++){const p=l[h],b=new ua(p.nodeName.toLowerCase(),p.nodeType);if(Re(p)){const y=p.attributes;for(let C=0,L=y.length;C<L;C++){const R=y[C];b.attr(R.name,R.value)}}else ve(p)?(b.value=p.data,s&&(b.raw=!0)):(ci(p)||RC(p)||TC(p))&&(b.value=p.data);Gv(b,p,i),e.append(b)}},jr=(e={},t=gi())=>{const i=Dv(),r=Dv(),s={validate:!0,root_name:"body",...e},l=new DOMParser,h=((e,t)=>{const i=RE(),r=t.getSpecialElements(),s=e.validate;let l=0;return i.addHook("uponSanitizeElement",(h,u)=>{var p,b,y;8===h.nodeType&&!e.allow_conditional_comments&&/^\[if/i.test(null!==(p=h.nodeValue)&&void 0!==p?p:"")&&(h.nodeValue=" "+h.nodeValue);const C=u.tagName;if(1!==h.nodeType||"body"===C)return;const L=Q(h),R=C.toLowerCase(),A=js(L,vu),P=Ya(L,"data-mce-bogus");if(!A&&Ye(P))return void("all"===P?Ct(L):si(L));const N=t.getElementRule(R);if(!s||N){if(u.allowedTags[C]=!0,s&&N&&!A){if(me(null!==(b=N.attributesForced)&&void 0!==b?b:[],O=>{Vt(L,O.name,"{$uid}"===O.value?"mce_"+l++:O.value)}),me(null!==(y=N.attributesDefault)&&void 0!==y?y:[],O=>{js(L,O.name)||Vt(L,O.name,"{$uid}"===O.value?"mce_"+l++:O.value)}),N.attributesRequired&&!mt(N.attributesRequired,O=>js(L,O))||N.removeEmptyAttrs&&(O=>{const M=O.dom.attributes;return null==M||0===M.length})(L))return void si(L);N.outputName&&N.outputName!==R&&((O,M)=>{const B=((U,G)=>{const Z=jt(G),$=Ug(U);return ii(Z,$),Z})(O,M);oi(O,B);const Y=Zt(O);Di(B,Y),Ct(O)})(L,N.outputName)}}else Ze(r,R)?Ct(L):si(L)}),i.addHook("uponSanitizeAttribute",(h,u)=>{const p=h.tagName.toLowerCase(),{attrName:b,attrValue:y}=u;u.keepAttr=!s||t.isValid(p,b)||_t(b,"data-")||_t(b,"aria-"),b in BE&&Wv(e,y,p)&&(u.keepAttr=!1),u.keepAttr?(u.allowedAttributes[b]=!0,b in t.getBoolAttrs()&&(u.attrValue=b),e.allow_svg_data_urls&&_t(y,"data:image/svg+xml")&&(u.forceKeepAttr=!0)):!h.hasAttribute(vu)||"id"!==b&&"class"!==b&&"style"!==b||(u.forceKeepAttr=!0)}),i})(s,t),p=i.getFilters,C=r.getFilters,R=(P,N)=>{const O=Ye(N.attr(vu)),M=!(1!==N.type||Ze(P,N.name)||(B=t,Y=N,1===Y.type&&sl(B,Y.name)&&Ye(Y.attr(Io))));var B,Y;return 3===N.type||M&&!O},A={schema:t,addAttributeFilter:r.addFilter,getAttributeFilters:C,removeAttributeFilter:r.removeFilter,addNodeFilter:i.addFilter,getNodeFilters:p,removeNodeFilter:i.removeFilter,parse:(P,N={})=>{var O;const M=s.validate,B=null!==(O=N.context)&&void 0!==O?O:s.root_name,Y=((re,he,ke="html")=>{const Se="xhtml"===ke?"application/xhtml+xml":"text/html",De=Ze(t.getSpecialElements(),he.toLowerCase()),Fe=De?`<${he}>${re}</${he}>`:re,lt=l.parseFromString("xhtml"===ke?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Fe}</body></html>`:`<body>${Fe}</body>`,Se).body;return h.sanitize(lt,((Me,qe)=>{const Ge={...DE};return Ge.PARSER_MEDIA_TYPE=qe,Me.allow_script_urls?Ge.ALLOWED_URI_REGEXP=/.*/:Me.allow_html_data_urls&&(Ge.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),Ge})(s,Se)),h.removed=[],De?lt.firstChild:lt})(P,B,N.format);fd(t,Y);const U=new ua(B,11);Gv(U,Y,t.getSpecialElements()),Y.innerHTML="";const[G,Z]=((re,he,ke,Se)=>{const De=ke.validate,Fe=he.getNonEmptyElements(),et=he.getWhitespaceElements(),lt=jv(Vv("script,style,head,html,body,title,meta,param"),he.getBlockElements()),Me=ip(he),qe=/[ \t\r\n]+/g,Ge=/^[ \t\r\n]+/,J=/[ \t\r\n]+$/,ee=ue=>{let fe=ue.parent;for(;Ce(fe);){if(fe.name in et)return!0;fe=fe.parent}return!1},de=ue=>ue.name in lt&&!Gf(he,ue),ge=(ue,fe)=>!Ce(fe?ue.prev:ue.next)&&!be(ue.parent)&&de(ue.parent)&&(ue.parent!==re||!0===Se.isRootContent);return[ue=>{var fe,Ne,Ie;if(3===ue.type&&!ee(ue)){let we=null!==(fe=ue.value)&&void 0!==fe?fe:"";we=we.replace(qe," "),Ie=de,(Ce(Ne=ue.prev)&&(Ie(Ne)||"br"===Ne.name)||ge(ue,!0))&&(we=we.replace(Ge,"")),0===we.length?ue.remove():ue.value=we}},ue=>{var fe,Ie,je;if(1===ue.type){const we=he.getElementRule(ue.name);if(De&&we){const Ne=us(he,Fe,et,ue);we.paddInEmptyBlock&&Ne&&(Ie=>{let je=Ie;for(;Ce(je);){if(je.name in Me)return us(he,Fe,et,je);je=je.parent}return!1})(ue)?Vh(Se,de,ue):we.removeEmpty&&Ne?de(ue)?ue.remove():ue.unwrap():we.paddEmpty&&(Ne||Yx(Ie=ue,"#text")&&(null===(je=Ie?.firstChild)||void 0===je?void 0:je.value)===Gt)&&Vh(Se,de,ue)}}else if(3===ue.type&&!ee(ue)){let we=null!==(fe=ue.value)&&void 0!==fe?fe:"";(ue.next&&de(ue.next)||ge(ue,!1))&&(we=we.replace(J,"")),0===we.length?ue.remove():ue.value=we}}]})(U,t,s,N),$=[],te={nodes:{},attributes:{}},ne=re=>zx(p(),C(),re,te);if(((re,he,ke)=>{const Se=[];for(let De=re,Fe=De;De;Fe=De,De=De.walk()){const et=De;me(he,lt=>lt(et)),be(et.parent)&&et!==re?De=Fe:Se.push(et)}for(let De=Se.length-1;De>=0;De--){const Fe=Se[De];me(ke,et=>et(Fe))}})(U,[G,ne],[Z,M?re=>{return ke=$,void(Wx(t,he=re)&&ke.push(he));var he,ke}:Qe]),$.reverse(),M&&$.length>0)if(N.context){const{pass:re,fail:he}=Ha($,ke=>ke.parent===U);Gh(he,t,ne),N.invalid=re.length>0}else Gh($,t,ne);const se=((re,he)=>{var ke;const Se=null!==(ke=he.forced_root_block)&&void 0!==ke?ke:re.forced_root_block;return!1===Se?"":!0===Se?"p":Se})(s,N);return se&&("body"===U.name||N.isRootContent)&&((re,he)=>{const ke=jv(Vv("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Se=/^[ \t\r\n]+/,De=/[ \t\r\n]+$/;let Fe=re.firstChild,et=null;const lt=Me=>{var qe,Ge;Me&&(Fe=Me.firstChild,Fe&&3===Fe.type&&(Fe.value=null===(qe=Fe.value)||void 0===qe?void 0:qe.replace(Se,"")),Fe=Me.lastChild,Fe&&3===Fe.type&&(Fe.value=null===(Ge=Fe.value)||void 0===Ge?void 0:Ge.replace(De,"")))};if(t.isValidChild(re.name,he.toLowerCase())){for(;Fe;){const Me=Fe.next;R(ke,Fe)?(et||(et=new ua(he,1),et.attr(s.forced_root_block_attrs),re.insert(et,Fe)),et.append(Fe)):(lt(et),et=null),Fe=Me}lt(et)}})(U,se),N.invalid||Xx(te,N),U}};return((P,N)=>{const O=P.schema;N.remove_trailing_brs&&P.addNodeFilter("br",(B,Y,U)=>{const G=pe.extend({},O.getBlockElements()),Z=O.getNonEmptyElements(),$=O.getWhitespaceElements();G.body=1;const K=te=>te.name in G&&Gf(O,te);for(let te=0,ne=B.length;te<ne;te++){let se=B[te],re=se.parent;if(re&&G[re.name]&&se===re.lastChild){let he=se.prev;for(;he;){const ke=he.name;if("span"!==ke||"bookmark"!==he.attr("data-mce-type")){"br"===ke&&(se=null);break}he=he.prev}if(se&&(se.remove(),us(O,Z,$,re))){const ke=O.getElementRule(re.name);ke&&(ke.removeEmpty?re.remove():ke.paddEmpty&&Vh(U,K,re))}}else{let he=se;for(;re&&re.firstChild===he&&re.lastChild===he&&(he=re,!G[re.name]);)re=re.parent;if(he===re){const ke=new ua("#text",3);ke.value=Gt,se.replace(ke)}}}}),P.addAttributeFilter("href",B=>{let Y=B.length;const U=G=>{const Z=G?pe.trim(G):"";return/\b(noopener)\b/g.test(Z)?Z:Z.split(" ").filter(K=>K.length>0).concat(["noopener"]).sort().join(" ")};if(!N.allow_unsafe_link_target)for(;Y--;){const G=B[Y];"a"===G.name&&"_blank"===G.attr("target")&&G.attr("rel",U(G.attr("rel")))}}),N.allow_html_in_named_anchor||P.addAttributeFilter("id,name",B=>{let Y,U,G,Z,$=B.length;for(;$--;)if(Z=B[$],"a"===Z.name&&Z.firstChild&&!Z.attr("href"))for(G=Z.parent,Y=Z.lastChild;Y&&G;)U=Y.prev,G.insert(Y,Z),Y=U}),N.fix_list_elements&&P.addNodeFilter("ul,ol",B=>{let Y,U,G=B.length;for(;G--;)if(Y=B[G],U=Y.parent,U&&("ul"===U.name||"ol"===U.name))if(Y.prev&&"li"===Y.prev.name)Y.prev.append(Y);else{const Z=new ua("li",1);Z.attr("style","list-style-type: none"),Y.wrap(Z)}});const M=O.getValidClasses();N.validate&&M&&P.addAttributeFilter("class",B=>{var Y;let U=B.length;for(;U--;){const G=B[U],Z=null!==(Y=G.attr("class"))&&void 0!==Y?Y:"",$=pe.explode(Z," ");let K="";for(let te=0;te<$.length;te++){const ne=$[te];let se=!1,re=M["*"];re&&re[ne]&&(se=!0),re=M[G.name],!se&&re&&re[ne]&&(se=!0),se&&(K&&(K+=" "),K+=ne)}K.length||(K=null),G.attr("class",K)}}),((B,Y)=>{const{blob_cache:U}=Y;if(U){const G=Z=>{const $=Z.attr("src");var K;(K=Z).attr("src")===at.transparentSrc||Ce(K.attr("data-mce-placeholder"))||(K=>Ce(K.attr("data-mce-bogus")))(Z)||be($)||Hv(U,$,!0).each(K=>{Z.attr("src",K.blobUri())})};B.addAttributeFilter("src",Z=>me(Z,G))}})(P,N)})(A,s),(N=s).inline_styles&&((e,t,i)=>{var r;const s=yd();var l,h,u;t.convert_fonts_to_spans&&(l=e,h=s,u=pe.explode(null!==(r=t.font_size_legacy_values)&&void 0!==r?r:""),l.addNodeFilter("font",p=>{me(p,b=>{const y=h.parse(b.attr("style")),C=b.attr("color"),L=b.attr("face"),R=b.attr("size");var A;C&&(y.color=C),L&&(y["font-family"]=L),R&&d(R).each(A=>{y["font-size"]=u[A-1]}),b.name="span",b.attr("style",h.serialize(y)),A=b,me(["color","face","size"],N=>{A.attr(N,null)})})})),((l,h,u)=>{l.addNodeFilter("strike",p=>{const b="html4"!==h.type;me(p,y=>{if(b)y.name="s";else{const C=u.parse(y.attr("style"));C["text-decoration"]="line-through",y.name="span",y.attr("style",u.serialize(C))}})})})(e,i,s)})(A,N,t),A;var N},Uv=(e,t)=>{const i=Gl(s=e)?vi({validate:!1}).serialize(s):s,r=t(i);var s;if(r.isDefaultPrevented())return r;if(Gl(e)){if(r.content!==i){const s=jr({validate:!1,forced_root_block:!1}).parse(r.content,{context:e.name});return{...r,content:s}}return{...r,content:e}}return r},qv=(e,t)=>{if(t.no_events)return da.value(t);{const i=e.dispatch("BeforeGetContent",t);return i.isDefaultPrevented()?da.error(db(e,{content:"",...i}).content):da.value(i)}},$v=(e,t,i)=>i.no_events?t:Uv(t,r=>db(e,{...i,content:r})).content,yu=(e,t)=>{if(t.no_events)return da.value(t);{const i=Uv(t.content,r=>{return s=e,l={...t,content:r},s.dispatch("BeforeSetContent",l);var s,l});return i.isDefaultPrevented()?(cb(e,i),da.error(void 0)):da.value(i)}},wu=(e,t,i)=>{i.no_events||cb(e,{...i,content:t})},Cu=(e,t,i)=>({element:e,width:t,rows:i}),Zv=(e,t)=>({element:e,cells:t}),zE=(e,t)=>({x:e,y:t}),Kv=(e,t)=>Bn(e,t).bind(d).getOr(1),XE=(e,t,i)=>{const r=e.rows;return!!(r[i]?r[i].cells:[])[t]},Qv=e=>la(e,(t,i)=>i.cells.length>t?i.cells.length:t,0),Jv=(e,t)=>{const i=e.rows;for(let r=0;r<i.length;r++){const s=i[r].cells;for(let l=0;l<s.length;l++)if(it(s[l],t))return X.some(zE(l,r))}return X.none()},ey=(e,t,i,r,s)=>{const l=[],h=e.rows;for(let u=i;u<=s;u++){const p=h[u].cells,b=t<r?p.slice(t,r+1):p.slice(r,t+1);l.push(Zv(h[u].element,b))}return l},HE=e=>((t,i)=>{const r=Or(t.element),s=jt("tbody");return Di(s,i),zt(r,s),r})(e,tt(e.rows,i=>{const r=tt(i.cells,l=>{const h=xp(l);return $t(h,"colspan"),$t(h,"rowspan"),h}),s=Or(i.element);return Di(s,r),s})),ty=()=>hh([]),ec=(e,t)=>t>=0&&t<e.length&&Fr(e.charAt(t)),ay=e=>Hn(e.innerText),ny=e=>Re(e)?e.outerHTML:ve(e)?ui.encodeRaw(e.data,!1):ci(e)?"\x3c!--"+e.data+"--\x3e":"",GE=La(()=>document.implementation.createHTMLDocument("undo")),tc=e=>{const t=(i=e.getBody(),Ve(tt(ta(i.childNodes),ny),l=>l.length>0));var i;const r=Ua(t,l=>{const h=Ub(e.serializer,l);return h.length>0?[h]:[]}),s=r.join("");return-1!==s.indexOf("</iframe>")?{type:"fragmented",fragments:r,content:"",bookmark:null,beforeBookmark:null}:(l=>({type:"complete",fragments:null,content:l,bookmark:null,beforeBookmark:null}))(s)},ku=(e,t,i)=>{const r=i?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((i,r)=>{let s=0;me(i,l=>{var h,u;0===l[0]?s++:1===l[0]?(((h,u,p)=>{const b=(y=>{let C;const L=document.createElement("div"),R=document.createDocumentFragment();for(y&&(L.innerHTML=y);C=L.firstChild;)R.appendChild(C);return R})(u);h.hasChildNodes()&&p<h.childNodes.length?h.insertBefore(b,h.childNodes[p]):h.appendChild(b)})(r,l[1],s),s++):2===l[0]&&(u=s,(h=r).hasChildNodes()&&u<h.childNodes.length&&h.removeChild(h.childNodes[u]))})})(((i,r)=>{const s=i.length+r.length+2,l=new Array(s),h=new Array(s),u=(C,L,R,A,P)=>{const N=b(C,L,R,A);if(null===N||N.start===L&&N.diag===L-A||N.end===C&&N.diag===C-R){let O=C,M=R;for(;O<L||M<A;)O<L&&M<A&&i[O]===r[M]?(P.push([0,i[O]]),++O,++M):L-C>A-R?(P.push([2,i[O]]),++O):(P.push([1,r[M]]),++M)}else{u(C,N.start,R,N.start-N.diag,P);for(let O=N.start;O<N.end;++O)P.push([0,i[O]]);u(N.end,L,N.end-N.diag,A,P)}},p=(C,L,R,A)=>{let P=C;for(;P-L<A&&P<R&&i[P]===r[P-L];)++P;return{start:C,end:P,diag:L}},b=(C,L,R,A)=>{const P=L-C,N=A-R;if(0===P||0===N)return null;const O=P-N,M=N+P,B=(M%2==0?M:M+1)/2;let Y,U,G,Z,$;for(l[1+B]=C,h[1+B]=L+1,Y=0;Y<=B;++Y){for(U=-Y;U<=Y;U+=2){for(G=U+B,l[G]=U===-Y||U!==Y&&l[G-1]<l[G+1]?l[G+1]:l[G-1]+1,Z=l[G],$=Z-C+R-U;Z<L&&$<A&&i[Z]===r[$];)l[G]=++Z,++$;if(O%2!=0&&O-Y<=U&&U<=O+Y&&h[G-O]<=l[G])return p(h[G-O],U+C-R,L,A)}for(U=O-Y;U<=O+Y;U+=2){for(G=U+B-O,h[G]=U===O-Y||U!==O+Y&&h[G+1]<=h[G-1]?h[G+1]-1:h[G-1],Z=h[G]-1,$=Z-C+R-U;Z>=C&&$>=R&&i[Z]===r[$];)h[G]=Z--,$--;if(O%2==0&&-Y<=U&&U<=Y&&h[G]<=l[G+O])return p(h[G],U+C-R,L,A)}}return null},y=[];return u(0,i.length,0,r.length,y),y})(tt(ta(t.childNodes),ny),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!Ce(r)||!Mm(r)||!r.isFakeCaret}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},Su=e=>"fragmented"===e.type?e.fragments.join(""):e.content,iy=e=>{const t=jt("body",GE());return Ks(t,Su(e)),me(ia(t,"*[data-mce-bogus]"),si),bf(t)},Au=(e,t)=>{return!(!e||!t)&&(r=t,!(Su(e)!==Su(r))||((i,r)=>iy(i)===iy(r))(e,t));var r},Eu=e=>0===e.get(),ac=(e,t,i)=>{Eu(i)&&(e.typing=t)},ry=(e,t)=>{e.typing&&(ac(e,!1,t),e.add())},oy=e=>({init:{bindEvents:Qe},undoManager:{beforeChange:(t,i)=>{return r=e,l=i,void(Eu(t)&&l.set(Id(r.selection)));var r,l},add:(t,i,r,s,l,h)=>((u,p,b,y,C,L,R)=>{const A=tc(u),P=pe.extend(L||{},A);if(!Eu(y)||u.removed)return null;const N=p.data[b.get()];if(u.dispatch("BeforeAddUndo",{level:P,lastLevel:N,originalEvent:R}).isDefaultPrevented()||N&&Au(N,P))return null;p.data[b.get()]&&C.get().each(B=>{p.data[b.get()].beforeBookmark=B});const O=nS(u);if(O&&p.data.length>O){for(let B=0;B<p.data.length-1;B++)p.data[B]=p.data[B+1];p.data.length--,b.set(p.data.length)}P.bookmark=Id(u.selection),b.get()<p.data.length-1&&(p.data.length=b.get()+1),p.data.push(P),b.set(p.data.length-1);const M={level:P,lastLevel:N,originalEvent:R};return b.get()>0?(u.setDirty(!0),u.dispatch("AddUndo",M),u.dispatch("change",M)):u.dispatch("AddUndo",M),P})(e,t,i,r,s,l,h),undo:(t,i,r)=>((s,l,h,u)=>{let p;return l.typing&&(l.add(),l.typing=!1,ac(l,!1,h)),u.get()>0&&(u.set(u.get()-1),p=l.data[u.get()],ku(s,p,!0),s.setDirty(!0),s.dispatch("Undo",{level:p})),p})(e,t,i,r),redo:(t,i)=>((r,s,l)=>{let h;return s.get()<l.length-1&&(s.set(s.get()+1),h=l[s.get()],ku(r,h,!1),r.setDirty(!0),r.dispatch("Redo",{level:h})),h})(e,t,i),clear:(t,i)=>{return r=e,l=i,(s=t).data=[],l.set(0),s.typing=!1,void r.dispatch("ClearUndos");var r,s,l},reset:t=>{return(i=t).clear(),void i.add();var i},hasUndo:(t,i)=>{return r=e,s=t,i.get()>0||s.typing&&s.data[0]&&!Au(tc(r),s.data[0]);var r,s},hasRedo:(t,i)=>{return r=t,i.get()<r.data.length-1&&!r.typing;var r},transact:(t,i,r)=>{return h=r,ry(s=t,i),s.beforeChange(),s.ignore(h),s.add();var s,h},ignore:(t,i)=>((r,s)=>{try{r.set(r.get()+1),s()}finally{r.set(r.get()-1)}})(t,i),extra:(t,i,r,s)=>((l,h,u,p,b)=>{if(h.transact(p)){const y=h.data[u.get()].bookmark,C=h.data[u.get()-1];ku(l,C,!0),h.transact(b)&&(h.data[u.get()-1].beforeBookmark=y)}})(e,t,i,r,s)},formatter:{match:(t,i,r,s)=>eu(e,t,i,r,s),matchAll:(t,i)=>((r,s,l)=>{const h=[],u={},p=r.selection.getStart();return r.dom.getParent(p,b=>{for(let y=0;y<s.length;y++){const C=s[y];!u[C]&&Cn(r,b,C,l)&&(u[C]=!0,h.push(C))}},r.dom.getRoot()),h})(e,t,i),matchNode:(t,i,r,s)=>Cn(e,t,i,r,s),canApply:t=>((i,r)=>{const s=i.formatter.get(r),l=i.dom;if(s){const h=i.selection.getStart(),u=Pl(l,h);for(let p=s.length-1;p>=0;p--){const b=s[p];if(!_a(b))return!0;for(let y=u.length-1;y>=0;y--)if(l.is(u[y],b.selector))return!0}}return!1})(e,t),closest:t=>((i,r)=>{const s=l=>it(l,Q(i.getBody()));return X.from(i.selection.getStart(!0)).bind(l=>Kh(Q(l),h=>ni(r,u=>{return Cn(i,h.dom,b=u)?X.some(b):X.none();var b}),s)).getOrNull()})(e,t),apply:(t,i,r)=>Cv(e,t,i,r),remove:(t,i,r,s)=>vv(e,t,i,r,s),toggle:(t,i,r)=>((s,l,h,u)=>{const p=s.formatter.get(l);p&&(!eu(s,l,h,u)||"toggle"in p[0]&&!p[0].toggle?Cv(s,l,h,u):vv(s,l,h,u))})(e,t,i,r),formatChanged:(t,i,r,s,l)=>{return((L,R,A,P,N,O)=>{const M=R.get();me(A.split(","),B=>{const Y=pt(M,B).getOrThunk(()=>{const G={withSimilar:{state:Xt(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Xt(!1),similar:!1,callbacks:[]},withVars:[]};return M[B]=G,G}),U=()=>{const G=Ev(L);return Av(L,G,B,N,O).isSome()};if(ft(O)){const G=N?Y.withSimilar:Y.withoutSimilar;G.callbacks.push(P),1===G.callbacks.length&&G.state.set(U())}else Y.withVars.push({state:Xt(U()),similar:N,vars:O,callback:P})}),R.set(M)})(e,u=t,p=i,b=r,s,l),{unbind:()=>((L,R,A)=>{const P=L.get();me(R.split(","),N=>pt(P,N).each(O=>{P[N]={withSimilar:{...O.withSimilar,callbacks:Ve(O.withSimilar.callbacks,M=>M!==A)},withoutSimilar:{...O.withoutSimilar,callbacks:Ve(O.withoutSimilar.callbacks,M=>M!==A)},withVars:Ve(O.withVars,M=>M.callback!==A)}})),L.set(P)})(u,p,b)};var u,p,b}},editor:{getContent:t=>{return r=t,X.from((i=e).getBody()).fold(Ae("tree"===r.format?new ua("body",11):""),s=>((e,t,i)=>{let r;return r="raw"===t.format?pe.trim(EA(e.serializer,i.innerHTML)):"text"===t.format?((s,l)=>{const h=s.getDoc(),u=ri(Q(s.getBody())),p=jt("div",h);Vt(p,"data-mce-bogus","all"),$s(p,{position:"fixed",left:"-9999999px",top:"0"}),Ks(p,l.innerHTML),qb(p),$b(p);const b=Qc(C=u)?C:Q(zn(C).dom.body);var C;zt(b,p);const y=Hn(p.dom.innerText);return Ct(p),y})(e,i):"tree"===t.format?e.serializer.serialize(i,t):((s,l)=>{const h=Sa(s),u=new RegExp(`^(<${h}[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/${h}>[\r\n]*|<br \\/>[\r\n]*)$`);return l.replace(u,"")})(e,e.serializer.serialize(i,t)),"text"!==t.format&&!al(Q(i))&&Ye(r)?pe.trim(r):r})(i,r,s));var i,r},setContent:(t,i)=>{return s=t,l=i,X.from((r=e).getBody()).map(h=>Gl(s)?((u,p,b,y)=>{Hx(u.parser.getNodeFilters(),u.parser.getAttributeFilters(),b);const C=vi({validate:!1},u.schema).serialize(b),L=al(Q(p))?C:pe.trim(C);return Zh(u,L,y.no_selection),{content:b,html:L}})(r,h,s,l):((u,p,b,y)=>{if(0===b.length||/^\s+$/.test(b)){const C='<br data-mce-bogus="1">';"TABLE"===p.nodeName?b="<tr><td>"+C+"</td></tr>":/^(UL|OL)$/.test(p.nodeName)&&(b="<li>"+C+"</li>");const L=Sa(u);return u.schema.isValidChild(p.nodeName.toLowerCase(),L.toLowerCase())?(b=C,b=u.dom.createHTML(L,Uo(u),b)):b||(b=C),Zh(u,b,y.no_selection),{content:b,html:b}}{"raw"!==y.format&&(b=vi({validate:!1},u.schema).serialize(u.parser.parse(b,{isRootContent:!0,insert:!0})));const C=al(Q(p))?b:pe.trim(b);return Zh(u,C,y.no_selection),{content:C,html:C}}})(r,h,s,l)).getOr({content:s,html:Gl(l.content)?"":l.content});var r,s,l},insertContent:(t,i)=>eE(e,t,i),addVisual:t=>((i,r)=>{const s=i.dom,l=Ce(r)?r:i.getBody();me(s.select("table,a",l),h=>{switch(h.nodeName){case"TABLE":const u=lS(i),p=s.getAttrib(h,"border");p&&"0"!==p||!i.hasVisual?s.removeClass(h,u):s.addClass(h,u);break;case"A":if(!s.getAttrib(h,"href")){const b=s.getAttrib(h,"name")||h.id,y=lm(i);b&&i.hasVisual?s.addClass(h,y):s.removeClass(h,y)}}}),i.dispatch("VisualAid",{element:r,hasVisual:i.hasVisual})})(e,t)},selection:{getContent:(t,i)=>((r,s,l={})=>{const h=(u=l,p=s,{...u,format:p,get:!0,selection:!0,getInner:!0});var u,p;return qv(r,h).fold(ct,u=>{const p=((b,y)=>{if("text"===y.format)return X.from((C=b).selection.getRng()).map(L=>{var R;const A=X.from(C.dom.getParent(L.commonAncestorContainer,C.dom.isBlock)),P=C.getBody(),N=A.map(G=>G.nodeName).getOr("div").toLowerCase(),O=Q(L.cloneContents());qb(O),$b(O);const M=C.dom.add(P,N,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},O.dom),B=ay(M),Y=Hn(null!==(R=M.textContent)&&void 0!==R?R:"");if(C.dom.remove(M),ec(Y,0)||ec(Y,Y.length-1)){const U=A.getOr(P),G=ay(U),Z=G.indexOf(B);return-1===Z?B:(ec(G,Z-1)?" ":"")+B+(ec(G,Z+B.length)?" ":"")}return B}).getOr("");var C;{const C=((L,R)=>{const A=L.selection.getRng(),P=L.dom.create("body"),N=L.selection.getSel(),O=Ch(L,Zd(N)),M=R.contextual?((e,t)=>{const i=Xm(t,e);return i.length>0?((e,t)=>{return(i=e,r=t[0],Lo(r,"table",Te(it,i))).bind(i=>{const r=t[0],s=t[t.length-1],l=(h=>{const u=Cu(Or(h),0,[]);return me(ia(h,"tr"),(p,b)=>{me(ia(p,"td,th"),(y,C)=>{((L,R,A,P,N)=>{const O=Kv(N,"rowspan"),M=Kv(N,"colspan"),B=L.rows;for(let Y=A;Y<A+O;Y++){B[Y]||(B[Y]=Zv(xp(P),[]));for(let U=R;U<R+M;U++)B[Y].cells[U]=Y===A&&U===R?N:Or(N)}})(u,((L,R,A)=>{for(;XE(L,R,A);)R++;return R})(u,C,b),b,p,y)})}),Cu(u.element,Qv(u.rows),u.rows)})(i);return(h=l,u=r,p=s,Jv(h,u).bind(b=>Jv(h,p).map(y=>((C,L,R)=>{const A=L.x,P=L.y,N=R.x,O=R.y,M=P<O?ey(C,A,P,N,O):ey(C,A,O,N,P);return Cu(C.element,Qv(M),M)})(h,b,y)))).map(h=>hh([HE(h)]));var h,u,p}).getOrThunk(ty);var i,r})(e,i):(r=e,(s=t).length>0&&s[0].collapsed?ty():(l=r,((u,p)=>{const b=la(p,(y,C)=>(zt(C,y),C),u);return p.length>0?hh([b]):b})(Q((h=s[0]).cloneContents()),((e,t)=>{const i=Q(t.commonAncestorContainer),r=Vn(i,e),s=Ve(r,_C),l=(p=t,Mt(u=r,b=>"li"===yt(b)&&Qd(b,p)).fold(Ae([]),b=>{return(y=u,Mt(y,C=>"ul"===yt(C)||"ol"===yt(C))).map(y=>{const C=jt(yt(y)),L=Pi(gf(y),(R,A)=>_t(A,"list-style"));return $s(C,L),[jt("li"),C]}).getOr([]);var y})),h=s.concat(l.length?l:(u=>Oo(u)?$a(u).filter(sd).fold(Ae([]),p=>[u,p]):sd(u)?[u]:[])(i));var u,p;return tt(h,Or)})(l,h))));var r,s,l,h})(Q(L.getBody()),O).dom:A.cloneContents();return M&&P.appendChild(M),L.selection.serializer.serialize(P,R)})(b,y);return"tree"===y.format?C:b.selection.isCollapsed()?"":C}})(r,u);return $v(r,p,u)})})(e,t,i)},autocompleter:{addDecoration:t=>((e,t)=>{if(Vb(Q(e.getBody())).isNone()){const r=Us('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());zt(r,Q(t.extractContents())),t.insertNode(r.dom),$a(r).each(s=>s.dom.normalize()),(i=r,((s,l)=>{const h=u=>{const p=Zt(u);for(let b=p.length-1;b>=0;b--){const y=p[b];if(l(y))return X.some(y);const C=h(y);if(C.isSome())return C}return X.none()};return h(s)})(i,Yb)).map(s=>{var l;e.selection.setCursorLocation(s.dom,"img"===yt(l=s)?1:Of(l).fold(()=>Zt(l).length,h=>h.length))})}var i})(e,t),removeDecoration:()=>{return t=e,i=Q(e.getBody()),Vb(i).each(r=>{const s=t.selection.getBookmark();si(r),t.selection.moveToBookmark(s)});var t,i}},raw:{getModel:()=>X.none()}}),Sn=e=>Ze(e.plugins,"rtc"),Nu=e=>e.rtcInstance?e.rtcInstance:oy(e),Rt=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},sy=e=>Rt(e).init.bindEvents(),ly=e=>0===e.dom.length?(Ct(e),X.none()):X.some(e),cy=(e,t,i,r)=>{e.bind(s=>((r?Oh:Yl)(s.dom,r?s.dom.length:0),t.filter(Ra).map(l=>((h,u,p,b)=>{const y=h.dom,C=u.dom,L=b?y.length:C.length;b?(Mh(y,C,!1,!b),p.setStart(C,L)):(Mh(C,y,!1,!b),p.setEnd(C,L))})(s,l,i,r)))).orThunk(()=>{return(l=t,h=r,l.filter(u=>ns.isBookmarkNode(u.dom)).bind(h?Eo:_i)).or(t).filter(Ra).map(l=>((h,u)=>{$a(h).each(p=>{const b=h.dom;u&&cs(p,ce(b,0))?Yl(b,0):!u&&ds(p,ce(b,b.length))&&Oh(b,b.length)})})(l,r));var l,h})},dy=(e,t,i)=>{if(Ze(e,t)){const r=Ve(e[t],s=>s!==i);0===r.length?delete e[t]:e[t]=r}},hy=e=>!(!e||!e.ownerDocument)&&Fn(Q(e.ownerDocument),Q(e)),uy=(e,t,i,r)=>{let s,l;const{selectorChangedWithUnbind:h}=((N,O)=>{let M,B;const Y=(G,Z)=>Mt(Z,$=>N.is($,G)),U=G=>N.getParents(G,void 0,N.getRoot());return{selectorChangedWithUnbind:(G,Z)=>(M||(M={},B={},O.on("NodeChange",$=>{const K=$.element,te=U(K),ne={};dt(M,(se,re)=>{Y(re,te).each(he=>{B[re]||(me(se,ke=>{ke(!0,{node:he,selector:re,parents:te})}),B[re]=se),ne[re]=se})}),dt(B,(se,re)=>{ne[re]||(delete B[re],me(se,he=>{he(!1,{node:K,selector:re,parents:te})}))})})),M[G]||(M[G]=[]),M[G].push(Z),Y(G,U(O.selection.getStart())).each(()=>{B[G]=M[G]}),{unbind:()=>{dy(M,G,Z),dy(B,G,Z)}})}})(e,r),u=(N,O)=>((M,B,Y={})=>{const U=(G=Y,Z=B,{format:"html",...G,set:!0,selection:!0,content:Z});var G,Z;yu(M,U).each(G=>{const Z=((K,te)=>{if("raw"!==te.format){const ne=K.selection.getRng(),se=K.dom.getParent(ne.commonAncestorContainer,K.dom.isBlock),re=se?{context:se.nodeName.toLowerCase()}:{},he=K.parser.parse(te.content,{forced_root_block:!1,...re,...te});return vi({validate:!1},K.schema).serialize(he)}return te.content})(M,G),$=M.selection.getRng();((K,te)=>{const ne=X.from(te.firstChild).map(Q),se=X.from(te.lastChild).map(Q);K.deleteContents(),K.insertNode(te);const re=ne.bind(_i).filter(Ra).bind(ly),he=se.bind(Eo).filter(Ra).bind(ly);cy(re,ne,K,!0),cy(he,se,K,!1),K.collapse(!1)})($,$.createContextualFragment(Z)),M.selection.setRng($),os(M,$),wu(M,Z,G)})})(r,N,O),p=N=>{const O=y();O.collapse(!!N),C(O)},b=()=>t.getSelection?t.getSelection():t.document.selection,y=()=>{let N;const O=(B,Y,U)=>{try{return Y.compareBoundaryPoints(B,U)}catch{return-1}},M=t.document;if(Ce(r.bookmark)&&!ar(r)){const B=xh(r);if(B.isSome())return B.map(Y=>Ch(r,[Y])[0]).getOr(M.createRange())}try{const B=b();B&&!Js(B.anchorNode)&&(N=B.rangeCount>0?B.getRangeAt(0):M.createRange(),N=Ch(r,[N])[0])}catch{}if(N||(N=M.createRange()),To(N.startContainer)&&N.collapsed){const B=e.getRoot();N.setStart(B,0),N.setEnd(B,0)}return s&&l&&(0===O(N.START_TO_START,N,s)&&0===O(N.END_TO_END,N,s)?N=l:(s=null,l=null)),N},C=(N,O)=>{if(!((B=N)&&hy(B.startContainer)&&hy(B.endContainer)))return;var B;const M=b();if(N=r.dispatch("SetSelectionRange",{range:N,forward:O}).range,M){l=N;try{M.removeAllRanges(),M.addRange(N)}catch{}!1===O&&M.extend&&(M.collapse(N.endContainer,N.endOffset),M.extend(N.startContainer,N.startOffset)),s=M.rangeCount>0?M.getRangeAt(0):null}if(!N.collapsed&&N.startContainer===N.endContainer&&M?.setBaseAndExtent&&N.endOffset-N.startOffset<2&&N.startContainer.hasChildNodes()){const B=N.startContainer.childNodes[N.startOffset];B&&"IMG"===B.nodeName&&(M.setBaseAndExtent(N.startContainer,N.startOffset,N.endContainer,N.endOffset),M.anchorNode===N.startContainer&&M.focusNode===N.endContainer||M.setBaseAndExtent(B,0,B,1))}r.dispatch("AfterSetSelectionRange",{range:N,forward:O})},L=()=>{const N=b(),O=N?.anchorNode,M=N?.focusNode;if(!N||!O||!M||Js(O)||Js(M))return!0;const B=e.createRng(),Y=e.createRng();try{B.setStart(O,N.anchorOffset),B.collapse(!0),Y.setStart(M,N.focusOffset),Y.collapse(!0)}catch{return!0}return B.compareBoundaryPoints(B.START_TO_START,Y)<=0},R={dom:e,win:t,serializer:i,editor:r,expand:(N={type:"word"})=>C(tr(e).expand(y(),N)),collapse:p,setCursorLocation:(N,O)=>{const M=e.createRng();Ce(N)&&Ce(O)?(M.setStart(N,O),M.setEnd(N,O),C(M),p(!1)):(Jd(e,M,r.getBody(),!0),C(M))},getContent:N=>((O,M={})=>{return Y=M.format?M.format:"html",U=M,Rt(O).selection.getContent(Y,U);var Y,U})(r,N),setContent:u,getBookmark:(N,O)=>A.getBookmark(N,O),moveToBookmark:N=>A.moveToBookmark(N),select:(N,O)=>{return(M=e,B=N,Y=O,X.from(B).bind(U=>X.from(U.parentNode).map(G=>{const Z=M.nodeIndex(U),$=M.createRng();return $.setStart(G,Z),$.setEnd(G,Z+1),Y&&(Jd(M,$,U,!0),Jd(M,$,U,!1)),$}))).each(C),N;var M,B,Y},isCollapsed:()=>{const N=y(),O=b();return!(!N||N.item)&&(N.compareEndPoints?0===N.compareEndPoints("StartToEnd",N):!O||N.collapsed)},isForward:L,setNode:N=>(u(e.getOuterHTML(N)),N),getNode:()=>((N,O)=>{if(!O)return N;let M=O.startContainer,B=O.endContainer;const Y=O.startOffset,U=O.endOffset;let G=O.commonAncestorContainer;O.collapsed||(M===B&&U-Y<2&&M.hasChildNodes()&&(G=M.childNodes[Y]),ve(M)&&ve(B)&&(M=M.length===Y?Hb(M.nextSibling,!0):M.parentNode,B=0===U?Hb(B.previousSibling,!1):B.parentNode,M&&M===B&&(G=M)));const Z=ve(G)?G.parentNode:G;return Re(Z)?Z:N})(r.getBody(),y()),getSel:b,setRng:C,getRng:y,getStart:N=>zb(r.getBody(),y(),N),getEnd:N=>Xb(r.getBody(),y(),N),getSelectedBlocks:(N,O)=>((M,B,Y,U)=>{const G=[],Z=M.getRoot(),$=M.getParent(Y||zb(Z,B,B.collapsed),M.isBlock),K=M.getParent(U||Xb(Z,B,B.collapsed),M.isBlock);if($&&$!==Z&&G.push($),$&&K&&$!==K){let te=$;const ne=new Dt($,Z);for(;(te=ne.next())&&te!==K;)M.isBlock(te)&&G.push(te)}return K&&$!==K&&K!==Z&&G.push(K),G})(e,y(),N,O),normalize:()=>{const N=y(),O=b();if(!(Zd(O).length>1)&&Ll(r)){const M=Dl(e,N);return M.each(B=>{C(B,L())}),M.getOr(N)}return N},selectorChanged:(N,O)=>(h(N,O),R),selectorChangedWithUnbind:h,getScrollContainer:()=>{let N,O=e.getRoot();for(;O&&"BODY"!==O.nodeName;){if(O.scrollHeight>O.clientHeight){N=O;break}O=O.parentNode}return N},scrollIntoView:(N,O)=>{var M;Ce(N)?((M=r).inline?gA:pA)(M,N,O):os(r,y(),O)},placeCaretAt:(N,O)=>C(xb(N,O,r.getDoc())),getBoundingClientRect:()=>{const N=y();return N.collapsed?ce.fromRangeStart(N).getClientRects()[0]:N.getBoundingClientRect()},destroy:()=>{t=s=l=null,P.destroy()}},A=ns(R),P=gb(R,r);return R.bookmarkManager=A,R.controlSelection=P,R},UE=(e,t,i)=>{-1===pe.inArray(t,i)&&(e.addAttributeFilter(i,(r,s)=>{let l=r.length;for(;l--;)r[l].attr(s,null)}),t.push(i))},gy=(e,t)=>{const i=((e,t)=>{const i=["data-mce-selected"],r=t&&t.dom?t.dom:gt.DOM,s=t&&t.schema?t.schema:gi(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const l=jr(e,s);return u=e,p=r,(h=l).addAttributeFilter("data-mce-tabindex",(b,y)=>{let C=b.length;for(;C--;){const L=b[C];L.attr("tabindex",L.attr("data-mce-tabindex")),L.attr(y,null)}}),h.addAttributeFilter("src,href,style",(b,y)=>{const C="data-mce-"+y,L=u.url_converter,R=u.url_converter_scope;let A=b.length;for(;A--;){const P=b[A];let N=P.attr(C);void 0!==N?(P.attr(y,N.length>0?N:null),P.attr(C,null)):(N=P.attr(y),"style"===y?N=p.serializeStyle(p.parseStyle(N),P.name):L&&(N=L.call(R,N,y,P.name)),P.attr(y,N.length>0?N:null))}}),h.addAttributeFilter("class",b=>{let y=b.length;for(;y--;){const C=b[y];let L=C.attr("class");L&&(L=L.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),C.attr("class",L.length>0?L:null))}}),h.addAttributeFilter("data-mce-type",(b,y,C)=>{let L=b.length;for(;L--;){const R=b[L];"bookmark"===R.attr("data-mce-type")&&!C.cleanup&&(X.from(R.firstChild).exists(P=>{var N;return!nl(null!==(N=P.value)&&void 0!==N?N:"")})?R.unwrap():R.remove())}}),h.addNodeFilter("noscript",b=>{var y;let C=b.length;for(;C--;){const L=b[C].firstChild;L&&(L.value=ui.decode(null!==(y=L.value)&&void 0!==y?y:""))}}),h.addNodeFilter("script,style",(b,y)=>{var C;const L=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let R=b.length;for(;R--;){const A=b[R],P=A.firstChild,N=null!==(C=P?.value)&&void 0!==C?C:"";if("script"===y){const O=A.attr("type");O&&A.attr("type","mce-no/type"===O?null:O.replace(/^mce\-/,"")),"xhtml"===u.element_format&&P&&N.length>0&&(P.value="// <![CDATA[\n"+L(N)+"\n// ]]>")}else"xhtml"===u.element_format&&P&&N.length>0&&(P.value="\x3c!--\n"+L(N)+"\n--\x3e")}}),h.addNodeFilter("#comment",b=>{let y=b.length;for(;y--;){const C=b[y],L=C.value;u.preserve_cdata&&0===L?.indexOf("[CDATA[")?(C.name="#cdata",C.type=4,C.value=p.decode(L.replace(/^\[CDATA\[|\]\]$/g,""))):0===L?.indexOf("mce:protected ")&&(C.name="#text",C.type=3,C.raw=!0,C.value=unescape(L).substr(14))}}),h.addNodeFilter("xml:namespace,input",(b,y)=>{let C=b.length;for(;C--;){const L=b[C];7===L.type?L.remove():1===L.type&&("input"!==y||L.attr("type")||L.attr("type","text"))}}),h.addAttributeFilter("data-mce-type",b=>{me(b,y=>{"format-caret"===y.attr("data-mce-type")&&(y.isEmpty(h.schema.getNonEmptyElements())?y.remove():y.unwrap())})}),h.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(b,y)=>{let C=b.length;for(;C--;)b[C].attr(y,null)}),{schema:s,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:(h,u={})=>{const p={format:"html",...u},b=(R=h,N=A=p,Ce(P=L=t)&&P.hasEventListeners("PreProcess")&&!N.no_events?((P,N,O)=>{let M;const B=P.dom;let Y=N.cloneNode(!0);const U=document.implementation;if(U.createHTMLDocument){const G=U.createHTMLDocument("");pe.each("BODY"===Y.nodeName?Y.childNodes:[Y],Z=>{G.body.appendChild(G.importNode(Z,!0))}),Y="BODY"!==Y.nodeName?G.body.firstChild:G.body,M=B.doc,B.doc=G}return Z={...O,node:Y},P.dispatch("PreProcess",Z),M&&(B.doc=M),Y;var Z})(L,R,A):R),y=((L,R,A)=>{const P=Hn(A.getInner?R.innerHTML:L.getOuterHTML(R));return A.selection||al(Q(R))?P:pe.trim(P)})(r,b,p),C=((L,R,A)=>{const P=A.selection?{forced_root_block:!1,...A}:A,N=L.parse(R,P);return(O=>{const M=Y=>"br"===Y?.name,B=O.lastChild;if(M(B)){const Y=B.prev;M(Y)&&(B.remove(),Y.remove())}})(N),N})(l,y,p);var L,R,A,P,N;return"tree"===p.format?C:((L,R,A,P,N)=>{var Y;return((M,B,Y)=>{return!B.no_events&&M?(G=M,Z={...B,content:Y},G.dispatch("PostProcess",Z)).content:Y;var G,Z})(L,N,(Y=P,vi(R,A).serialize(Y)))})(t,e,s,C,p)},addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:Te(UE,l,i),getTempAttrs:Ae(i),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter};var h,u,p})(e,t);return{schema:i.schema,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:i.serialize,addRules:i.addRules,setRules:i.setRules,addTempAttr:i.addTempAttr,getTempAttrs:i.getTempAttrs,getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},Lu=(e,t,i={})=>{const r=(s=i,l=t,{format:"html",...s,set:!0,content:l});var s,l;return yu(e,r).map(s=>{const l=(u=s.content,p=s,Nu(e).editor.setContent(u,p));var u,p;return wu(e,l.html,s),l.content}).getOr(t)},$E="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),ZE="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),nc=gt.DOM,ic=e=>X.from(e).each(t=>t.destroy()),rc=(()=>{const e={};return{add:(t,i)=>{e[t]=i},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ze(e,t)}})(),Gr=ra.ModelManager,fy=(e,t)=>t.dom[e],py=(e,t)=>parseInt(fn(t,e),10),JE=Te(fy,"clientWidth"),eN=Te(fy,"clientHeight"),tN=Te(py,"margin-top"),aN=Te(py,"margin-left"),my=e=>{const t=[],i=()=>{const p=e.theme;return p&&p.getNotificationManagerImpl?p.getNotificationManagerImpl():(()=>{const b=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:b,close:b,getArgs:b}})()},r=()=>X.from(t[0]),s=()=>{me(t,p=>{p.reposition()})},l=p=>{Mn(t,b=>b===p).each(b=>{t.splice(b,1)})},h=(p,b=!0)=>{return e.removed||!(C=(y=e).inline?y.getBody():y.getContentAreaContainer(),X.from(C).map(Q)).map(Ar).getOr(!1)?{}:(b&&e.dispatch("BeforeOpenNotification",{notification:p}),Mt(t,y=>{return!((C=i().getArgs(y)).type!==(L=p).type||C.text!==L.text||C.progressBar||C.timeout||L.progressBar||L.timeout);var C,L}).getOrThunk(()=>{e.editorManager.setActive(e);const y=i().open(p,()=>{l(y),s(),r().fold(()=>e.focus(),C=>Pb(Q(C.getEl())))});return(C=>{t.push(C)})(y),s(),e.dispatch("OpenNotification",{notification:{...y}}),y}));var y,C},u=Ae(t);return(p=e).on("SkinLoaded",()=>{const b=jk(p);b&&h({text:b,type:"warning",timeout:0},!1),s()}),p.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(s)}),p.on("remove",()=>{me(t.slice(),b=>{i().close(b)})}),{open:h,close:()=>{r().each(p=>{i().close(p),l(p),s()})},getNotifications:u};var p},Ur=ra.PluginManager,cr=ra.ThemeManager,by=e=>{let t=[];const i=()=>{const h=e.theme;return h&&h.getWindowManagerImpl?h.getWindowManagerImpl():(()=>{const u=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:u,openUrl:u,alert:u,confirm:u,close:u}})()},r=(h,u)=>(...p)=>u?u.apply(h,p):void 0,s=h=>{e.dispatch("CloseWindow",{dialog:h}),t=Ve(t,u=>u!==h),0===t.length&&e.focus()},l=h=>{e.editorManager.setActive(e),bh(e),e.ui.show();const u=h();return t.push(p=u),e.dispatch("OpenWindow",{dialog:p}),u;var p};return e.on("remove",()=>{me(t,h=>{i().close(h)})}),{open:(h,u)=>l(()=>i().open(h,u,s)),openUrl:h=>l(()=>i().openUrl(h,s)),alert:(h,u,p)=>{const b=i();b.alert(h,r(p||b,u))},confirm:(h,u,p)=>{const b=i();b.confirm(h,r(p||b,u))},close:()=>{X.from(t[t.length-1]).each(h=>{i().close(h),s(h)})}}},xy=(e,t)=>{e.notificationManager.open({type:"error",text:t})},oc=(e,t)=>{e._skinLoaded?xy(e,t):e.on("SkinLoaded",()=>{xy(e,t)})},ms=(e,t,i)=>{ob(e,t,{message:i}),console.error(i)},bs=(e,t,i)=>i?`Failed to load ${e}: ${i} from url ${t}`:`Failed to load ${e} url: ${t}`,sc=(e,...t)=>{const i=window.console;i&&(i.error?i.error(e,...t):i.log(e,...t))},vy=(e,t)=>{const i=e.editorManager.baseURL+"/skins/content",r=`content${e.editorManager.suffix}.css`;return tt(t,s=>/^[a-z0-9\-]+$/i.test(s)&&!e.inline?`${i}/${s}/${r}`:e.documentBaseURI.toAbsolute(s))},nN=Lt,yy=()=>{let e={};const t=(r,s)=>({status:r,resultUri:s}),i=r=>r in e;return{hasBlobUri:i,getResultUri:r=>{const s=e[r];return s?s.resultUri:null},isPending:r=>!!i(r)&&1===e[r].status,isUploaded:r=>!!i(r)&&2===e[r].status,markPending:r=>{e[r]=t(1,null)},markUploaded:(r,s)=>{e[r]=t(2,s)},removeFailed:r=>{delete e[r]},destroy:()=>{e={}}}};let rN=0;const wy=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Cy=(e,t)=>((e,t)=>{const i={},r=(p,b)=>new Promise((y,C)=>{const L=new XMLHttpRequest;L.open("POST",t.url),L.withCredentials=t.credentials,L.upload.onprogress=A=>{b(A.loaded/A.total*100)},L.onerror=()=>{C("Image upload failed due to a XHR Transport error. Code: "+L.status)},L.onload=()=>{if(L.status<200||L.status>=300)return void C("HTTP Error: "+L.status);const A=JSON.parse(L.responseText);var P,N;A&&Ye(A.location)?y((N=A.location,(P=t.basePath)?P.replace(/\/$/,"")+"/"+N.replace(/^\//,""):N)):C("Invalid JSON: "+L.responseText)};const R=new FormData;R.append("file",p.blob(),p.filename()),L.send(R)}),s=nt(t.handler)?t.handler:r,l=(p,b)=>({url:b,blobInfo:p,status:!0}),h=(p,b)=>({url:"",blobInfo:p,status:!1,error:b}),u=(p,b)=>{pe.each(i[p],y=>{y(b)}),delete i[p]};return{upload:(p,b)=>{return t.url||s!==r?(C=b,y=pe.grep(y=p,L=>!e.isUploaded(L.blobUri())),Promise.all(pe.map(y,L=>{return e.isPending(L.blobUri())?(R=>{const A=R.blobUri();return new Promise(P=>{i[A]=i[A]||[],i[A].push(P)})})(L):(A=s,P=C,e.markPending((R=L).blobUri()),new Promise(N=>{let O,M;try{const B=()=>{O&&(O.close(),M=Qe)},Y=G=>{B(),e.markUploaded(R.blobUri(),G),u(R.blobUri(),l(R,G)),N(l(R,G))},U=G=>{B(),e.removeFailed(R.blobUri()),u(R.blobUri(),h(R,G)),N(h(R,G))};M=G=>{G<0||G>100||X.from(O).orThunk(()=>X.from(P).map(Pn)).each(Z=>{O=Z,Z.progressBar.value(G)})},A(R,M).then(Y,G=>{U(Ye(G)?{message:G}:G)})}catch(B){N(h(R,B))}}));var R,A,P}))):new Promise(y=>{y([])});var y,C}}})(t,{url:Ok(e),basePath:Mk(e),credentials:Ik(e),handler:_k(e)}),ky={remove_similar:!0,inherit:!1},qr={selector:"td,th",...ky},lN={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...qr},tablecellverticalalign:{styles:{"vertical-align":"%value"},...qr},tablecellbordercolor:{styles:{borderColor:"%value"},...qr},tablecellclass:{classes:["%value"],...qr},tableclass:{selector:"table",classes:["%value"],...ky},tablecellborderstyle:{styles:{borderStyle:"%value"},...qr},tablecellborderwidth:{styles:{borderWidth:"%value"},...qr}},cN=Ae(lN),lc=pe.each,Fa=gt.DOM,Ru=e=>Ce(e)&&xt(e),Sy=(e,t)=>{const i=t&&t.schema||gi({}),r=h=>{const u=Ye(h)?{name:h,classes:[],attrs:{}}:h,p=Fa.create(u.name);return b=p,(y=u).classes.length>0&&Fa.addClass(b,y.classes.join(" ")),Fa.setAttribs(b,y.attrs),p;var b,y},s=(h,u,p)=>{let b;const y=u[0],C=Ru(y)?y.name:void 0,L=((P,N)=>{const M=i.getElementRule(P.nodeName.toLowerCase())?.parentsRequired;return!(!M||!M.length)&&(N&&st(M,N)?N:M[0])})(h,C);if(L)C===L?(b=y,u=u.slice(1)):b=L;else if(y)b=y,u=u.slice(1);else if(!p)return h;const R=b?r(b):Fa.create("div");R.appendChild(h),p&&pe.each(p,P=>{const N=r(P);R.insertBefore(N,h)});const A=Ru(b)?b.siblings:void 0;return s(R,u,A)},l=Fa.create("div");if(e.length>0){const h=e[0],u=r(h),p=Ru(h)?h.siblings:void 0;l.appendChild(s(u,e.slice(1),p))}return l},dN=e=>{let t="div";const i={name:t,classes:[],attrs:{},selector:e=pe.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,s,l,h,u)=>{switch(s){case"#":i.attrs.id=l;break;case".":i.classes.push(l);break;case":":-1!==pe.inArray("checked disabled enabled read-only required".split(" "),l)&&(i.attrs[l]=l)}if("["===h){const p=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);p&&(i.attrs[p[1]]=p[2])}return""})),i.name=t||"div",i},hN=(e,t)=>{let i="",r=$k(e);if(""===r)return"";const s=R=>Ye(R)?R.replace(/%(\w+)/g,""):"",l=(R,A)=>Fa.getStyle(A??e.getBody(),R,!0);if(Ye(t)){const R=e.formatter.get(t);if(!R)return"";t=R[0]}if("preview"in t){const R=t.preview;if(!1===R)return"";r=R||r}let h,u=t.block||t.inline||"span";const p=Ye(b=t.selector)?(b=(b=b.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),pe.map(b.split(/(?:>|\s+(?![^\[\]]+\]))/),R=>{const A=pe.map(R.split(/(?:~\+|~|\+)/),dN),P=A.pop();return A.length&&(P.siblings=A),P}).reverse()):[];var b;p.length>0?(p[0].name||(p[0].name=u),u=t.selector,h=Sy(p,e)):h=Sy([u],e);const y=Fa.select(u,h)[0]||h.firstChild;lc(t.styles,(R,A)=>{const P=s(R);P&&Fa.setStyle(y,A,P)}),lc(t.attributes,(R,A)=>{const P=s(R);P&&Fa.setAttrib(y,A,P)}),lc(t.classes,R=>{const A=s(R);Fa.hasClass(y,A)||Fa.addClass(y,A)}),e.dispatch("PreviewFormats"),Fa.setStyles(h,{position:"absolute",left:-65535}),e.getBody().appendChild(h);const C=l("fontSize"),L=/px$/.test(C)?parseInt(C,10):0;return lc(r.split(" "),R=>{let A=l(R,y);if(!("background-color"===R&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(A)&&(A=l(R),"#ffffff"===Nl(A).toLowerCase())||"color"===R&&"#000000"===Nl(A).toLowerCase())){if("font-size"===R&&/em|%$/.test(A)){if(0===L)return;A=parseFloat(A)/(/%$/.test(A)?100:1)*L+"px"}"border"===R&&A&&(i+="padding:0 2px;"),i+=R+":"+A+";"}}),e.dispatch("AfterPreviewFormats"),Fa.remove(h),i},Ay=e=>{const t=(r=>{const s={},l=(h,u)=>{h&&(Ye(h)?(Et(u)||(u=[u]),me(u,p=>{ft(p.deep)&&(p.deep=!_a(p)),ft(p.split)&&(p.split=!_a(p)||Bt(p)),ft(p.remove)&&_a(p)&&!Bt(p)&&(p.remove="none"),_a(p)&&Bt(p)&&(p.mixed=!0,p.block_expand=!0),Ye(p.classes)&&(p.classes=p.classes.split(/\s+/))}),s[h]=u):dt(h,(p,b)=>{l(b,p)}))};return l((h=>{const u=h.dom,p=h.schema.type,b={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:y=>{u.setStyle(y,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:y=>{u.setStyle(y,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const y={inline:"span",styles:{textDecoration:"line-through"},exact:!0},C={inline:"strike",remove:"all",preserve_attributes:["class","style"]},L={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==p?[L,y,C]:[y,L,C]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(y,C,L)=>Re(y)&&y.hasAttribute("href"),onformat:(y,C,L)=>{pe.each(L,(R,A)=>{u.setAttrib(y,A,R)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":y=>{var C;return null!==(C=y?.customValue)&&void 0!==C?C:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return pe.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),y=>{b[y]={block:y,remove:"all"}}),b})(r)),l(cN()),l(qk(r)),{get:h=>Ce(h)?s[h]:s,has:h=>Ze(s,h),register:l,unregister:h=>(h&&s[h]&&delete s[h],s)}})(e),i=Xt({});return(r=>{r.addShortcut("meta+b","","Bold"),r.addShortcut("meta+i","","Italic"),r.addShortcut("meta+u","","Underline");for(let s=1;s<=6;s++)r.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);r.addShortcut("access+7","",["FormatBlock",!1,"p"]),r.addShortcut("access+8","",["FormatBlock",!1,"div"]),r.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(r=e).on("mouseup keydown",s=>{((l,h)=>{const u=l.selection,p=l.getBody();nu(l,null,!1),8!==h&&46!==h||!u.isCollapsed()||"\ufeff"!==u.getStart().innerHTML||nu(l,Qi(p,u.getStart())),37!==h&&39!==h||nu(l,Qi(p,u.getStart()))})(r,s.keyCode)}),Sn(e)||((r,s)=>{r.set({}),s.on("NodeChange",l=>{Nv(s,l.element,r.get())}),s.on("FormatApply FormatRemove",l=>{const h=X.from(l.node).map(u=>Rl(u)?u:u.startContainer).bind(u=>Re(u)?X.some(u):X.from(u.parentElement)).getOrThunk(()=>Sv(s));Nv(s,h,r.get())})})(i,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,s,l)=>{var u,p,b;u=r,p=s,b=l,Rt(e).formatter.apply(u,p,b)},remove:(r,s,l,h)=>{var p,b,y,C;p=r,b=s,y=l,C=h,Rt(e).formatter.remove(p,b,y,C)},toggle:(r,s,l)=>{var u,p,b;u=r,p=s,b=l,Rt(e).formatter.toggle(u,p,b)},match:(r,s,l,h)=>{return p=r,b=s,y=l,C=h,Rt(e).formatter.match(p,b,y,C);var p,b,y,C},closest:r=>{return l=r,Rt(e).formatter.closest(l);var l},matchAll:(r,s)=>{return h=r,u=s,Rt(e).formatter.matchAll(h,u);var h,u},matchNode:(r,s,l,h)=>{return p=r,b=s,y=l,C=h,Rt(e).formatter.matchNode(p,b,y,C);var p,b,y,C},canApply:r=>{return l=r,Rt(e).formatter.canApply(l);var l},formatChanged:(r,s,l,h)=>{return p=i,b=r,y=s,C=l,L=h,Rt(e).formatter.formatChanged(p,b,y,C,L);var p,b,y,C,L},getCssText:Te(hN,e)};var r},Ey=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Ny=e=>{const t=fi(),i=Xt(0),r=Xt(0),s={data:[],typing:!1,beforeChange:()=>{var h,u;h=i,u=t,Rt(e).undoManager.beforeChange(h,u)},add:(l,h)=>{return p=s,b=r,y=i,C=t,L=l,R=h,Rt(e).undoManager.add(p,b,y,C,L,R);var p,b,y,C,L,R},dispatchChange:()=>{e.setDirty(!0);const l=tc(e);l.bookmark=Id(e.selection),e.dispatch("change",{level:l,lastLevel:_n(s.data,r.get()).getOrUndefined()})},undo:()=>{return h=s,u=i,p=r,Rt(e).undoManager.undo(h,u,p);var h,u,p},redo:()=>{return h=r,u=s.data,Rt(e).undoManager.redo(h,u);var h,u},clear:()=>{var h,u;h=s,u=r,Rt(e).undoManager.clear(h,u)},reset:()=>{var h;h=s,Rt(e).undoManager.reset(h)},hasUndo:()=>{return h=s,u=r,Rt(e).undoManager.hasUndo(h,u);var h,u},hasRedo:()=>{return h=s,u=r,Rt(e).undoManager.hasRedo(h,u);var h,u},transact:l=>{return u=s,p=i,b=l,Rt(e).undoManager.transact(u,p,b);var u,p,b},ignore:l=>{var u,p;u=i,p=l,Rt(e).undoManager.ignore(u,p)},extra:(l,h)=>{var p,b,y,C;p=s,b=r,y=l,C=h,Rt(e).undoManager.extra(p,b,y,C)}};return Sn(e)||((l,h,u)=>{const p=Xt(!1),b=y=>{ac(h,!1,u),h.add({},y)};l.on("init",()=>{h.add()}),l.on("BeforeExecCommand",y=>{Ey(y.command)||(ry(h,u),h.beforeChange())}),l.on("ExecCommand",y=>{Ey(y.command)||b(y)}),l.on("ObjectResizeStart cut",()=>{h.beforeChange()}),l.on("SaveContent ObjectResized blur",b),l.on("dragend",b),l.on("keyup",y=>{const C=y.keyCode;y.isDefaultPrevented()||((C>=33&&C<=36||C>=37&&C<=40||45===C||y.ctrlKey)&&(b(),l.nodeChanged()),46!==C&&8!==C||l.nodeChanged(),p.get()&&h.typing&&!Au(tc(l),h.data[0])&&(l.isDirty()||l.setDirty(!0),l.dispatch("TypingUndo"),p.set(!1),l.nodeChanged()))}),l.on("keydown",y=>{const C=y.keyCode;y.isDefaultPrevented()||(C>=33&&C<=36||C>=37&&C<=40||45===C?h.typing&&b(y):!(C<16||C>20)||224===C||91===C||h.typing||y.ctrlKey&&!y.altKey||y.metaKey||(h.beforeChange(),ac(h,!0,u),h.add({},y),p.set(!0)))}),l.on("mousedown",y=>{h.typing&&b(y)}),l.on("input",y=>{var C,L;y.inputType&&("insertReplacementText"===y.inputType||"insertText"===(C=y).inputType&&null===C.data||"insertFromPaste"===(L=y).inputType||"insertFromDrop"===L.inputType)&&b(y)}),l.on("AddUndo Undo Redo ClearUndos",y=>{y.isDefaultPrevented()||l.nodeChanged()})})(e,s,i),(l=e).addShortcut("meta+z","","Undo"),l.addShortcut("meta+y,meta+shift+z","","Redo"),s;var l},uN=[9,27,_e.HOME,_e.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,_e.DOWN,_e.UP,_e.LEFT,_e.RIGHT].concat(at.browser.isFirefox()?[224]:[]),Ly="data-mce-placeholder",Ry=e=>"keydown"===e.type||"keyup"===e.type,Ty=e=>{const t=e.keyCode;return t===_e.BACKSPACE||t===_e.DELETE},gN=(e,t)=>({from:e,to:t}),Tu=(e,t)=>{const i=Q(e),r=Q(t.container());return Wl(i,r).map(s=>({block:s,position:t}))},Py=(e,t)=>Bi(t,i=>Mo(i)||Ka(i.dom),i=>it(i,e)).filter(ka).getOr(e),Oy=e=>{const t=(i=>{const r=Zt(i);return Mn(r,Qa).fold(Ae(r),s=>r.slice(0,s))})(e);return me(t,Ct),t},My=(e,t)=>{const i=Vn(t,e);return Mt(i.reverse(),r=>Pt(r)).each(Ct)},fN=(e,t,i,r)=>{if(Pt(i))return Yi(i),ha(i.dom);0===Ve(nf(r),l=>!Pt(l)).length&&Pt(t)&&Ta(r,jt("br"));const s=Ma(i.dom,ce.before(r.dom));return me(Oy(t),l=>{Ta(r,l)}),My(e,t),s},pN=(e,t,i)=>{if(Pt(i))return Ct(i),Pt(t)&&Yi(t),ha(t.dom);const r=yn(i.dom);return me(Oy(t),s=>{zt(i,s)}),My(e,t),r},Iy=(e,t)=>{Br(e,t.dom).bind(i=>X.from(i.getNode())).map(Q).filter(Hi).each(Ct)},_y=(e,t,i)=>{return Iy(!0,t),Iy(!1,i),(r=t,s=i,Fn(s,r)?((l,h)=>{const u=Vn(h,l);return X.from(u[u.length-1])})(s,r):X.none()).fold(Te(pN,e,t,i),Te(fN,e,t,i));var r,s},Dy=(e,t,i,r)=>t?_y(e,r,i):_y(e,i,r),Pu=(e,t)=>{const i=Q(e.getBody());return(s=i.dom,l=t,h=e.selection.getRng(),h.collapsed?((u,p,b)=>{const y=Tu(u,ce.fromRangeStart(b)),C=y.bind(L=>Oa(p,u,L.position).bind(R=>Tu(u,R).map(A=>{return P=u,N=p,Tt((O=A).position.getNode())&&!Pt(O.block)?Br(!1,O.block.dom).bind(M=>M.isEqual(O.position)?Oa(N,P,M).bind(B=>Tu(P,B)):X.some(O)).getOr(O):O;var P,N,O})));return qt(y,C,gN).filter(L=>{return!it((R=L).from.block,R.to.block)&&((R,A)=>{const P=Q(R);return it(Py(P,A.from.block),Py(P,A.to.block))})(u,L)&&(R=>!1===bt(R.from.block.dom)&&!1===bt(R.to.block.dom))(L)&&(R=>{const A=P=>Mf(P)||Vf(P.dom);return A(R.from.block)&&A(R.to.block)})(L);var R})})(s,l,h):X.none()).map(s=>()=>{Dy(i,t,s.from.block,s.to.block).each(l=>{e.selection.setRng(l.toRange())})});var s,l,h},By=(e,t)=>{const i=Q(t),r=Te(it,e);return li(i,Mo,r).isSome()},Ou=(e,t)=>e.selection.isCollapsed()?X.none():(e=>{const t=Q(e.getBody());return((i,r)=>{const s=Ma(i.dom,ce.fromRangeStart(r)).isNone(),l=ba(i.dom,ce.fromRangeEnd(r)).isNone();return!(By(h=i,(u=r).startContainer)||By(h,u.endContainer))&&s&&l;var h,u})(t,e.selection.getRng())?(i=e,X.some(()=>{i.setContent(""),i.selection.setCursorLocation()})):((i,r)=>{const s=r.getRng();return qt(Wl(i,Q(s.startContainer)),Wl(i,Q(s.endContainer)),(l,h)=>it(l,h)?X.none():X.some(()=>{s.deleteContents(),Dy(i,!0,l,h).each(u=>{r.setRng(u.toRange())})})).getOr(X.none())})(t,e.selection);var i})(e),jn=(e,t,i,r,s)=>X.from(t._selectionOverrides.showCaret(e,i,r,s)),xs=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?X.none():X.some((i=>{const r=i.ownerDocument.createRange();return r.selectNode(i),r})(t)),Mu=(e,t,i)=>t.collapsed?((r,s,l)=>{const h=Yd(1,r.getBody(),s),u=ce.fromRangeStart(h),p=u.getNode();if($o(p))return jn(1,r,p,!u.isAtEnd(),!1);const b=u.getNode(!0);if($o(b))return jn(1,r,b,!1,!1);const y=rr(r.dom.getRoot(),u.getNode());return $o(y)?jn(1,r,y,!1,l):X.none()})(e,t,i).getOr(t):t,bN=e=>wi(e)||ss(e),xN=e=>Ci(e)||ls(e),Fy=(e,t,i,r,s,l)=>{var h,u;jn(r,e,l.getNode(!s),s,!0).each(h=>{if(t.collapsed){const u=t.cloneRange();s?u.setEnd(h.startContainer,h.startOffset):u.setStart(h.endContainer,h.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(h)}),h=e.dom,ve(u=i)&&0===u.data.length&&h.remove(u)},Iu=(e,t)=>((i,r)=>{const s=i.selection.getRng();if(!ve(s.commonAncestorContainer))return X.none();const l=r?Ht.Forwards:Ht.Backwards,h=vn(i.getBody()),u=Te(Wd,r?h.next:h.prev),p=r?bN:xN,b=es(l,i.getBody(),s),y=u(b),C=y&&Ba(r,y);if(!C||!Cl(b,C))return X.none();if(p(C))return X.some(()=>Fy(i,s,b.getNode(),l,r,C));const L=u(C);return L&&p(L)&&Cl(C,L)?X.some(()=>Fy(i,s,b.getNode(),l,r,L)):X.none()})(e,t),_u=(e,t)=>{const i=e.getBody();return t?ha(i).filter(wi):yn(i).filter(Ci)},Du=e=>{const t=e.selection.getRng();return!t.collapsed&&(_u(e,!0).exists(i=>i.isEqual(ce.fromRangeStart(t)))||_u(e,!1).exists(i=>i.isEqual(ce.fromRangeEnd(t))))},za=mn([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),zy=(e,t,i)=>Oa(t,e,i).bind(r=>{return s=r.getNode(),Ce(s)&&(Mo(Q(s))||Oo(Q(s)))||((l,h,u,p)=>{const b=y=>od(Q(y))&&!bn(u,p,l);return km(!h,u).fold(()=>km(h,p).fold(vt,b),b)})(e,t,i,r)?X.none():t&&bt(r.getNode())||!t&&bt(r.getNode(!0))?((l,h,u,p)=>{const b=p.getNode(!h);return Wl(Q(l),Q(u.getNode())).map(y=>Pt(y)?za.remove(y.dom):za.moveToElement(b)).orThunk(()=>X.some(za.moveToElement(b)))})(e,t,i,r):t&&Ci(i)||!t&&wi(i)?X.some(za.moveToPosition(r)):X.none();var s}),Xy=(e,t)=>X.from(rr(e.getBody(),t)),Hy=e=>{const t=e.dom,i=e.selection,r=rr(e.getBody(),i.getNode());if(Ka(r)&&t.isBlock(r)&&t.isEmpty(r)){const s=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(s),i.setRng(ce.before(s).toRange())}return!0},Bu=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const i=e.selection.getNode();return Xy(e,i).filter(bt).fold(()=>((r,s,l)=>{const h=Yd(s?1:-1,r,l),u=ce.fromRangeStart(h),p=Q(r);return!s&&Ci(u)?X.some(za.remove(u.getNode(!0))):s&&wi(u)?X.some(za.remove(u.getNode())):!s&&wi(u)&&Rh(p,u)?_A(p,u).map(b=>za.remove(b.getNode())):s&&Ci(u)&&Lh(p,u)?DA(p,u).map(b=>za.remove(b.getNode())):(b=r,((L,R)=>{const A=R.getNode(!L),P=L?"after":"before";return Re(A)&&A.getAttribute("data-mce-caret")===P})(y=s,C=u)?(L=y,R=C.getNode(!y),be(R)?X.none():L&&bt(R.nextSibling)?X.some(za.moveToElement(R.nextSibling)):!L&&bt(R.previousSibling)?X.some(za.moveToElement(R.previousSibling)):X.none()).orThunk(()=>zy(b,y,C)):zy(b,y,C).bind(L=>((R,A,P)=>P.fold(N=>X.some(za.remove(N)),N=>X.some(za.moveToElement(N)),N=>bn(A,N,R)?X.none():X.some(za.moveToPosition(N))))(b,C,L)));var b,y,C,L,R})(e.getBody(),t,e.selection.getRng()).map(r=>()=>{return r.fold((s=e,l=t,h=>(s._selectionOverrides.hideFakeCaret(),nr(s,l,Q(h)),!0)),((s,l)=>h=>{const u=l?ce.before(h):ce.after(h);return s.selection.setRng(u.toRange()),!0})(e,t),(s=>l=>(s.selection.setRng(l.toRange()),!0))(e));var s,l}),()=>X.some(Qe))})(e,t):((i,r)=>{const s=i.selection.getNode();return bt(s)&&!tl(s)?Xy(i,s.parentNode).filter(bt).fold(()=>X.some(()=>{var l;l=Q(i.getBody()),me(ia(l,".mce-offscreen-selection"),Ct),nr(i,r,Q(i.selection.getNode())),Ih(i)}),()=>X.some(Qe)):Du(i)?X.some(()=>{Lx(i,i.selection.getRng(),Q(i.getBody()))}):X.none()})(e,t),Fu=(e,t)=>e.selection.isCollapsed()?((i,r)=>{const s=ce.fromRangeStart(i.selection.getRng());return Oa(r,i.getBody(),s).filter(l=>r?TA(l):PA(l)).bind(l=>Hd(r?0:-1,l)).map(l=>()=>i.selection.select(l))})(e,t):X.none(),$r=ve,Yy=e=>$r(e)&&e.data[0]===Qt,Wy=e=>$r(e)&&e.data[e.data.length-1]===Qt,Vy=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Qt)},cc=(e,t)=>e?(i=>{var r;if($r(i.previousSibling))return Wy(i.previousSibling)||i.previousSibling.appendData(Qt),i.previousSibling;if($r(i))return Yy(i)||i.insertData(0,Qt),i;{const s=Vy(i);return null===(r=i.parentNode)||void 0===r||r.insertBefore(s,i),s}})(t):(i=>{var r,s;if($r(i.nextSibling))return Yy(i.nextSibling)||i.nextSibling.insertData(0,Qt),i.nextSibling;if($r(i))return Wy(i)||i.appendData(Qt),i;{const l=Vy(i);return i.nextSibling?null===(r=i.parentNode)||void 0===r||r.insertBefore(l,i.nextSibling):null===(s=i.parentNode)||void 0===s||s.appendChild(l),l}})(t),yN=Te(cc,!0),wN=Te(cc,!1),jy=(e,t)=>ve(e.container())?cc(t,e.container()):cc(t,e.getNode()),Gy=(e,t)=>{const i=t.get();return i&&e.container()===i&&hi(i)},zu=(e,t)=>t.fold(i=>{Zi(e.get());const r=yN(i);return e.set(r),X.some(ce(r,r.length-1))},i=>ha(i).map(r=>{if(Gy(r,e)){const s=e.get();return ce(s,1)}{Zi(e.get());const s=jy(r,!0);return e.set(s),ce(s,1)}}),i=>yn(i).map(r=>{if(Gy(r,e)){const s=e.get();return ce(s,s.length-1)}{Zi(e.get());const s=jy(r,!1);return e.set(s),ce(s,s.length-1)}}),i=>{Zi(e.get());const r=wN(i);return e.set(r),X.some(ce(r,1))}),Uy=(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i].apply(null,t);if(r.isSome())return r}return X.none()},oa=mn([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),qy=(e,t)=>bi(t,e)||e,CN=(e,t,i)=>{const r=kx(i),s=qy(t,r.container());return ki(e,s,r).fold(()=>ba(s,r).bind(Te(ki,e,s)).map(l=>oa.before(l)),X.none)},kN=(e,t)=>null===Qi(e,t),$y=(e,t,i)=>ki(e,t,i).filter(Te(kN,t)),SN=(e,t,i)=>{const r=Sx(i);return $y(e,t,r).bind(s=>Ma(s,r).isNone()?X.some(oa.start(s)):X.none())},AN=(e,t,i)=>{const r=kx(i);return $y(e,t,r).bind(s=>ba(s,r).isNone()?X.some(oa.end(s)):X.none())},EN=(e,t,i)=>{const r=Sx(i),s=qy(t,r.container());return ki(e,s,r).fold(()=>Ma(s,r).bind(Te(ki,e,s)).map(l=>oa.after(l)),X.none)},Zy=e=>{return t=Xu(e),!("rtl"===gt.DOM.getStyle(t,"direction",!0)||(r=null!==(i=t.textContent)&&void 0!==i?i:"",YA.test(r)));var r,t,i},An=(e,t,i)=>Uy([CN,SN,AN,EN],[e,t,i]).filter(Zy),Xu=e=>e.fold(ct,ct,ct,ct),Ky=e=>e.fold(Ae("before"),Ae("start"),Ae("end"),Ae("after")),dc=e=>e.fold(oa.before,oa.before,oa.after,oa.after),Hu=e=>e.fold(oa.start,oa.start,oa.end,oa.end),NN=(e,t,i,r,s,l)=>qt(ki(t,i,r),ki(t,i,s),(h,u)=>h!==u&&((p,b,y)=>{const C=bi(b,p),L=bi(y,p);return Ce(C)&&C===L})(i,h,u)?oa.after(e?h:u):l).getOr(l),LN=(e,t)=>e.fold(Lt,i=>{return s=t,!(Ky(r=i)===Ky(s)&&Xu(r)===Xu(s));var r,s}),RN=(e,t)=>e?t.fold(dn(X.some,oa.start),X.none,dn(X.some,oa.after),X.none):t.fold(X.none,dn(X.some,oa.before),X.none,dn(X.some,oa.end)),Qy=(e,t,i)=>{const r=e?1:-1;return t.setRng(ce(i.container(),i.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var En;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(En||(En={}));const hc=(e,t)=>e===Ht.Backwards?Ti(t):t,TN=(e,t,i)=>e===Ht.Forwards?t.next(i):t.prev(i),PN=(e,t,i,r)=>Tt(r.getNode(t===Ht.Forwards))?En.Br:!1===bn(i,r)?En.Block:En.Wrap,Jy=(e,t,i,r)=>{const s=vn(i);let l=r;const h=[];for(;l;){const u=TN(t,s,l);if(!u)break;if(Tt(u.getNode(!1)))return t===Ht.Forwards?{positions:hc(t,h).concat([u]),breakType:En.Br,breakAt:X.some(u)}:{positions:hc(t,h),breakType:En.Br,breakAt:X.some(u)};if(u.isVisible()){if(e(l,u)){const p=PN(0,t,l,u);return{positions:hc(t,h),breakType:p,breakAt:X.some(u)}}h.push(u),l=u}else l=u}return{positions:hc(t,h),breakType:En.Eol,breakAt:X.none()}},e0=(e,t,i,r)=>t(i,r).breakAt.map(s=>{const l=t(i,s).positions;return e===Ht.Backwards?l.concat(s):[s].concat(l)}).getOr([]),Yu=(e,t)=>la(e,(i,r)=>i.fold(()=>X.some(r),s=>qt(ea(s.getClientRects()),ea(r.getClientRects()),(l,h)=>{const u=Math.abs(t-l.left);return Math.abs(t-h.left)<=u?r:s}).or(i)),X.none()),uc=(e,t)=>ea(t.getClientRects()).bind(i=>Yu(e,i.left)),vs=Te(Jy,ce.isAbove,-1),ys=Te(Jy,ce.isBelow,1),t0=Te(e0,-1,vs),a0=Te(e0,1,ys),ON=(e,t)=>uc(t0(e,t),t),MN=(e,t)=>uc(a0(e,t),t),IN=bt,n0=(e,t)=>Math.abs(e.left-t),i0=(e,t)=>Math.abs(e.right-t),r0=(e,t)=>vr(e,(i,r)=>{const s=Math.min(n0(i,t),i0(i,t)),l=Math.min(n0(r,t),i0(r,t));return l===s&&Dn(r,"node")&&IN(r.node)||l<s?r:i}),_N=e=>{const t=i=>tt(i,r=>{const s=qi(r);return s.node=e,s});if(Re(e))return t(e.getClientRects());if(ve(e)){const i=e.ownerDocument.createRange();return i.setStart(e,0),i.setEnd(e,e.data.length),t(i.getClientRects())}return[]},o0=e=>Ua(e,_N);var ws;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(ws||(ws={}));const s0=(e,t,i,r,s,l)=>{let h=0;const u=[],p=C=>{let L=o0([C]);-1===e&&(L=L.reverse());for(let R=0;R<L.length;R++){const A=L[R];if(!i(A,b)){if(u.length>0&&t(A,na(u))&&h++,A.line=h,s(A))return!0;u.push(A)}}return!1},b=na(l.getClientRects());if(!b)return u;const y=l.getNode();return y&&(p(y),((C,L,R,A)=>{let P=A;for(;P=Ko(P,C,Ff,L);)if(R(P))return})(e,r,p,y)),u},DN=Te(s0,ws.Up,Wo,Vo),BN=Te(s0,ws.Down,Vo,Wo),l0=e=>na(e.getClientRects()),c0=e=>t=>t.line>e,Wu=e=>t=>t.line===e,Gn=(e,t)=>{e.selection.setRng(t),os(e,e.selection.getRng())},Vu=(e,t,i)=>X.some(Mu(e,t,i)),d0=(e,t,i,r,s,l)=>{const h=t===Ht.Forwards,u=vn(e.getBody()),p=Te(Wd,h?u.next:u.prev),b=h?r:s;if(!i.collapsed){const A=fl(i);if(l(A))return jn(t,e,A,t===Ht.Backwards,!1);if(Du(e)){const P=i.cloneRange();return P.collapse(t===Ht.Backwards),X.from(P)}}const y=es(t,e.getBody(),i);if(b(y))return xs(e,y.getNode(!h));let C=p(y);const L=_f(i);if(!C)return L?X.some(i):X.none();if(C=Ba(h,C),b(C))return jn(t,e,C.getNode(!h),h,!1);const R=p(C);return R&&b(R)&&Cl(C,R)?jn(t,e,R.getNode(!h),h,!1):L?Vu(e,C.toRange(),!1):X.none()},h0=(e,t,i,r,s,l)=>{const h=es(t,e.getBody(),i),u=na(h.getClientRects()),p=t===ws.Down,b=e.getBody();if(!u)return X.none();if(Du(e)){const P=p?ce.fromRangeEnd(i):ce.fromRangeStart(i);return(p?MN:ON)(b,P).orThunk(()=>X.from(P)).map(N=>N.toRange())}const y=(p?BN:DN)(b,c0(1),h),C=Ve(y,Wu(1)),L=u.left,R=r0(C,L);if(R&&l(R.node)){const P=Math.abs(L-R.left),N=Math.abs(L-R.right);return jn(t,e,R.node,P<N,!1)}let A;if(A=r(h)?h.getNode():s(h)?h.getNode(!0):fl(i),A){const P=((O,M,B,Y)=>{const U=vn(M);let G,Z,$,K;const te=[];let ne=0;1===O?(G=U.next,Z=Vo,$=Wo,K=ce.after(Y)):(G=U.prev,Z=Wo,$=Vo,K=ce.before(Y));const se=l0(K);do{if(!K.isVisible())continue;const re=l0(K);if($(re,se))continue;te.length>0&&Z(re,na(te))&&ne++;const he=qi(re);if(he.position=K,he.line=ne,B(he))return te;te.push(he)}while(K=G(K));return te})(t,b,c0(1),A);let N=r0(Ve(P,Wu(1)),L);if(N||(N=na(Ve(P,Wu(0))),N))return Vu(e,N.position.toRange(),!1)}return 0===C.length?ju(e,p).filter(p?s:r).map(P=>Mu(e,P.toRange(),!1)):X.none()},ju=(e,t)=>{const i=e.selection.getRng(),r=t?ce.fromRangeEnd(i):ce.fromRangeStart(i),s=(l=r.container(),h=e.getBody(),li(Q(l),u=>FS(u.dom),u=>u.dom===h).map(u=>u.dom).getOr(h));var l,h;if(t){const u=ys(s,r);return un(u.positions)}{const u=vs(s,r);return ea(u.positions)}},u0=(e,t,i)=>ju(e,t).filter(i).exists(r=>(e.selection.setRng(r.toRange()),!0)),gc=(e,t)=>{const i=e.dom.createRng();i.setStart(t.container(),t.offset()),i.setEnd(t.container(),t.offset()),e.selection.setRng(i)},g0=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},f0=(e,t,i)=>zu(t,i).map(r=>(gc(e,r),i)),p0=(e,t,i)=>!!qo(e)&&((e,t,i)=>{const r=e.getBody(),s=((l,h,u)=>{const p=ce.fromRangeStart(l);if(l.collapsed)return p;{const b=ce.fromRangeEnd(l);return u?Ma(h,b).getOr(b):ba(h,p).getOr(p)}})(e.selection.getRng(),r,i);return((l,h,u,p)=>{const b=Ba(l,p),y=An(h,u,b);return An(h,u,b).bind(Te(RN,l)).orThunk(()=>((C,L,R,A,P)=>{const N=Ba(C,P);return Oa(C,R,N).map(Te(Ba,C)).fold(()=>A.map(dc),O=>An(L,R,O).map(Te(NN,C,L,R,N,O)).filter(Te(LN,A))).filter(Zy)})(l,h,u,y,p))})(i,Te(ir,e),r,s).bind(l=>f0(e,t,l))})(e,t,i).isSome(),m0=(e,t,i)=>!!qo(t)&&((r,s)=>{const l=s.selection.getRng(),h=r?ce.fromRangeEnd(l):ce.fromRangeStart(l);return!!nt(s.selection.getSel().modify)&&(r&&cd(h)?Qy(!0,s.selection,h):!(r||!dd(h))&&Qy(!1,s.selection,h))})(e,t),XN=Te(m0,!0),HN=Te(m0,!1),fc=(e,t,i)=>{if(qo(e)){const r=ju(e,t).getOrThunk(()=>{const s=e.selection.getRng();return t?ce.fromRangeEnd(s):ce.fromRangeStart(s)});return An(Te(ir,e),e.getBody(),r).exists(s=>{const l=dc(s);return zu(i,l).exists(h=>(gc(e,h),!0))})}return!1},b0=(e,t)=>i=>zu(t,i).map(r=>()=>gc(e,r)),x0=(e,t,i,r)=>{const s=e.getBody(),l=Te(ir,e);e.undoManager.ignore(()=>{e.selection.setRng(((h,u)=>{const p=document.createRange();return p.setStart(h.container(),h.offset()),p.setEnd(u.container(),u.offset()),p})(i,r)),Ex(e),An(l,s,ce.fromRangeStart(e.selection.getRng())).map(Hu).bind(b0(e,t)).each(Ga)}),e.nodeChanged()},Gu=(e,t,i)=>{if(e.selection.isCollapsed()&&qo(e)){const r=ce.fromRangeStart(e.selection.getRng());return((s,l,h,u)=>{const p=(C=s.getBody(),L=u.container(),bi(L,C)||C),b=Te(ir,s),y=An(b,p,u);var C,L;return y.bind(C=>h?C.fold(Ae(X.some(Hu(C))),X.none,Ae(X.some(dc(C))),X.none):C.fold(X.none,Ae(X.some(dc(C))),X.none,Ae(X.some(Hu(C))))).map(b0(s,l)).getOrThunk(()=>{const C=Sl(h,p,u),L=C.bind(R=>An(b,p,R));return qt(y,L,()=>ki(b,p,u).bind(R=>{return qt(ha(A=R),yn(A),(P,N)=>{const O=Ba(!0,P),M=Ba(!1,N);return ba(A,O).forall(B=>B.isEqual(M))}).getOr(!0)?X.some(()=>{nr(s,h,Q(R))}):X.none();var A})).getOrThunk(()=>L.bind(()=>C.map(R=>()=>{h?x0(s,l,u,R):x0(s,l,R,u)})))})})(e,t,i,r)}return X.none()},YN=e=>1===sf(e),Uu=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const i=Q(e.getBody()),r=Q(e.selection.getStart()),s=Ve(((l,h)=>{const u=Vn(h,l);return Mn(u,Qa).fold(Ae(u),p=>u.slice(0,p))})(i,r),YN);return un(s).bind(l=>{const h=ce.fromRangeStart(e.selection.getRng());return p=t,b=h,!qt(ha(y=l.dom),yn(y),(C,L)=>{const R=Ba(!0,C),A=Ba(!1,L),P=Ba(!1,b);return p?ba(y,P).exists(N=>N.isEqual(A)&&b.isEqual(R)):Ma(y,P).exists(N=>N.isEqual(R)&&b.isEqual(A))}).getOr(!0)||tn((u=l).dom)&&qx(u.dom)?X.none():X.some(()=>((p,b,y,C)=>{const L=Te(nE,b),R=tt(Ve(C,L),A=>A.dom);if(0===R.length)nr(b,p,y);else{const A=((P,N)=>{const O=tu(!1),M=Kx(N,O.dom);return Ta(Q(P),O),Ct(Q(P)),ce(M,0)})(y.dom,R);b.selection.setRng(A.toRange())}})(t,e,l,s));var p,b,y,u})})(e,t):X.none(),qu=(e,t,i)=>Ce(i)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),nr(e,t,Q(i))}):X.none(),$u=(e,t)=>e.selection.isCollapsed()?((i,r)=>{const s=r?ss:ls,h=es(r?Ht.Forwards:Ht.Backwards,i.getBody(),i.selection.getRng());return s(h)?qu(i,r,h.getNode(!r)):X.from(Ba(r,h)).filter(u=>s(u)&&Cl(h,u)).bind(u=>qu(i,r,u.getNode(!r)))})(e,t):((i,r)=>{const s=i.selection.getNode();return pn(s)?qu(i,r,s):X.none()})(e,t),Zu=e=>d(e??"").getOr(0),v0=(e,t)=>(e||"table"===yt(t)?"margin":"padding")+("rtl"===fn(t,"direction")?"-right":"-left"),y0=e=>{const t=C0(e);return!e.mode.isReadOnly()&&(t.length>1||(i=e,In(t,s=>{const l=v0(am(i),s),h=Zs(s,l).map(Zu).getOr(0);return"false"!==i.dom.getContentEditable(s.dom)&&h>0})));var i},w0=e=>sd(e)||Oo(e),C0=e=>Ve(mf(e.selection.getSelectedBlocks()),t=>!w0(t)&&!$a(t).exists(w0)&&Bi(t,i=>Ka(i.dom)||bt(i.dom)).exists(i=>Ka(i.dom))),k0=(e,t)=>{var i,r;const{dom:s}=e,l=Fk(e),h=null!==(r=null===(i=/[a-z%]+$/i.exec(l))||void 0===i?void 0:i[0])&&void 0!==r?r:"px",u=Zu(l),p=am(e);me(C0(e),b=>{((y,C,L,R,A,P)=>{const N=v0(L,Q(P)),O=Zu(y.getStyle(P,N));if("outdent"===C){const M=Math.max(0,O-R);y.setStyle(P,N,M?M+A:"")}else y.setStyle(P,N,O+R+A)})(s,t,p,u,h,b.dom)})},S0=e=>k0(e,"outdent"),A0=e=>{if(e.selection.isCollapsed()&&y0(e)){const t=e.dom,i=e.selection.getRng(),r=ce.fromRangeStart(i),s=t.getParent(i.startContainer,t.isBlock);if(null!==s&&Nh(Q(s),r))return X.some(()=>S0(e))}return X.none()},E0=(e,t,i)=>ni([A0,Bu,Iu,(r,s)=>Gu(r,t,s),Pu,Yh,Fu,$u,Ou,Uu],r=>r(e,i)),N0=e=>void 0===e.touches||1!==e.touches.length?X.none():X.some(e.touches[0]),Ku=(e,t)=>Ze(e,t.nodeName),jN=(e,t)=>!!ve(t)||!!Re(t)&&!Ku(e.getBlockElements(),t)&&!Ia(t)&&!_o(e,t),GN=(e,t)=>!(!ve(t)||0!==t.data.length&&(!/^\s+$/.test(t.data)||t.nextSibling&&!Ku(e,t.nextSibling))),L0=e=>e.dom.create(Sa(e),Uo(e)),UN=e=>{const t=e.dom,i=e.selection,r=e.schema,s=r.getBlockElements(),l=i.getStart(),h=e.getBody();let u,p,b=!1;const y=Sa(e);if(!l||!Re(l))return;const C=h.nodeName.toLowerCase();if(!r.isValidChild(C,y.toLowerCase())||(B=s,Y=h,mt(rx(Q(l),Q(Y)),G=>Ku(B,G.dom))))return;var B,Y;const L=i.getRng(),{startContainer:R,startOffset:A,endContainer:P,endOffset:N}=L,O=ar(e);let M=h.firstChild;for(;M;)if(Re(M)&&$C(r,M),jN(r,M)){if(GN(s,M)){p=M,M=M.nextSibling,t.remove(p);continue}u||(u=L0(e),h.insertBefore(u,M),b=!0),p=M,M=M.nextSibling,u.appendChild(p)}else u=null,M=M.nextSibling;b&&O&&(L.setStart(R,A),L.setEnd(P,N),i.setRng(L),e.nodeChanged())},R0=(e,t,i)=>{const r=Q(L0(e)),s=ld();zt(r,s),i(t,r);const l=document.createRange();return l.setStartBefore(s.dom),l.setEndBefore(s.dom),l},T0=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),qN=(e,t,i)=>function(r){const s=arguments,l=s[s.length-2],h=l>0?t.charAt(l-1):"";if('"'===h)return r;if(">"===h){const u=t.lastIndexOf("<",l);if(-1!==u&&-1!==t.substring(u,l).indexOf('contenteditable="false"'))return r}return'<span class="'+i+'" data-mce-content="'+e.dom.encode(s[0])+'">'+e.dom.encode("string"==typeof s[1]?s[1]:s[0])+"</span>"},P0=(e,t)=>{t.hasAttribute("data-mce-caret")&&(hd(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},$N=(e,t)=>{const i=Ro(Q(e.getBody()),"*[data-mce-caret]").map(s=>s.dom).getOrNull();if(i)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void P0(e,i)):void(If(i)&&(P0(e,i),e.undoManager.add()))},O0=bt,M0=(e,t,i)=>{const r=vn(e.getBody()),s=Te(Wd,1===t?r.next:r.prev);if(i.collapsed){const l=e.dom.getParent(i.startContainer,"PRE");if(!l)return;if(!s(ce.fromRangeStart(i))){const h=Q((u=>{const p=u.dom.create(Sa(u));return p.innerHTML='<br data-mce-bogus="1">',p})(e));1===t?oi(Q(l),h):Ta(Q(l),h),e.selection.select(h.dom,!0),e.selection.collapse()}}},I0=(e,t)=>((i,r)=>{const s=r?Ht.Forwards:Ht.Backwards,l=i.selection.getRng();return(h=s,u=i,p=l,d0(u,h,p,wi,Ci,O0)).orThunk(()=>(M0(i,s,l),X.none()));var h,u,p})(e,t).exists(i=>(Gn(e,i),!0)),_0=(e,t)=>((i,r)=>{const s=r?1:-1,l=i.selection.getRng();return(h=s,u=i,p=l,h0(u,h,p,b=>wi(b)||nx(b),b=>Ci(b)||ix(b),O0)).orThunk(()=>(M0(i,s,l),X.none()));var h,u,p})(e,t).exists(i=>(Gn(e,i),!0)),D0=(e,t)=>u0(e,t,t?Ci:wi),pc=(e,t)=>_u(e,!t).map(i=>{const r=i.toRange(),s=e.selection.getRng();return t?r.setStart(s.startContainer,s.startOffset):r.setEnd(s.endContainer,s.endOffset),r}).exists(i=>(Gn(e,i),!0)),ZN=e=>st(["figcaption"],yt(e)),B0=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const i=Q(e.getBody()),r=ce.fromRangeStart(e.selection.getRng());return((s,l)=>{const h=Te(it,l);return Bi(Q(s.container()),Qa,h).filter(ZN)})(r,i).exists(()=>{if(s=i,h=r,t?ys(s.dom,h).breakAt.isNone():vs(s.dom,h).breakAt.isNone()){const s=R0(e,i,t?zt:pf);return e.selection.setRng(s),!0}var s,h;return!1})})(e,t),F0={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},z0=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Ke=(e,...t)=>()=>e.apply(null,t),Cs=(e,t)=>{return Mt((r=t,Ua(tt(e,l=>({...F0,...l})),s=>z0(s,r)?[s]:[])),i=>i.action());var r},X0=(e,t)=>{return ni((r=t,Ua(tt(e,l=>({...F0,...l})),s=>z0(s,r)?[s]:[])),i=>i.action());var r},H0=(e,t)=>{const i=t?Ht.Forwards:Ht.Backwards,r=e.selection.getRng();return d0(e,i,r,ss,ls,pn).exists(s=>(Gn(e,s),!0))},Y0=(e,t)=>{const i=t?1:-1,r=e.selection.getRng();return h0(e,i,r,ss,ls,pn).exists(s=>(Gn(e,s),!0))},W0=(e,t)=>u0(e,t,t?ls:ss),V0=mn([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ks={...V0,none:e=>V0.none(e)},j0=(e,t,i)=>Ua(Zt(e),r=>qa(r,t)?i(r)?[r]:[]:j0(r,t,i)),G0=(e,t)=>Fi(e,"table",t),Qu=(e,t,i,r,s=Lt)=>{const l=1===r;if(!l&&i<=0)return ks.first(e[0]);if(l&&i>=e.length-1)return ks.last(e[e.length-1]);{const h=i+r,u=e[h];return s(u)?ks.middle(t,u):Qu(e,t,h,r,s)}},U0=(e,t)=>G0(e,t).bind(i=>{const r=j0(i,"th,td",Lt);return Mn(r,s=>it(e,s)).map(s=>({index:s,all:r}))}),q0=(e,t=!1)=>{return Ar(e)?e.dom.isContentEditable:(i=e,Fi(i,"[contenteditable]")).fold(Ae(t),r=>"true"===QN(r));var i},QN=e=>e.dom.contentEditable,$0=(e,t,i,r,s)=>{const l=ia(Q(i),"td,th,caption").map(u=>u.dom);var u;return((u,p,b)=>la(u,(y,C)=>y.fold(()=>X.some(C),L=>{const R=Math.sqrt(Math.abs(L.x-p)+Math.abs(L.y-b)),A=Math.sqrt(Math.abs(C.x-p)+Math.abs(C.y-b));return X.some(A<R?C:L)}),X.none()))(Ve((u=e,Ua(l,b=>{const y={left:(C=qi(b.getBoundingClientRect())).left- -1,top:C.top- -1,right:C.right+-2,bottom:C.bottom+-2,width:C.width+-1,height:C.height+-1};var C;return[{x:y.left,y:u(y),cell:b},{x:y.right,y:u(y),cell:b}]})),u=>t(u,s)),r,s).map(u=>u.cell)},JN=Te($0,e=>e.bottom,(e,t)=>e.y<t),eL=Te($0,e=>e.top,(e,t)=>e.y>t),Z0=(e,t,i)=>{const r=e(t,i);return(s=r).breakType===En.Wrap&&0===s.positions.length||!Tt(i.getNode())&&(s=>s.breakType===En.Br&&1===s.positions.length)(r)?!((s,l,h)=>h.breakAt.exists(u=>s(l,u).breakAt.isSome()))(e,t,r):r.breakAt.isNone();var s},tL=Te(Z0,vs),aL=Te(Z0,ys),nL=(e,t,i,r)=>{const s=e.selection.getRng(),l=t?1:-1;return!(!bm()||!((h,u,p)=>{const b=ce.fromRangeStart(u);return Br(!h,p).exists(y=>y.isEqual(b))})(t,s,i)||(jn(l,e,i,!t,!1).each(h=>{Gn(e,h)}),0))},K0=(e,t,i)=>{const r=((l,h)=>{const u=h.getNode(l);return Xn(u)?X.some(u):X.none()})(!!t,i),s=!1===t;r.fold(()=>Gn(e,i.toRange()),l=>Br(s,e.getBody()).filter(h=>h.isEqual(i)).fold(()=>Gn(e,i.toRange()),h=>{return u=t,b=l,void(p=e).undoManager.transact(()=>{const y=u?oi:Ta,C=R0(p,Q(b),y);Gn(p,C)});var u,p,b}))},iL=(e,t,i,r)=>{const s=e.selection.getRng(),l=ce.fromRangeStart(s),h=e.getBody();if(!t&&tL(r,l)){const u=(p=h,(C=b=i,L=y=l,ea(L.getClientRects()).bind(R=>JN(C,R.left,R.top)).bind(R=>{return uc(yn(A=R).map(P=>vs(A,P).positions.concat(P)).getOr([]),L);var A})).orThunk(()=>ea(y.getClientRects()).bind(C=>Yu(t0(p,ce.before(b)),C.left))).getOr(ce.before(b)));return K0(e,t,u),!0}var p,b,y,C,L;if(t&&aL(r,l)){const u=((p,b,y)=>((C,L)=>un(L.getClientRects()).bind(R=>eL(C,R.left,R.top)).bind(R=>{return uc(ha(A=R).map(P=>[P].concat(ys(A,P).positions)).getOr([]),L);var A}))(b,y).orThunk(()=>ea(y.getClientRects()).bind(C=>Yu(a0(p,ce.after(b)),C.left))).getOr(ce.after(b)))(h,i,l);return K0(e,t,u),!0}return!1},Q0=(e,t,i)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>X.from(e.dom.getParent(r,"table")).map(s=>i(e,t,s,r))).getOr(!1),J0=(e,t)=>Q0(e,t,nL),ew=(e,t)=>Q0(e,t,iL),tw=(e,t,i)=>i.fold(X.none,X.none,(r,s)=>{return(l=s,((h,u)=>{const p=b=>{for(let y=0;y<b.childNodes.length;y++){const C=Q(b.childNodes[y]);if(u(C))return X.some(C);const L=p(b.childNodes[y]);if(L.isSome())return L}return X.none()};return p(h.dom)})(l,Yb)).map(h=>{return(e=>{const t=Yr.getWin(e).dom,i=(s,l,h,u)=>ch(t,s,l,h,u),r=e.match({domRange:l=>{const h=Q(l.startContainer),u=Q(l.endContainer);return bb(h,l.startOffset,u,l.endOffset)},relative:iA,exact:bb});return((s,l)=>{var u;return((u,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>!1===y.collapsed).map(y=>rs.rtl(Q(y.endContainer),y.endOffset,Q(y.startContainer),y.startOffset)).getOrThunk(()=>pb(0,rs.ltr,b)):pb(0,rs.ltr,b)})(0,(u=s,l.match({domRange:b=>({ltr:Ae(b),rtl:X.none}),relative:(b,y)=>({ltr:La(()=>fb(u,b,y)),rtl:La(()=>X.some(fb(u,y,b)))}),exact:(b,y,C,L)=>({ltr:La(()=>ch(u,b,y,C,L)),rtl:La(()=>X.some(ch(u,C,L,b,y)))})})))})(t,r).match({ltr:i,rtl:i})})(Yr.exact(u=h,0,u,0));var u});var l},r=>(e.execCommand("mceTableInsertRowAfter"),aw(e,t,r))),aw=(e,t,i)=>{return tw(e,t,(s=q0,U0(r=i,void 0).fold(()=>ks.none(r),l=>Qu(l.all,r,l.index,1,s))));var r,s},rL=(e,t,i)=>{return tw(e,t,(s=q0,U0(r=i,void 0).fold(()=>ks.none(),l=>Qu(l.all,r,l.index,-1,s))));var r,s},nw=(e,t)=>{const i=["table","li","dl"],r=Q(e.getBody()),s=h=>{const u=yt(h);return it(h,r)||st(i,u)},l=e.selection.getRng();return(h=Q(t?l.endContainer:l.startContainer),u=s,((p,b,y=vt)=>y(b)?X.none():st(p,yt(b))?X.some(b):Lo(b,p.join(","),C=>qa(C,"table")||y(C)))(["td","th"],h,u)).map(h=>(G0(h,s).each(u=>{e.model.table.clearSelectedCells(u.dom)}),e.selection.collapse(!t),(t?aw:rL)(e,s,h).each(u=>{e.selection.setRng(u)}),!0)).getOr(!1);var h,u},on=(e,t)=>({container:e,offset:t}),mc=gt.DOM,bc=e=>t=>e===t?-1:0,Ju=(e,t,i)=>{if(ve(e)&&t>=0)return X.some(on(e,t));{const r=Ui(mc);return X.from(r.backwards(e,t,bc(e),i)).map(s=>on(s.container,s.container.data.length))}},eg=(e,t,i)=>{if(!ve(e))return X.none();if(t>=0&&t<=e.data.length)return X.some(on(e,t));{const s=Ui(mc);return X.from(s.backwards(e,t,bc(e),i)).bind(l=>eg(l.container,t+l.container.data.length,i))}},iw=(e,t,i)=>{if(!ve(e))return X.none();const r=e.data;if(t<=r.length)return X.some(on(e,t));{const s=Ui(mc);return X.from(s.forwards(e,t,bc(e),i)).bind(l=>iw(l.container,t-r.length,i))}},tg=(e,t,i,r,s)=>{const l=Ui(e,(h=e,u=>h.isBlock(u)||st(["BR","IMG","HR","INPUT"],u.nodeName)||"false"===h.getContentEditable(u)));var h;return X.from(l.backwards(t,i,r,s))},rw=e=>Hn(e.toString().replace(/\u00A0/g," ")),ow=e=>""!==e&&-1!==" \xa0\f\n\r\t\v".indexOf(e),ag=(e,t)=>e.substring(t.length),sw=(e,t,i,r=0)=>{return(s=Q(t.startContainer),Fi(s,Wb)).fold(()=>((l,h,u,p=0)=>{if(!(b=h).collapsed||!ve(b.startContainer))return X.none();var b;const y={text:"",offset:0},C=l.getParent(h.startContainer,l.isBlock)||l.getRoot();return tg(l,h.startContainer,h.startOffset,(L,R,A)=>(y.text=A+y.text,y.offset+=R,((P,N,O)=>{let M;const B=O.charAt(0);for(M=N-1;M>=0;M--){const Y=P.charAt(M);if(ow(Y))return X.none();if(B===Y&&Ft(P,O,M,N))break}return X.some(M)})(y.text,y.offset,u).getOr(R)),C).bind(L=>{const R=h.cloneRange();if(R.setStart(L.container,L.offset),R.setEnd(h.endContainer,h.endOffset),R.collapsed)return X.none();const A=rw(R);return 0!==A.lastIndexOf(u)||ag(A,u).length<p?X.none():X.some({text:ag(A,u),range:R,trigger:u})})})(e,t,i,r),l=>{const h=e.createRng();h.selectNode(l.dom);const u=rw(h);return X.some({range:h,text:ag(u,i),trigger:i})});var s},lw=e=>{if(3===e.nodeType)return on(e,e.data.length);{const t=e.childNodes;return t.length>0?lw(t[t.length-1]):on(e,t.length)}},cw=(e,t)=>{const i=e.childNodes;return i.length>0&&t<i.length?cw(i[t],0):i.length>0&&1===e.nodeType&&i.length===t?lw(i[i.length-1]):on(e,t)},dw=(e,t,i,r={})=>{var s;const l=t(),h=null!==(s=e.selection.getRng().startContainer.nodeValue)&&void 0!==s?s:"",u=Ve(l.lookupByTrigger(i.trigger),b=>i.text.length>=b.minChars&&b.matches.getOrThunk(()=>{return y=e.dom,C=>{const L=cw(C.startContainer,C.startOffset);return!((R,A)=>{var P;const N=null!==(P=R.getParent(A.container,R.isBlock))&&void 0!==P?P:R.getRoot();return tg(R,A.container,A.offset,(O,M)=>0===M?-1:M,N).filter(O=>{const M=O.container.data.charAt(O.offset-1);return!ow(M)}).isSome()})(y,L)};var y})(i.range,h,i.text));if(0===u.length)return X.none();const p=Promise.all(tt(u,b=>b.fetch(i.text,b.maxResults,r).then(y=>({matchText:i.text,items:y,columns:b.columns,onAction:b.onAction,highlightOn:b.highlightOn}))));return X.some({lookupData:p,context:i})};var Nn;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(Nn||(Nn={}));const ng=(e,t,i)=>e.stype===Nn.Error?t(e.serror):i(e.svalue),Zr=e=>({stype:Nn.Value,svalue:e}),Ss=e=>({stype:Nn.Error,serror:e}),oL=ng,ig=e=>xt(e)&&aa(e).length>100?" removed due to size":JSON.stringify(e,null,2),xc=(e,t)=>Ss([{path:e,getErrorInfo:t}]),hw=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const i={};for(let r=0;r<t.length;r++){const s=t[r];for(const l in s)Ze(s,l)&&(i[l]=e(i[l],s[l]))}return i},rg=hw((e,t)=>lo(e)&&lo(t)?rg(e,t):t),uw=(hw((e,t)=>t),e=>({tag:"defaultedThunk",process:Ae(e)})),gw=(e,t,i)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return i(e.newKey,e.instantiator)}},og=e=>({extract:(t,i)=>{return(r=e(i)).stype===Nn.Error?xc(t,Ae(r.serror)):r;var r},toString:Ae("val")}),cL=og(Zr),fw=(e,t,i,r)=>r(pt(e,t).getOrThunk(()=>i(e))),dL=(e,t,i,r,s)=>{const l=u=>s.extract(t.concat([r]),u),h=u=>u.fold(()=>Zr(X.none()),p=>{return(y=s.extract(t.concat([r]),p)).stype===Nn.Value?{stype:Nn.Value,svalue:(0,X.some)(y.svalue)}:y;var y});switch(e.tag){case"required":return u=t,y=l,pt(p=i,b=r).fold(()=>{return L=b,R=p,xc(u,()=>'Could not find valid *required* value for "'+L+'" in '+ig(R));var L,R},y);case"defaultedThunk":return fw(i,r,e.process,l);case"option":return((u,p,b)=>b(pt(u,p)))(i,r,h);case"defaultedOptionThunk":return((u,p,b,y)=>y(pt(u,p).map(C=>!0===C?b(u):C)))(i,r,e.process,h);case"mergeWithThunk":return fw(i,r,Ae({}),u=>{const p=rg(e.process(i),u);return l(p)})}var u,p,b,y},sg=e=>({extract:(t,i)=>((r,s,l)=>{const h={},u=[];for(const p of l)gw(p,(b,y,C,L)=>{const R=dL(C,r,s,b,L);oL(R,A=>{u.push(...A)},A=>{h[y]=A})},(b,y)=>{h[b]=y(s)});return u.length>0?Ss(u):Zr(h)})(t,i,e),toString:()=>"obj{\n"+tt(e,i=>gw(i,(r,s,l,h)=>r+" -> "+h.toString(),(r,s)=>"state("+r+")")).join("\n")+"}"}),pw=e=>({extract:(t,i)=>(e=>{const t=(r=>{const s=[],l=[];return me(r,h=>{ng(h,u=>l.push(u),u=>s.push(u))}),{values:s,errors:l}})(e);return t.errors.length>0?(i=t.errors,dn(Ss,zs)(i)):Zr(t.values);var i})(tt(i,(s,l)=>e.extract(t.concat(["["+l+"]"]),s))),toString:()=>"array("+e.toString()+")"}),mw=(e,t)=>((e,t)=>({extract:(i,r)=>pt(r,e).fold(()=>{return l=e,xc(i,()=>'Choice schema did not contain choice key: "'+l+'"');var l},s=>{return l=i,h=r,pt(u=t,p=s).fold(()=>{return y=u,C=p,xc(l,()=>'The chosen schema: "'+C+'" did not exist in branches: '+ig(y));var y,C},b=>b.extract(l.concat(["branch: "+p]),h));var l,h,u,p}),toString:()=>"chooseOn("+e+"). Possible values: "+aa(t)}))(e,mr(t,sg)),uL=Ae(cL),vc=(e,t)=>og(i=>{const r=typeof i;return e(i)?Zr(i):Ss(`Expected type: ${t} but got: ${r}`)}),gL=vc(Na,"number"),yc=vc(Ye,"string"),fL=vc(Ca,"boolean"),lg=vc(nt,"function"),As=(e,t,i,r)=>({tag:"field",key:e,newKey:t,presence:i,prop:r}),bw=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),xw=(e,t)=>As(e,e,{tag:"required",process:{}},t),vw=e=>xw(e,yc),yw=e=>xw(e,lg),cg=(e,t)=>As(e,e,{tag:"option",process:{}},t),wc=e=>cg(e,yc),Kr=(e,t,i)=>As(e,e,uw(t),i),ww=(e,t)=>Kr(e,t,gL),Cw=(e,t,i)=>{return Kr(e,t,(r=i,s=l=>st(r,l)?da.value(l):da.error(`Unsupported value: "${l}", choose one of "${r.join(", ")}".`),og(l=>s(l).fold(Ss,Zr))));var r,s},dg=(e,t)=>Kr(e,t,fL),hg=(e,t)=>Kr(e,t,lg),pL=vw("type"),mL=yw("fetch"),ug=yw("onAction"),bL=hg("onSetup",()=>Qe),xL=wc("text"),vL=wc("icon"),yL=wc("tooltip"),wL=wc("label"),CL=dg("active",!1),kL=dg("enabled",!0),kw=dg("primary",!1),Es=e=>Kr("type",e,yc),SL=sg([pL,vw("trigger"),ww("minChars",1),((e,t)=>As(e,e,uw(1),uL()))("columns"),ww("maxResults",10),cg("matches",lg),mL,ug,(Sw=yc,Kr("highlightOn",[],pw(Sw)))]);var Sw;const gg=[kL,yL,vL,xL,bL],Aw=[CL].concat(gg),AL=[hg("predicate",vt),Cw("scope","node",["node","editor"]),Cw("position","selection",["node","selection","line"])],EL=gg.concat([Es("contextformbutton"),kw,ug,bw("original",ct)]),NL=Aw.concat([Es("contextformbutton"),kw,ug,bw("original",ct)]),LL=gg.concat([Es("contextformbutton")]),RL=Aw.concat([Es("contextformtogglebutton")]),TL=mw("type",{contextformbutton:EL,contextformtogglebutton:NL});sg([Es("contextform"),hg("initValue",Ae("")),wL,((e,t)=>As(e,e,{tag:"required",process:{}},pw(t)))("commands",TL),cg("launch",mw("type",{contextformbutton:LL,contextformtogglebutton:RL}))].concat(AL));const OL=e=>{const t=fi(),i=Xt(!1),r=t.isSet,s=()=>{r()&&(Rt(e).autocompleter.removeDecoration(),e.dispatch("AutocompleterEnd"),i.set(!1),t.clear())},l=La(()=>(e=>{const t=e.ui.registry.getAll().popups,i=mr(t,l=>{return(h=l,((e,t,i)=>{return r=(u=t.extract([e],h=i)).stype===Nn.Error?{stype:Nn.Error,serror:(u=>({input:h,errors:u}))(u.serror)}:u,ng(r,da.error,da.value);var h,u,r})("Autocompleter",SL,{trigger:h.ch,...h})).fold(u=>{throw new Error("Errors: \n"+(b=>{const y=b.length>10?b.slice(0,10).concat([{path:[],getErrorInfo:Ae("... (only showing first ten failures)")}]):b;return tt(y,C=>"Failed path: ("+C.path.join(" > ")+")\n"+C.getErrorInfo())})((p=u).errors).join("\n")+"\n\nInput object: "+ig(p.input));var p},ct);var h}),r=Xs(po(i,l=>l.trigger)),s=gn(i);return{dataset:i,triggers:r,lookupByTrigger:l=>Ve(s,h=>h.trigger===l)}})(e)),h=u=>{var p;(p=u,t.get().map(b=>sw(e.dom,e.selection.getRng(),b.trigger).bind(y=>dw(e,l,y,p))).getOrThunk(()=>((b,y)=>{const C=y(),L=b.selection.getRng();return(R=b.dom,A=L,P=C,ni(P.triggers,N=>sw(R,A,N))).bind(R=>dw(b,y,R));var R,A,P})(e,l))).fold(s,p=>{var b,C;b=p.context,r()||(C=b.range,Rt(e).autocompleter.addDecoration(C),t.set({trigger:b.trigger,matchLength:b.text.length})),p.lookupData.then(b=>{t.get().map(y=>{const C=p.context;y.trigger===C.trigger&&(C.text.length-y.matchLength>=10?s():(t.set({...y,matchLength:C.text.length}),i.get()?e.dispatch("AutocompleterUpdate",{lookupData:b}):(i.set(!0),e.dispatch("AutocompleterStart",{lookupData:b}))))})})})};e.addCommand("mceAutocompleterReload",(u,p)=>{const b=xt(p)?p.fetchOptions:{};h(b)}),e.addCommand("mceAutocompleterClose",s),((u,p)=>{const b=Ed(p.load,50);u.on("keypress compositionend",y=>{27!==y.which&&b.throttle()}),u.on("keydown",y=>{const C=y.which;8===C?b.throttle():27===C&&p.cancelIfNecessary()}),u.on("remove",b.cancel)})(e,{cancelIfNecessary:s,load:h})},Ew=e=>(t,i,r={})=>{const s=t.getBody(),l={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:s,currentTarget:s,eventPhase:Event.AT_TARGET,originalTarget:s,explicitOriginalTarget:s,isTrusted:!1,srcElement:s,cancelable:!1,preventDefault:Qe,inputType:i},h=rp(new InputEvent(e));return t.dispatch(e,{...h,...l,...r})},fg=Ew("input"),pg=Ew("beforeinput"),Ns=(e,t)=>{const i=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const l=(h=>{for(;h;){if(Re(h)||ve(h)&&h.data&&/[\r\n\s]/.test(h.data))return h;h=h.nextSibling}return null})(t.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&t.insertBefore(i.doc.createTextNode(Gt),t.firstChild)}const s=i.createRng();if(t.normalize(),t.hasChildNodes()){const l=new Dt(t,t);let h,u=t;for(;h=l.current();){if(ve(h)){s.setStart(h,0),s.setEnd(h,0);break}if(r[h.nodeName.toLowerCase()]){s.setStartBefore(h),s.setEndBefore(h);break}u=h,h=l.next()}h||(s.setStart(u,0),s.setEnd(u,0))}else Tt(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),os(e,s)},Cc=(e,t)=>{const i=e.getRoot();let r,s=t;for(;s!==i&&s&&"false"!==e.getContentEditable(s);)"true"===e.getContentEditable(s)&&(r=s),s=s.parentNode;return s!==i?r:i},mg=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Nw=(e,t)=>{const i=e?.parentNode;return Ce(i)&&i.nodeName===t},Lw=e=>Ce(e)&&/^(OL|UL|LI)$/.test(e.nodeName),kc=e=>{const t=e.parentNode;return Ce(i=t)&&/^(LI|DT|DD)$/.test(i.nodeName)?t:e;var i},Sc=(e,t,i)=>{let r=e[i?"firstChild":"lastChild"];for(;r&&!Re(r);)r=r[i?"nextSibling":"previousSibling"];return r===t},ML=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),bg=e=>{e.innerHTML='<br data-mce-bogus="1">'},xg=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,Rw=(e,t)=>Ce(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t),vg=(e,t,i)=>ve(t)?e?1===i&&t.data.charAt(i-1)===Qt?0:i:i===t.data.length-1&&t.data.charAt(i)===Qt?t.data.length:i:i,Ls=(e,t)=>{Sa(e).toLowerCase()===t.tagName.toLowerCase()&&((i,r,s)=>{const l=i.dom;X.from(s.style).map(l.parseStyle).each(y=>{const C={...gf(Q(r)),...y};l.setStyles(r,C)});const h=X.from(s.class).map(y=>y.split(/\s+/)),u=X.from(r.className).map(y=>Ve(y.split(/\s+/),C=>""!==C));qt(h,u,(y,C)=>{const L=Ve(C,A=>!st(y,A)),R=[...y,...L];l.setAttrib(r,"class",R.join(" "))});const p=["style","class"],b=Pi(s,(y,C)=>!st(p,C));l.setAttribs(r,b)})(e,t,Uo(e))},Tw={insert:(e,t)=>{let i,r,s,l,h=!1;const u=e.dom,p=e.schema,b=p.getNonEmptyElements(),y=e.selection.getRng(),C=Sa(e),L=G=>{let Z=i;const $=p.getTextInlineElements();let K;K=G||"TABLE"===s||"HR"===s?u.create(G||C):M.cloneNode(!1);let te=K;if(!1===Lk(e))u.setAttrib(K,"style",null),u.setAttrib(K,"class",null);else do{if($[Z.nodeName]){if(tn(Z)||Ia(Z))continue;const ne=Z.cloneNode(!1);u.setAttrib(ne,"id",""),K.hasChildNodes()?(ne.appendChild(K.firstChild),K.appendChild(ne)):(te=ne,K.appendChild(ne))}}while((Z=Z.parentNode)&&Z!==O);return Ls(e,K),bg(te),K},R=G=>{const Z=vg(G,i,r);if(ve(i)&&(G?Z>0:Z<i.data.length))return!1;if(i.parentNode===M&&h&&!G||G&&Re(i)&&i===M.firstChild)return!0;if(xg(i,"TABLE")||xg(i,"HR"))return h&&!G||!h&&G;const $=new Dt(i,M);let K;for(ve(i)&&(G&&0===Z?$.prev():G||Z!==i.data.length||$.next());K=$.current();){if(Re(K)){if(!K.getAttribute("data-mce-bogus")){const te=K.nodeName.toLowerCase();if(b[te]&&"br"!==te)return!1}}else if(ve(K)&&!Wi(K.data))return!1;G?$.prev():$.next()}return!0},A=()=>{let G;return G=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!==B?L(C):L(),((Z,$)=>{const K=Rk(Z);return!be($)&&(Ye(K)?st(pe.explode(K),$.nodeName.toLowerCase()):K)})(e,l)&&Rw(u,l)&&u.isEmpty(M)?G=u.split(l,M):u.insertAfter(G,M),Ns(e,G),G};Dl(u,y).each(G=>{y.setStart(G.startContainer,G.startOffset),y.setEnd(G.endContainer,G.endOffset)}),i=y.startContainer,r=y.startOffset;const P=!(!t||!t.shiftKey),N=!(!t||!t.ctrlKey);Re(i)&&i.hasChildNodes()&&(h=r>i.childNodes.length-1,i=i.childNodes[Math.min(r,i.childNodes.length-1)]||i,r=h&&ve(i)?i.data.length:0);const O=Cc(u,i);if(!O||((G,Z)=>{const $=G.dom.getParent(Z,"ol,ul,dl");return null!==$&&"false"===G.dom.getContentEditableParent($)})(e,i))return;P||(i=((G,Z,$,K,te)=>{var ne;const se=G.dom,re=null!==(ne=Cc(se,K))&&void 0!==ne?ne:se.getRoot();let he=se.getParent(K,se.isBlock);if(!he||!Rw(se,he)){let ke;if(he=he||re,ke=he===G.getBody()||Rf(he)?he.nodeName.toLowerCase():he.parentNode?he.parentNode.nodeName.toLowerCase():"",!he.hasChildNodes()){const Fe=se.create(Z);return Ls(G,Fe),he.appendChild(Fe),$.setStart(Fe,0),$.setEnd(Fe,0),Fe}let Se,De=K;for(;De&&De.parentNode!==he;)De=De.parentNode;for(;De&&!se.isBlock(De);)Se=De,De=De.previousSibling;if(Se&&G.schema.isValidChild(ke,Z.toLowerCase())){const Fe=Se.parentNode,et=se.create(Z);for(Ls(G,et),Fe.insertBefore(et,Se),De=Se;De&&!se.isBlock(De);){const lt=De.nextSibling;et.appendChild(De),De=lt}$.setStart(K,te),$.setEnd(K,te)}}return K})(e,C,y,i,r));let M=u.getParent(i,u.isBlock)||u.getRoot();l=Ce(M?.parentNode)?u.getParent(M.parentNode,u.isBlock):null,s=M?M.nodeName.toUpperCase():"";const B=l?l.nodeName.toUpperCase():"";if("LI"!==B||N||(M=l,l=l.parentNode,s=B),/^(LI|DT|DD)$/.test(s)&&Re(l)&&u.isEmpty(M))return void((G,Z,$,K,te)=>{const ne=G.dom,se=G.selection.getRng(),re=$.parentNode;if($===G.getBody()||!re)return;var he;Lw(he=$)&&Lw(he.parentNode)&&(te="LI");let ke=Z(te);if(Sc($,K,!0)&&Sc($,K,!1))if(Nw($,"LI")){const Se=kc($);ne.insertAfter(ke,Se),(null===(Fe=(De=$).parentNode)||void 0===Fe?void 0:Fe.firstChild)===De?ne.remove(Se):ne.remove($)}else ne.replace(ke,$);else if(Sc($,K,!0))Nw($,"LI")?(ne.insertAfter(ke,kc($)),ke.appendChild(ne.doc.createTextNode(" ")),ke.appendChild($)):re.insertBefore(ke,$),ne.remove(K);else if(Sc($,K,!1))ne.insertAfter(ke,kc($)),ne.remove(K);else{$=kc($);const Se=se.cloneRange();Se.setStartAfter(K),Se.setEndAfter($);const De=Se.extractContents();"LI"===te&&((Fe,et)=>Fe.firstChild&&"LI"===Fe.firstChild.nodeName)(De)?(ke=De.firstChild,ne.insertAfter(De,$)):(ne.insertAfter(De,$),ne.insertAfter(ke,$)),ne.remove(K)}var De,Fe;Ns(G,ke)})(e,L,l,M,C);if(M===e.getBody())return;const Y=M.parentNode;let U;if(Lr(M))U=hd(M),u.isEmpty(M)&&bg(M),Ls(e,U),Ns(e,U);else if(R(!1))U=A();else if(R(!0)&&Y)U=Y.insertBefore(L(),M),Ns(e,xg(M,"HR")?U:M);else{const G=($=>{const K=$.cloneRange();return K.setStart($.startContainer,vg(!0,$.startContainer,$.startOffset)),K.setEnd($.endContainer,vg(!1,$.endContainer,$.endOffset)),K})(y).cloneRange();G.setEndAfter(M);const Z=G.extractContents();me(kf(Q(Z),Ra),K=>{const te=K.dom;te.nodeValue=Hn(te.data)}),($=>{let K=$;do{ve(K)&&(K.data=K.data.replace(/^[\r\n]+/,"")),K=K.firstChild}while(K)})(Z),U=Z.firstChild,u.insertAfter(Z,M),(($,K,te)=>{var ne;const se=[];if(!te)return;let re=te;for(;re=re.firstChild;){if($.isBlock(re))return;Re(re)&&!K[re.nodeName.toLowerCase()]&&se.push(re)}let he=se.length;for(;he--;)re=se[he],(!re.hasChildNodes()||re.firstChild===re.lastChild&&""===(null===(ne=re.firstChild)||void 0===ne?void 0:ne.nodeValue)||ML($,re))&&$.remove(re)})(u,b,U),(($,K)=>{K.normalize();const te=K.lastChild;(!te||Re(te)&&/^(left|right)$/gi.test($.getStyle(te,"float",!0)))&&$.add(K,"br")})(u,M),u.isEmpty(M)&&bg(M),U.normalize(),u.isEmpty(U)?(u.remove(U),A()):(Ls(e,U),Ns(e,U))}u.setAttrib(U,"id",""),e.dispatch("NewBlock",{newBlock:U})},fakeEventName:"insertParagraph"},Pw=(e,t,i)=>{const r=e.dom.createRng();i?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),os(e,r)},IL=(e,t)=>{const i=jt("br");Ta(Q(t),i),e.undoManager.add()},_L=(e,t)=>{DL(e.getBody(),t)||oi(Q(t),jt("br"));const i=jt("br");oi(Q(t),i),Pw(e,i.dom,!1),e.undoManager.add()},DL=(e,t)=>{return i=ce.after(t),!!Tt(i.getNode())||ba(e,ce.after(t)).map(r=>Tt(r.getNode())).getOr(!1);var i},Ow=e=>e&&"A"===e.nodeName&&"href"in e,BL=e=>e.fold(vt,Ow,Ow,vt),FL=(e,t)=>{t.fold(Qe,Te(IL,e),Te(_L,e),Qe)},Mw={insert:(e,t)=>{const i=(r=>{const s=Te(ir,r),l=ce.fromRangeStart(r.selection.getRng());return An(s,r.getBody(),l).filter(BL)})(e);i.isSome()?i.each(Te(FL,e)):((r,s)=>{const h=r.dom,u=r.selection.getRng();let p,b=!1;Dl(h,u).each(N=>{u.setStart(N.startContainer,N.startOffset),u.setEnd(N.endContainer,N.endOffset)});let y=u.startOffset,C=u.startContainer;if(Re(C)&&C.hasChildNodes()){const N=y>C.childNodes.length-1;C=C.childNodes[Math.min(y,C.childNodes.length-1)]||C,y=N&&ve(C)?C.data.length:0}let L=h.getParent(C,h.isBlock);const R=L&&L.parentNode?h.getParent(L.parentNode,h.isBlock):null;"LI"!==(R?R.nodeName.toUpperCase():"")||!(!s||!s.ctrlKey)||(L=R),ve(C)&&y>=C.data.length&&(((N,O,M)=>{const B=new Dt(O,M);let Y;const U=N.getNonEmptyElements();for(;Y=B.next();)if(U[Y.nodeName.toLowerCase()]||ve(Y)&&Y.length>0)return!0;return!1})(r.schema,C,L||h.getRoot())||(p=h.create("br"),u.insertNode(p),u.setStartAfter(p),u.setEndAfter(p),b=!0)),p=h.create("br"),Pd(h,u,p),Pw(r,p,b),r.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},Iw=(e,t)=>mg(e).filter(i=>t.length>0&&qa(Q(i),t)).isSome(),Xa=mn([{br:[]},{block:[]},{none:[]}]),zL=(e,t)=>{return Iw(i=e,Nk(i));var i},_w=e=>(t,i)=>mg(t).filter(s=>Oo(Q(s))).isSome()===e,Dw=(e,t)=>(i,r)=>mg(i).fold(Ae(""),h=>h.nodeName.toUpperCase())===e.toUpperCase()===t,XL=e=>{const t=Cc(e.dom,e.selection.getStart());return be(t)},Rs=e=>Dw("pre",e),Ac=e=>(t,i)=>Sk(t)===e,HL=(e,t)=>{return Iw(i=e,Ek(i));var i},Ec=(e,t)=>t,YL=e=>{const t=Sa(e),i=Cc(e.dom,e.selection.getStart());return Ce(i)&&e.schema.isValidChild(i.nodeName,t)},Va=(e,t)=>(i,r)=>la(e,(s,l)=>s&&l(i,r),!0)?X.some(t):X.none(),Nc=(e,t,i)=>{t.selection.isCollapsed()||t.execCommand("delete"),Ce(i)&&pg(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,i),Ce(i)&&fg(t,e.fakeEventName))},Bw=(e,t)=>{const i=()=>Nc(Mw,e,t),r=()=>Nc(Tw,e,t),s=(l=e,h=t,Uy([Va([zL],Xa.none()),Va([Rs(!0),XL],Xa.none()),Va([Dw("summary",!0)],Xa.br()),Va([Rs(!0),Ac(!1),Ec],Xa.br()),Va([Rs(!0),Ac(!1)],Xa.block()),Va([Rs(!0),Ac(!0),Ec],Xa.block()),Va([Rs(!0),Ac(!0)],Xa.br()),Va([_w(!0),Ec],Xa.br()),Va([_w(!0)],Xa.block()),Va([HL],Xa.br()),Va([Ec],Xa.br()),Va([YL],Xa.block())],[l,!(!h||!h.shiftKey)]).getOr(Xa.none()));var l,h;switch(Ak(e)){case"linebreak":s.fold(i,i,Qe);break;case"block":s.fold(r,r,Qe);break;case"invert":s.fold(r,i,Qe);break;default:s.fold(i,r,Qe)}},WL=Je(),Fw=e=>e.stopImmediatePropagation(),zw=e=>e.keyCode===_e.PAGE_UP||e.keyCode===_e.PAGE_DOWN,Xw=(e,t,i)=>{i&&!e.get()?t.on("NodeChange",Fw,!0):!i&&e.get()&&t.off("NodeChange",Fw),e.set(i)},Hw=(e,t)=>{const i=t.container(),r=t.offset();return ve(i)?(i.insertData(r,e),X.some(ce(i,r+e.length))):wl(t).map(s=>{const l=Sr(e);return t.isAtEnd()?oi(s,l):Ta(s,l),ce(l.dom,e.length)})},VL=Te(Hw,Gt),jL=Te(Hw," "),UL=e=>{const t=ce.fromRangeStart(e.selection.getRng()),i=Q(e.getBody());if(e.selection.isCollapsed()){const r=Te(ir,e),s=ce.fromRangeStart(e.selection.getRng());return An(r,e.getBody(),s).bind((l=i,h=>h.fold(u=>Ma(l.dom,ce.before(u)),u=>ha(u),u=>yn(u),u=>ba(l.dom,ce.after(u))))).map(l=>()=>{return((e,t)=>i=>{return r=e,!Th(s=i)&&(Ma((l=r).dom,h=s).isNone()||ba(l.dom,h).isNone()||Nh(l,h)||cx(l,h)||Rh(l,h)||Lh(l,h)||ux(r,s)||gx(r,s))?VL(t):jL(t);var r,s,l,h})(i,t)(l).each((h=e,u=>(h.selection.setRng(u.toRange()),h.nodeChanged(),!0)));var h})}var l;return X.none()},qL=e=>PS(e)?[{keyCode:_e.TAB,action:Ke(nw,e,!0)},{keyCode:_e.TAB,shiftKey:!0,action:Ke(nw,e,!1)}]:[],$L=e=>{if(e.addShortcut("Meta+P","","mcePrint"),OL(e),Sn(e))return Xt(null);{const t=(e=>{const t=Xt(null),i=Te(ir,e);return e.on("NodeChange",r=>{qo(e)&&(((s,l,h)=>{const u=tt(ia(Q(l.getRoot()),'*[data-mce-selected="inline-boundary"]'),y=>y.dom),p=Ve(u,s),b=Ve(h,s);me(ho(p,b),Te(g0,!1)),me(ho(b,p),Te(g0,!0))})(i,e.dom,r.parents),((s,l)=>{const h=l.get();if(s.selection.isCollapsed()&&!s.composing&&h){const u=ce.fromRangeStart(s.selection.getRng());ce.isTextPosition(u)&&!cd(p=u)&&!dd(p)&&(gc(s,((e,t)=>{return ce.isTextPosition(t)?(r=t,hm(i=e)&&r.container()===i?((s,l)=>{const h=gm(s.data.substr(0,l.offset())),u=gm(s.data.substr(l.offset()));return(h.text+u.text).length>0?(fm(s),ce(s,l.offset()-h.count)):l})(i,r):pm(i,r)):((i,r)=>r.container()===i.parentNode?((s,l)=>{const h=l.container(),u=((p,b)=>{const y=ma(p,b);return-1===y?X.none():X.some(y)})(ta(h.childNodes),s).map(p=>p<l.offset()?ce(h,l.offset()-1):l).getOr(l);return Zi(s),u})(i,r):pm(i,r))(e,t);var i,r})(h,u)),l.set(null))}var p})(e,t),((s,l,h,u)=>{if(l.selection.isCollapsed()){const p=Ve(u,s);me(p,b=>{const y=ce.fromRangeStart(l.selection.getRng());An(s,l.getBody(),y).bind(C=>f0(l,h,C))})}})(i,e,t,r.parents))}),t})(e);return(i=e).on("keyup compositionstart",Te($N,i)),((i,r)=>{i.on("keydown",s=>{s.isDefaultPrevented()||((l,h,u)=>{const p=at.os.isMacOS()||at.os.isiOS();Cs([{keyCode:_e.RIGHT,action:Ke(I0,l,!0)},{keyCode:_e.LEFT,action:Ke(I0,l,!1)},{keyCode:_e.UP,action:Ke(_0,l,!1)},{keyCode:_e.DOWN,action:Ke(_0,l,!0)},...p?[{keyCode:_e.UP,action:Ke(pc,l,!1),metaKey:!0,shiftKey:!0},{keyCode:_e.DOWN,action:Ke(pc,l,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:_e.RIGHT,action:Ke(J0,l,!0)},{keyCode:_e.LEFT,action:Ke(J0,l,!1)},{keyCode:_e.UP,action:Ke(ew,l,!1)},{keyCode:_e.DOWN,action:Ke(ew,l,!0)},{keyCode:_e.RIGHT,action:Ke(H0,l,!0)},{keyCode:_e.LEFT,action:Ke(H0,l,!1)},{keyCode:_e.UP,action:Ke(Y0,l,!1)},{keyCode:_e.DOWN,action:Ke(Y0,l,!0)},{keyCode:_e.RIGHT,action:Ke(p0,l,h,!0)},{keyCode:_e.LEFT,action:Ke(p0,l,h,!1)},{keyCode:_e.RIGHT,ctrlKey:!p,altKey:p,action:Ke(XN,l,h)},{keyCode:_e.LEFT,ctrlKey:!p,altKey:p,action:Ke(HN,l,h)},{keyCode:_e.UP,action:Ke(B0,l,!1)},{keyCode:_e.DOWN,action:Ke(B0,l,!0)}],u).each(b=>{u.preventDefault()})})(i,r,s)})})(e,t),((i,r)=>{i.on("keydown",s=>{s.isDefaultPrevented()||((l,h,u)=>{const p=u.keyCode===_e.BACKSPACE?"deleteContentBackward":"deleteContentForward";X0([{keyCode:_e.BACKSPACE,action:Ke(A0,l)},{keyCode:_e.BACKSPACE,action:Ke(Bu,l,!1)},{keyCode:_e.DELETE,action:Ke(Bu,l,!0)},{keyCode:_e.BACKSPACE,action:Ke(Iu,l,!1)},{keyCode:_e.DELETE,action:Ke(Iu,l,!0)},{keyCode:_e.BACKSPACE,action:Ke(Gu,l,h,!1)},{keyCode:_e.DELETE,action:Ke(Gu,l,h,!0)},{keyCode:_e.BACKSPACE,action:Ke(Yh,l,!1)},{keyCode:_e.DELETE,action:Ke(Yh,l,!0)},{keyCode:_e.BACKSPACE,action:Ke(Fu,l,!1)},{keyCode:_e.DELETE,action:Ke(Fu,l,!0)},{keyCode:_e.BACKSPACE,action:Ke($u,l,!1)},{keyCode:_e.DELETE,action:Ke($u,l,!0)},{keyCode:_e.BACKSPACE,action:Ke(Ou,l,!1)},{keyCode:_e.DELETE,action:Ke(Ou,l,!0)},{keyCode:_e.BACKSPACE,action:Ke(Pu,l,!1)},{keyCode:_e.DELETE,action:Ke(Pu,l,!0)},{keyCode:_e.BACKSPACE,action:Ke(Uu,l,!1)},{keyCode:_e.DELETE,action:Ke(Uu,l,!0)}],u).each(b=>{u.preventDefault(),pg(l,p).isDefaultPrevented()||(b(),fg(l,p))})})(i,r,s)}),i.on("keyup",s=>{var l,h;s.isDefaultPrevented()||(h=s,Cs([{keyCode:_e.BACKSPACE,action:Ke(Hy,l=i)},{keyCode:_e.DELETE,action:Ke(Hy,l)}],h))})})(e,t),(i=>{i.on("keydown",r=>{var s,l,h;r.keyCode===_e.ENTER&&(s=i,(l=r).isDefaultPrevented()||(l.preventDefault(),(h=s.undoManager).typing&&(h.typing=!1,h.add()),s.undoManager.transact(()=>{Bw(s,l)})))})})(e),(i=>{i.on("keydown",r=>{var s,l;r.isDefaultPrevented()||(l=r,X0([{keyCode:_e.SPACEBAR,action:Ke(UL,s=i)}],l).each(h=>{l.preventDefault(),pg(s,"insertText",{data:" "}).isDefaultPrevented()||(h(),fg(s,"insertText",{data:" "}))}))})})(e),(i=>{i.on("input",r=>{r.isComposing||(s=>{const l=Q(s.getBody());s.selection.isCollapsed()&&((e,t)=>{const i=t.container();if(!ve(i))return X.none();if((r=>{const s=r.container();return ve(s)&&Ft(s.data,Gt)})(t)){const r=bx(e,i,!1)||(s=>{const l=s.data,h=(u=>{const p=u.split("");return tt(p,(b,y)=>El(b)&&y>0&&y<p.length-1&&qd(p[y-1])&&qd(p[y+1])?" ":b).join("")})(l);return h!==l&&(s.data=h,!0)})(i)||xx(e,i,!1);return yo(r,t)}if(Ph(e,t)){const r=bx(e,i,!0)||xx(e,i,!0);return yo(r,t)}return X.none()})(l,ce.fromRangeStart(s.selection.getRng())).each(h=>{s.selection.setRng(h.toRange())})})(i)})})(e),(i=>{i.on("keydown",r=>{var l;r.isDefaultPrevented()||(l=r,Cs([...qL(i)],l).each(h=>{l.preventDefault()}))})})(e),((i,r)=>{i.on("keydown",s=>{s.isDefaultPrevented()||((l,h,u)=>{const p=at.os.isMacOS()||at.os.isiOS();Cs([{keyCode:_e.END,action:Ke(D0,l,!0)},{keyCode:_e.HOME,action:Ke(D0,l,!1)},...p?[]:[{keyCode:_e.HOME,action:Ke(pc,l,!1),ctrlKey:!0,shiftKey:!0},{keyCode:_e.END,action:Ke(pc,l,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:_e.END,action:Ke(W0,l,!0)},{keyCode:_e.HOME,action:Ke(W0,l,!1)},{keyCode:_e.END,action:Ke(fc,l,!0,h)},{keyCode:_e.HOME,action:Ke(fc,l,!1,h)}],u).each(b=>{u.preventDefault()})})(i,r,s)})})(e,t),((i,r)=>{if(WL.os.isMacOS())return;const s=Xt(!1);i.on("keydown",l=>{zw(l)&&Xw(s,i,!0)}),i.on("keyup",l=>{var h,u,p;l.isDefaultPrevented()||(p=l,Cs([{keyCode:_e.PAGE_UP,action:Ke(fc,h=i,!1,u=r)},{keyCode:_e.PAGE_DOWN,action:Ke(fc,h,!0,u)}],p)),zw(l)&&s.get()&&(Xw(s,i,!1),i.nodeChanged())})})(e,t),t}var i};class ZL{constructor(t){let i;this.lastPath=[],this.editor=t;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",s=>{const l=t.selection.getRng(),h={startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset};"nodechange"!==s.type&&uh(h,i)||t.dispatch("SelectionChange"),i=h}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const s=t.selection.getStart(!0);s&&Ll(t)&&!r.isSameElementPath(s)&&t.dom.isChildOf(s,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",s=>{!s.isDefaultPrevented()&&Ll(t)&&("IMG"===t.selection.getNode().nodeName?Da.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const i=this.editor.selection;let r;if(this.editor.initialized&&i&&!iS(this.editor)&&!this.editor.mode.isReadOnly()){const s=this.editor.getBody();r=i.getStart(!0)||s,r.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,s)||(r=s);const l=[];this.editor.dom.getParent(r,h=>h===s||(l.push(h),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:l})}}isSameElementPath(t){let i;const r=this.editor,s=Ti(r.dom.getParents(t,Lt,r.getBody()));if(s.length===this.lastPath.length){for(i=s.length;i>=0&&s[i]===this.lastPath[i];i--);if(-1===i)return this.lastPath=s,!0}return this.lastPath=s,!1}}const Lc=Ae("x-tinymce/html"),yg="\x3c!-- x-tinymce/html --\x3e",KL=e=>yg+e,Yw=e=>-1!==e.indexOf(yg),Ww="%MCEPASTEBIN%",wg=e=>e.dom.get("mcepastebin"),QL=e=>Ce(e)&&"mcepastebin"===e.id,Vw=e=>e===Ww,jw=(e,t)=>(pe.each(t,i=>{e=cn(i,RegExp)?e.replace(i,""):e.replace(i[0],i[1])}),e),Gw=e=>jw(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(t,i,r)=>i||r?Gt:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),Uw=(e,t)=>({content:e,cancelled:t}),Cg=(e,t)=>(e.insertContent(t,{merge:wS(e),paste:!0}),!0),kg=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),JL=(e,t,i)=>{return!(e.selection.isCollapsed()||!kg(t)||(r=e,s=t,l=i,r.undoManager.extra(()=>{l(r,s)},()=>{r.execCommand("mceInsertLink",!1,s)}),0));var r,s,l},eR=(e,t,i)=>{return r=e,!(!kg(s=t)||!mt(dm(r),l=>wr(s.toLowerCase(),`.${l.toLowerCase()}`)))&&((r,s,l)=>(r.undoManager.extra(()=>{l(r,s)},()=>{r.insertContent('<img src="'+s+'">')}),!0))(e,t,i);var r,s},tR=(e=>{let t=0;return()=>"mceclip"+t++})(),qw=(e,t,i,r)=>{const s=((p,b,y)=>{const C=p.dispatch("PastePreProcess",{content:b,internal:y}),L=((R,A)=>{const P=jr({},R.schema);P.addNodeFilter("meta",O=>{pe.each(O,M=>{M.remove()})});const N=P.parse(A,{forced_root_block:!1,isRootContent:!0});return vi({validate:!0},R.schema).serialize(N)})(p,C.content);return p.hasEventListeners("PastePostProcess")&&!C.isDefaultPrevented()?((R,A,P)=>{const N=R.dom.create("div",{style:"display:none"},A),O=R.dispatch("PastePostProcess",{node:N,internal:P});return Uw(O.node.innerHTML,O.isDefaultPrevented())})(p,L,y):Uw(L,C.isDefaultPrevented())})(e,t,i);var l,h,p,b;s.cancelled||(l=e,h=s.content,r||!CS(l)?Cg(l,h):(p=l,b=h,pe.each([JL,eR,Cg],y=>!y(p,b,Cg))))},Rc=(e,t,i)=>{const r=i||Yw(t);qw(e,t.replace(yg,""),r,!1)},Sg=(e,t)=>{const i=e.dom.encode(t).replace(/\r\n/g,"\n"),r=((s,l,h)=>{const u=s.split(/\n\n/),p=((C,L)=>{let R="<"+C;const A=po(L,(P,N)=>N+'="'+ui.encodeAllRaw(P)+'"');return A.length&&(R+=" "+A.join(" ")),R+">"})(l,h),b="</"+l+">",y=tt(u,C=>C.split(/\n/).join("<br />"));return 1===y.length?y[0]:tt(y,C=>p+C+b).join("")})(Xf(i,SS(e)),Sa(e),Uo(e));qw(e,r,!1,!0)},$w=e=>{const t={};if(e&&e.types)for(let i=0;i<e.types.length;i++){const r=e.types[i];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},Qr=(e,t)=>t in e&&e[t].length>0,Zw=e=>Qr(e,"text/html")||Qr(e,"text/plain"),Kw=(e,t,i)=>{const r="paste"===t.type?t.clipboardData:t.dataTransfer;var s;if(vl(e)&&r){const l=((h,u)=>{const p=u.items?Ua(ta(u.items),y=>"file"===y.kind?[y.getAsFile()]:[]):[],b=u.files?ta(u.files):[];return Ve(p.length>0?p:b,(y=>{const C=dm(y);return L=>_t(L.type,"image/")&&mt(C,R=>(A=>{const P=A.toLowerCase(),N={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return pe.hasOwn(N,P)?"image/"+N[P]:"image/"+P})(R)===L.type)})(h))})(e,r);if(l.length>0)return t.preventDefault(),(s=l,Promise.all(tt(s,h=>Fv(h).then(u=>({file:h,uri:u}))))).then(h=>{i&&e.selection.setRng(i),me(h,u=>{var p,b;p=e,xu((b=u).uri).each(({data:y,type:C,base64Encoded:L})=>{const R=L?y:btoa(y),A=b.file,P=p.editorUpload.blobCache,O=P.getByData(R,C)??((M,B,Y,U)=>{const G=tR(),Z=Jp(M)&&Ce(Y.name),$=Z?((ne,se)=>{const re=se.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ce(re)?ne.dom.encode(re[1]):void 0})(M,Y.name):G,te=B.create(G,Y,U,$,Z?Y.name:void 0);return B.add(te),te})(p,P,A,R);Rc(p,`<img src="${O.blobUri()}">`,!1)})})}),!0}return!1},Qw=(e,t,i,r)=>{let s=Gw(i);const l=Qr(t,Lc())||Yw(i),h=!l&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(s),u=kg(s);(Vw(s)||!s.length||h&&!u)&&(r=!0),(r||u)&&(s=Qr(t,"text/plain")&&h?t["text/plain"]:(p=>{const b=gi(),y=jr({},b);let C="";const L=b.getVoidElements(),R=pe.makeMap("script noscript style textarea video audio iframe object"," "),A=b.getBlockElements(),P=N=>{const O=N.name,M=N;if("br"!==O){if("wbr"!==O)if(L[O]&&(C+=" "),R[O])C+=" ";else{if(3===N.type&&(C+=N.value),!(N.name in b.getVoidElements())){let B=N.firstChild;if(B)do{P(B)}while(B=B.next)}A[O]&&M.next&&(C+="\n","p"===O&&(C+="\n"))}}else C+="\n"};return p=jw(p,[/<!\[[^\]]+\]>/g]),P(y.parse(p)),C})(s)),Vw(s)||(r?Sg(e,s):Rc(e,s,l))},Jw=(e,t,i,r)=>{((s,l,h)=>{if(!s)return!1;try{return s.clearData(),s.setData("text/html",l),s.setData("text/plain",h),s.setData(Lc(),l),!0}catch{return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):i(t.html,r)},e1=e=>(t,i)=>{const{dom:r,selection:s}=e,l=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=r.create("div",{contenteditable:"true"},t);r.setStyles(l,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),l.appendChild(h),r.add(e.getBody(),l);const u=s.getRng();h.focus();const p=r.createRng();p.selectNodeContents(h),s.setRng(p),Da.setEditorTimeout(e,()=>{s.setRng(u),r.remove(l),i()},0)},t1=e=>({html:KL(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),a1=e=>{return!e.selection.isCollapsed()||!!(t=e).dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody());var t},n1=(e,t)=>{var i,r;return tr.getCaretRangeFromPoint(null!==(i=t.clientX)&&void 0!==i?i:0,null!==(r=t.clientY)&&void 0!==r?r:0,e.getDoc())},i1=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},nR=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r1=e=>pe.trim(e).replace(nR,Nl).toLowerCase(),iR=(e,t,i)=>{const r=vS(e);if(i||"all"===r||!yS(e))return t;const s=r?r.split(/[, ]/):[];if(s&&"none"!==r){const l=e.dom,h=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(u,p,b,y)=>{const C=l.parseStyle(l.decode(b)),L={};for(let A=0;A<s.length;A++){const P=C[s[A]];let N=P,O=l.getStyle(h,s[A],!0);/color/.test(s[A])&&(N=r1(N),O=r1(O)),O!==N&&(L[s[A]]=P)}const R=l.serializeStyle(L,"span");return R?p+' style="'+R+'"'+y:p+y})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(l,h,u,p)=>h+' style="'+u+'"'+p)},oR=Tt,o1=ve,sR=e=>bt(e.dom),s1=e=>t=>it(Q(e),t),l1=(e,t)=>Bi(Q(e),sR,s1(t)),c1=(e,t,i)=>{const r=new Dt(e,t),s=i?r.next.bind(r):r.prev.bind(r);let l=e;for(let h=i?e:s();h&&!oR(h);h=s())Wa(h)&&(l=h);return l};var Jr;!function(e){e.Before="before",e.After="after"}(Jr||(Jr={}));const cR=(e,t)=>Math.abs(e.left-t),dR=(e,t)=>Math.abs(e.right-t),uR=(e,t,i)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),Ag=(e,t,i)=>{const r=b=>Wa(b.node)?X.some(b):Re(b.node)?Ag(ta(b.node.childNodes),t,i):X.none(),s=(b,y)=>{const C=ai(b,(L,R)=>y(L,t,i)-y(R,t,i));return((L,R)=>{if(L.length>=2){const A=r(L[0]).getOr(L[0]),P=r(L[1]).getOr(L[1]);if(Math.abs(R(A,t,i)-R(P,t,i))<2){if(ve(A.node))return X.some(A);if(ve(P.node))return X.some(P)}}return X.none()})(C,y).orThunk(()=>ni(C,r))},[l,h]=((e,t)=>{return(i=Ve(e,i=>{return(r=t)>=(s=i).top&&r<=s.bottom;var r,s}),la(i,(r,s)=>r.fold(()=>X.some(s),l=>{const h=Math.min(s.left,l.left),u=Math.min(s.top,l.top),p=Math.max(s.right,l.right),b=Math.max(s.bottom,l.bottom);return X.some({top:u,right:p,bottom:b,left:h,width:p-h,height:b-u})}),X.none())).fold(()=>[[],e],i=>{const{pass:r,fail:s}=Ha(e,l=>((h,u)=>{const p=(b=h,y=u,Math.max(0,Math.min(b.bottom,y.bottom)-Math.max(b.top,y.top))/Math.min(h.height,u.height));var b,y;return((b,y)=>b.top<y.bottom&&b.bottom>y.top)(h,u)&&p>.5})(l,i));return[r,s]});var i})(o0(e),i),{pass:u,fail:p}=Ha(h,b=>b.top<i);return s(l,uR).orThunk(()=>s(p,Cp)).orThunk(()=>s(u,Cp))},d1=(e,t,i)=>((r,s,l)=>{const h=Q(r),p=((e,t,i)=>X.from(e.dom.elementFromPoint(t,i)).map(So))(zn(h),s,l).filter(b=>Fn(h,b)).getOr(h);return((b,y,C,L)=>{const R=(A,P)=>{const N=Ve(A.dom.childNodes,Jn(O=>Re(O)&&O.classList.contains("mce-drag-container")));return P.fold(()=>Ag(N,C,L),O=>{const M=Ve(N,B=>B!==O.dom);return Ag(M,C,L)}).orThunk(()=>(it(A,b)?X.none():tf(A)).bind(O=>R(O,X.some(A))))};return R(y,X.none())})(h,p,s,l)})(e,t,i).filter(r=>Zo(r.node)).map(r=>{return{node:(s=r).node,position:cR(s,l=t)<dR(s,l)?Jr.Before:Jr.After};var s,l}),h1=e=>{var t,i;const r=e.getBoundingClientRect(),s=e.ownerDocument,l=s.documentElement,h=s.defaultView;return{top:r.top+(null!==(t=h?.scrollY)&&void 0!==t?t:0)-l.clientTop,left:r.left+(null!==(i=h?.scrollX)&&void 0!==i?i:0)-l.clientLeft}},Eg=bt,gR=((...e)=>t=>{for(let i=0;i<e.length;i++)if(e[i](t))return!0;return!1})(Eg,Ka),fR=(e,t,i,r)=>{const s=e.dom,l=t.cloneNode(!0);s.setStyles(l,{width:i,height:r}),s.setAttrib(l,"data-mce-selected",null);const h=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:i,height:r}),s.setStyles(l,{margin:0,boxSizing:"border-box"}),h.appendChild(l),h},Tc=(e,t)=>i=>()=>{i.scroll({[e]:("left"===e?i.scrollX:i.scrollY)+t,behavior:"smooth"})},u1=Tc("left",-32),g1=Tc("left",32),f1=Tc("top",-32),p1=Tc("top",32),m1=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},b1=e=>{e.on(t=>{t.intervalId.clear(),m1(t.ghost)}),e.clear()},eo=bt,Ng=(e,t)=>rr(e.getBody(),t),bR=e=>{const t=e.selection,i=e.dom,r=e.getBody(),s=((e,t,i,r)=>{const s=fi();let l,h;const u=Sa(e),p=e.dom,b=()=>{(y=>{var C,L;const R=ia(Q(y),"*[contentEditable=false],video,audio,embed,object");for(let A=0;A<R.length;A++){const P=R[A].dom;let N=P.previousSibling;if(rl(N)){const O=N.data;1===O.length?null===(C=N.parentNode)||void 0===C||C.removeChild(N):N.deleteData(O.length-1,1)}N=P.nextSibling,il(N)&&(1===N.data.length?null===(L=N.parentNode)||void 0===L||L.removeChild(N):N.deleteData(0,1))}})(t),h&&(Zi(h),h=null),s.on(y=>{p.remove(y.caret),s.clear()}),l&&(clearInterval(l),l=void 0)};return{show:(y,C)=>{let L;if(b(),DS(C))return null;if(!i(C))return h=((R,A)=>{var P;const N=(null!==(P=R.ownerDocument)&&void 0!==P?P:document).createTextNode(Qt),O=R.parentNode;if(A){const M=R.previousSibling;if(Nr(M)){if(Pa(M))return M;if(rl(M))return M.splitText(M.data.length-1)}O?.insertBefore(N,R)}else{const M=R.nextSibling;if(Nr(M)){if(Pa(M))return M;if(il(M))return M.splitText(1),M}R.nextSibling?O?.insertBefore(N,R.nextSibling):O?.appendChild(N)}return N})(C,y),L=C.ownerDocument.createRange(),$o(h.nextSibling)?(L.setStart(h,0),L.setEnd(h,0)):(L.setStart(h,1),L.setEnd(h,1)),L;{const R=((N,O,M)=>{var B;const Y=(null!==(B=O.ownerDocument)&&void 0!==B?B:document).createElement(N);Y.setAttribute("data-mce-caret",M?"before":"after"),Y.setAttribute("data-mce-bogus","all"),Y.appendChild(ld().dom);const U=O.parentNode;return M?U?.insertBefore(Y,O):O.nextSibling?U?.insertBefore(Y,O.nextSibling):U?.appendChild(Y),Y})(u,C,y),A=mm(t,C,y);p.setStyle(R,"top",A.top),h=R;const P=p.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});p.setStyles(P,{...A}),p.add(t,P),s.set({caret:P,element:C,before:y}),y&&p.addClass(P,"mce-visual-caret-before"),l=setInterval(()=>{s.on(N=>{r()?p.toggleClass(N.caret,"mce-visual-caret-hidden"):p.addClass(N.caret,"mce-visual-caret-hidden")})},500),L=C.ownerDocument.createRange(),L.setStart(R,0),L.setEnd(R,0)}return L},hide:b,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{s.on(y=>{const C=mm(t,y.element,y.before);p.setStyles(y.caret,{...C})})},destroy:()=>clearInterval(l)}})(e,r,i.isBlock,()=>ar(e)),l="sel-"+i.uniqueId(),h="data-mce-selected";let u;const p=N=>N!==r&&(eo(N)||pn(N))&&i.isChildOf(N,r),b=(N,O,M,B=!0)=>e.dispatch("ShowCaret",{target:O,direction:N,before:M}).isDefaultPrevented()?null:(B&&t.scrollIntoView(O,-1===N),s.show(M,O)),y=N=>Pa(N)||il(N)||rl(N),C=N=>y(N.startContainer)||y(N.endContainer),R=(N,O)=>{if(!N)return null;if(N.collapsed){if(!C(N)){const U=O?1:-1,G=es(U,r,N),Z=G.getNode(!O);if(Ce(Z)){if(Zo(Z))return b(U,Z,!!O&&!G.isAtEnd(),!1);if(hi(Z)&&bt(Z.nextSibling)){const K=i.createRng();return K.setStart(Z,0),K.setEnd(Z,0),K}}const $=G.getNode(O);if(Ce($)){if(Zo($))return b(U,$,!O&&!G.isAtEnd(),!1);if(hi($)&&bt($.previousSibling)){const K=i.createRng();return K.setStart($,1),K.setEnd($,1),K}}}return null}let M=N.startContainer,B=N.startOffset;const Y=N.endOffset;if(ve(M)&&0===B&&eo(M.parentNode)&&(M=M.parentNode,B=i.nodeIndex(M),M=M.parentNode),!Re(M))return null;if(Y===B+1&&M===N.endContainer){const U=M.childNodes[B];if(p(U))return(G=>{const Z=G.cloneNode(!0),$=e.dispatch("ObjectSelected",{target:G,targetClone:Z});if($.isDefaultPrevented())return null;const K=((ne,se)=>{const re=Q(e.getBody()),he=e.getDoc(),ke=Ro(re,"#"+l).getOrThunk(()=>{const Fe=Us('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',he);return Vt(Fe,"id",l),zt(re,Fe),Fe}),Se=i.createRng();No(ke),Di(ke,[Sr(Gt,he),Q(se),Sr(Gt,he)]),Se.setStart(ke.dom.firstChild,1),Se.setEnd(ke.dom.lastChild,0),$s(ke,{top:i.getPos(ne,e.getBody()).y+"px"}),Pb(ke);const De=t.getSel();return De&&(De.removeAllRanges(),De.addRange(Se)),Se})(G,$.targetClone),te=Q(G);return me(ia(Q(e.getBody()),"*[data-mce-selected]"),ne=>{it(te,ne)||$t(ne,h)}),i.getAttrib(G,h)||G.setAttribute(h,"1"),u=G,P(),K})(U)}return null},A=()=>{u&&u.removeAttribute(h),Ro(Q(e.getBody()),"#"+l).each(Ct),u=null},P=()=>{s.hide()};return Sn(e)||(e.on("click",N=>{const O=Ng(e,N.target);O&&eo(O)&&(N.preventDefault(),e.focus())}),e.on("blur NewBlock",A),e.on("ResizeWindow FullscreenStateChanged",s.reposition),e.on("tap",N=>{const O=N.target,M=Ng(e,O);eo(M)?(N.preventDefault(),xs(e,M).each(R)):p(O)&&xs(e,O).each(R)},!0),e.on("mousedown",N=>{const O=N.target;if(O!==r&&"HTML"!==O.nodeName&&!i.isChildOf(O,r)||!((B,Y,U)=>{const G=Q(B.getBody()),Z=B.inline?G:Q(zn(G).dom.documentElement),$=((K,te,ne,se)=>{const re=te.dom.getBoundingClientRect();return{x:ne-(K?re.left+te.dom.clientLeft+aN(te):0),y:se-(K?re.top+te.dom.clientTop+tN(te):0)}})(B.inline,Z,Y,U);return((K,te,ne)=>{const se=JE(K),re=eN(K);return te>=0&&ne>=0&&te<=se&&ne<=re})(Z,$.x,$.y)})(e,N.clientX,N.clientY))return;A(),P();const M=Ng(e,O);eo(M)?(N.preventDefault(),xs(e,M).each(R)):d1(r,N.clientX,N.clientY).each(B=>{var Y;N.preventDefault(),(Y=b(1,B.node,B.position===Jr.Before,!1))&&t.setRng(Y),Re(M)?M.focus():e.getBody().focus()})}),e.on("keypress",N=>{_e.modifierPressed(N)||eo(t.getNode())&&N.preventDefault()}),e.on("GetSelectionRange",N=>{let O=N.range;if(u){if(!u.parentNode)return void(u=null);O=O.cloneRange(),O.selectNode(u),N.range=O}}),e.on("SetSelectionRange",N=>{N.range=(N=>{const O=e.schema.getVoidElements(),M=i.createRng(),B=N.startContainer,Y=N.startOffset,U=N.endContainer,G=N.endOffset;return Ze(O,B.nodeName.toLowerCase())?0===Y?M.setStartBefore(B):M.setStartAfter(B):M.setStart(B,Y),Ze(O,U.nodeName.toLowerCase())?0===G?M.setEndBefore(U):M.setEndAfter(U):M.setEnd(U,G),M})(N.range);const O=R(N.range,N.forward);O&&(N.range=O)}),e.on("AfterSetSelectionRange",N=>{const O=N.range,M=O.startContainer.parentElement;var B,Y;C(O)||Re(B=M)&&"mcepastebin"===B.id||P(),Ce(Y=M)&&i.hasClass(Y,"mce-offscreen-selection")||A()}),(e=>{const t=fi(),i=gt.DOM,r=document,s=(p=t,b=e,y=>{if(0===y.button){const R=Mt(b.dom.getParents(y.target),gR).getOr(null);if(Ce(R)&&(C=b.getBody(),Eg(L=R)&&L!==C)){const A=b.dom.getPos(R),P=b.getBody(),N=b.getDoc().documentElement;p.set({element:R,dragging:!1,screenX:y.screenX,screenY:y.screenY,maxX:(b.inline?P.scrollWidth:N.offsetWidth)-2,maxY:(b.inline?P.scrollHeight:N.offsetHeight)-2,relX:y.pageX-A.x,relY:y.pageY-A.y,width:R.offsetWidth,height:R.offsetHeight,ghost:fR(b,R,R.offsetWidth,R.offsetHeight),intervalId:dk(100)})}}var C,L}),l=((e,t)=>{const i=gl((s,l)=>{t._selectionOverrides.hideFakeCaret(),d1(t.getBody(),s,l).fold(()=>t.selection.placeCaretAt(s,l),h=>{const u=t._selectionOverrides.showCaret(1,h.node,h.position===Jr.Before,!1);u?t.selection.setRng(u):t.selection.placeCaretAt(s,l)})},0);t.on("remove",i.cancel);const r=e;return s=>e.on(l=>{const h=Math.max(Math.abs(s.screenX-l.screenX),Math.abs(s.screenY-l.screenY));if(!l.dragging&&h>10){if(t.dispatch("dragstart",{target:l.element}).isDefaultPrevented())return;l.dragging=!0,t.focus()}if(l.dragging){const b=s.currentTarget===t.getDoc().documentElement,y=((C,L)=>({pageX:L.pageX-C.relX,pageY:L.pageY+5}))(l,(L=s,R=(N=C=t).inline?h1(N.getBody()):{left:0,top:0},A=(N=>{const O=N.getBody();return N.inline?{left:O.scrollLeft,top:O.scrollTop}:{left:0,top:0}})(C),P=((N,O)=>{if(O.target.ownerDocument!==N.getDoc()){const M=h1(N.getContentAreaContainer()),B=(Y=>{const U=Y.getBody(),G=Y.getDoc().documentElement;return Y.inline?{left:U.scrollLeft,top:U.scrollTop}:{left:U.scrollLeft||G.scrollLeft,top:U.scrollTop||G.scrollTop}})(N);return{left:O.pageX-M.left+B.left,top:O.pageY-M.top+B.top}}return{left:O.pageX,top:O.pageY}})(C,L),{pageX:P.left-R.left+A.left,pageY:P.top-R.top+A.top}));u=l.ghost,p=t.getBody(),u.parentNode!==p&&p.appendChild(u),((C,L,R,A,P,N,O,M,B,Y,U,G)=>{let Z=0,$=0;C.style.left=L.pageX+"px",C.style.top=L.pageY+"px",L.pageX+R>P&&(Z=L.pageX+R-P),L.pageY+A>N&&($=L.pageY+A-N),C.style.width=R-Z+"px",C.style.height=A-$+"px";const K=B.clientHeight,te=B.clientWidth,ne=O+B.getBoundingClientRect().top,se=M+B.getBoundingClientRect().left;U.on(re=>{re.intervalId.clear(),re.dragging&&G&&(O+8>=K?re.intervalId.set(p1(Y)):O-8<=0?re.intervalId.set(f1(Y)):M+8>=te?re.intervalId.set(g1(Y)):M-8<=0?re.intervalId.set(u1(Y)):ne+16>=window.innerHeight?re.intervalId.set(p1(window)):ne-16<=0?re.intervalId.set(f1(window)):se+16>=window.innerWidth?re.intervalId.set(g1(window)):se-16<=0&&re.intervalId.set(u1(window)))})})(l.ghost,y,l.width,l.height,l.maxX,l.maxY,s.clientY,s.clientX,t.getContentAreaContainer(),t.getWin(),r,b),i.throttle(s.clientX,s.clientY)}var C,L,N,R,A,P,u,p})})(t,e),h=((p,b)=>y=>{p.on(C=>{if(C.intervalId.clear(),C.dragging){if(L=b,R=(L=>{const R=L.getSel();if(Ce(R)){const A=R.getRangeAt(0).startContainer;return ve(A)?A.parentNode:A}return null})(b.selection),A=C.element,!be(R)&&R!==A&&!L.dom.isChildOf(R,A)&&!Eg(R)){const L=(R=>{const A=R.cloneNode(!0);return A.removeAttribute("data-mce-selected"),A})(C.element);b.dispatch("drop",{clientX:y.clientX,clientY:y.clientY}).isDefaultPrevented()||b.undoManager.transact(()=>{m1(C.element),b.insertContent(b.dom.getOuterHTML(L)),b._selectionOverrides.hideFakeCaret()})}b.dispatch("dragend")}var L,R,A}),b1(p)})(t,e),u=((p,b)=>()=>{p.on(y=>{y.intervalId.clear(),y.dragging&&b.dispatch("dragend")}),b1(p)})(t,e);var p,b;e.on("mousedown",s),e.on("mousemove",l),e.on("mouseup",h),i.bind(r,"mousemove",l),i.bind(r,"mouseup",u),e.on("remove",()=>{i.unbind(r,"mousemove",l),i.unbind(r,"mouseup",u)}),e.on("keydown",p=>{p.keyCode===_e.ESC&&u()})})(N=e),oS(N)&&(O=>{const M=U=>{if(!U.isDefaultPrevented()){const G=U.dataTransfer;G&&(st(G.types,"Files")||G.files.length>0)&&(U.preventDefault(),"drop"===U.type&&oc(O,"Dropped file type is not supported"))}},B=U=>{zl(O,U.target)&&M(U)},Y=()=>{const U=gt.DOM,G=O.dom,Z=document,$=O.inline?O.getBody():O.getDoc(),K=["drop","dragover"];me(K,te=>{U.bind(Z,te,B),G.bind($,te,M)}),O.on("remove",()=>{me(K,te=>{U.unbind(Z,te,B),G.unbind($,te,M)})})};O.on("init",()=>{Da.setEditorTimeout(O,Y,0)})})(N),(N=>{const O=gl(()=>{if(!N.removed&&N.getBody().contains(document.activeElement)){const M=N.selection.getRng();if(M.collapsed){const B=Mu(N,M,!1);N.selection.setRng(B)}}},0);N.on("focus",()=>{O.throttle()}),N.on("blur",()=>{O.cancel()})})(e),(N=>{N.on("init",()=>{N.on("focusin",O=>{const M=O.target;if(pn(M)){const B=rr(N.getBody(),M),Y=bt(B)?B:M;N.selection.getNode()!==Y&&xs(N,Y).each(U=>N.selection.setRng(U))}})})})(e)),{showCaret:b,showBlockCaretContainer:N=>{N.hasAttribute("data-mce-caret")&&(hd(N),t.scrollIntoView(N))},hideFakeCaret:P,destroy:()=>{s.destroy(),u=null}};var N},xR=(e,t)=>{let i=t;for(let r=e.previousSibling;ve(r);r=r.previousSibling)i+=r.data.length;return i},x1=(e,t,i,r,s)=>{if(ve(i)&&(r<0||r>i.data.length))return[];const l=s&&ve(i)?[xR(i,r)]:[r];let h=i;for(;h!==t&&h.parentNode;)l.push(e.nodeIndex(h,s)),h=h.parentNode;return h===t?l.reverse():[]},Lg=(e,t,i,r,s,l,h=!1)=>({start:x1(e,t,i,r,h),end:x1(e,t,s,l,h)}),v1=(e,t)=>{const i=t.slice(),r=i.pop();return Na(r)?la(i,(s,l)=>s.bind(h=>X.from(h.childNodes[l])),X.some(e)).bind(s=>ve(s)&&(r<0||r>s.data.length)?X.none():X.some({node:s,offset:r})):X.none()},y1=(e,t)=>v1(e,t.start).bind(({node:i,offset:r})=>v1(e,t.end).map(({node:s,offset:l})=>{const h=document.createRange();return h.setStart(i,r),h.setEnd(s,l),h})),to=(e,t,i)=>{if(t&&e.isEmpty(t)&&!i(t)){const r=t.parentNode;e.remove(t),to(e,r,i)}},Pc=(e,t,i,r=!0)=>{const s=t.startContainer.parentNode,l=t.endContainer.parentNode;t.deleteContents(),r&&!i(t.startContainer)&&(ve(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),ve(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),to(e,s,i),s!==l&&to(e,l,i))},Rg=(e,t)=>X.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),w1=(e,t,i)=>{const r=e.dynamicPatternsLookup({text:i,block:t});return{...e,blockPatterns:jp(r).concat(e.blockPatterns),inlinePatterns:Gp(r).concat(e.inlinePatterns)}},C1=(e,t,i,r)=>{const s=e.createRng();return s.setStart(t,0),s.setEnd(i,r),s.toString()},k1=(e,t,i)=>{((r,s,l)=>{if(ve(r)&&0>=r.length)return X.some(on(r,0));{const h=Ui(mc);return X.from(h.forwards(r,0,bc(r),l)).map(u=>on(u.container,0))}})(t,0,t).each(r=>{const s=r.container;iw(s,i.start.length,t).each(l=>{const h=e.createRng();h.setStart(s,0),h.setEnd(l.container,l.offset),Pc(e,h,u=>u===t)})})},S1=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Oc=(e,t)=>{const i=e.createRng();return i.setStartAfter(t.start),i.setEndBefore(t.end),i},A1=(e,t,i)=>{const r=y1(e.getRoot(),i).getOrDie("Unable to resolve path range"),s=r.startContainer,l=r.endContainer,h=0===r.endOffset?l:l.splitText(r.endOffset),u=0===r.startOffset?s:s.splitText(r.startOffset),p=u.parentNode;return{prefix:t,end:h.parentNode.insertBefore(S1(e,t+"-end"),h),start:p.insertBefore(S1(e,t+"-start"),u)}},E1=(e,t,i)=>{to(e,e.get(t.prefix+"-end"),i),to(e,e.get(t.prefix+"-start"),i)},Tg=e=>0===e.start.length,N1=(e,t,i,r)=>{const s=t.start;var l;return tg(e,r.container,r.offset,(l=s,(h,u)=>{const p=h.data.substring(0,u),b=p.lastIndexOf(l.charAt(l.length-1)),y=p.lastIndexOf(l);return-1!==y?y+l.length:-1!==b?b+1:-1}),i).bind(h=>{var u,p;const b=null!==(p=null===(u=i.textContent)||void 0===u?void 0:u.indexOf(s))&&void 0!==p?p:-1;if(-1!==b&&h.offset>=b+s.length){const y=e.createRng();return y.setStart(h.container,h.offset-s.length),y.setEnd(h.container,h.offset),X.some(y)}return eg(h.container,h.offset-s.length,i).map(C=>{const L=e.createRng();return L.setStart(C.container,C.offset),L.setEnd(h.container,h.offset),L}).filter(C=>C.toString()===s).orThunk(()=>N1(e,t,i,on(h.container,0)))})},vR=(e,t,i,r)=>{const s=e.dom,l=s.getRoot(),h=i.pattern,u=i.position.container,p=i.position.offset;return eg(u,p-i.pattern.end.length,t).bind(b=>{const y=Lg(s,l,b.container,b.offset,u,p,r);if(Tg(h))return X.some({matches:[{pattern:h,startRng:y,endRng:y}],position:b});{const C=Mc(e,i.remainingPatterns,b.container,b.offset,t,r),L=C.getOr({matches:[],position:b}),R=L.position;return((P,N,O,M,B,Y=!1)=>{if(0===N.start.length&&!Y){const U=P.createRng();return U.setStart(O,M),U.setEnd(O,M),X.some(U)}return Ju(O,M,B).bind(U=>N1(P,N,B,U).bind(G=>{var Z;return Y&&(G.endContainer===U.container&&G.endOffset===U.offset||0===U.offset&&(null===(Z=G.endContainer.textContent)||void 0===Z?void 0:Z.length)===G.endOffset)?X.none():X.some(G)}))})(s,h,R.container,R.offset,t,C.isNone()).map(P=>{const N=((O,M,B,Y=!1)=>Lg(O,M,B.startContainer,B.startOffset,B.endContainer,B.endOffset,Y))(s,l,P,r);return{matches:L.matches.concat([{pattern:h,startRng:N,endRng:y}]),position:on(P.startContainer,P.startOffset)}})}})},Mc=(e,t,i,r,s,l)=>{const h=e.dom;return Ju(i,r,h.getRoot()).bind(u=>{const p=C1(h,s,i,r);for(let b=0;b<t.length;b++){const y=t[b];if(!wr(p,y.end))continue;const C=t.slice();C.splice(b,1);const L=vR(e,s,{pattern:y,remainingPatterns:C,position:u},l);if(L.isNone()&&r>0)return Mc(e,t,i,r-1,s,l);if(L.isSome())return L}return X.none()})},L1=(e,t,i)=>{e.selection.setRng(i),"inline-format"===t.type?me(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},R1=(e,t,i,r,s,l)=>{var h;return((u,p)=>{const b=In(u,y=>mt(p,C=>y.pattern.start===C.pattern.start&&y.pattern.end===C.pattern.end));return u.length===p.length?b?u:p:u.length>p.length?u:p})(Mc(e,s.inlinePatterns,i,r,t,l).fold(()=>[],u=>u.matches),Mc(e,(h=s.inlinePatterns,ai(h,(u,p)=>p.end.length-u.end.length)),i,r,t,l).fold(()=>[],u=>u.matches))},T1=(e,t)=>{if(0===t.length)return;const i=e.dom,r=e.selection.getBookmark(),s=((l,h)=>{const u=mp("mce_textpattern"),p=ti(h,(b,y)=>{const C=A1(l,u+`_end${b.length}`,y.endRng);return b.concat([{...y,endMarker:C}])},[]);return ti(p,(b,y)=>{const C=p.length-b.length-1,L=Tg(y.pattern)?y.endMarker:A1(l,u+`_start${C}`,y.startRng);return b.concat([{...y,startMarker:L}])},[])})(i,t);me(s,l=>{const h=i.getParent(l.startMarker.start,i.isBlock),u=p=>p===h;Tg(l.pattern)?((p,b,y,C)=>{const L=Oc(p.dom,y);Pc(p.dom,L,C),L1(p,b,L)})(e,l.pattern,l.endMarker,u):((p,b,y,C,L)=>{const R=p.dom,A=Oc(R,C),P=Oc(R,y);Pc(R,P,L),Pc(R,A,L);const O=Oc(R,{prefix:y.prefix,start:y.end,end:C.start});L1(p,b,O)})(e,l.pattern,l.startMarker,l.endMarker,u),E1(i,l.endMarker,u),E1(i,l.startMarker,u)}),e.selection.moveToBookmark(r)},P1=(e,t,i)=>{for(let r=0;r<e.length;r++)if(i(e[r],t))return!0;return!1},Pg=gt.DOM,CR=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Og=e=>Pi(e,t=>!1===ft(t)),O1=e=>{const t=e.options.get,i=e.editorUpload.blobCache;return Og({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:CR(e),validate:!0,blob_cache:i,document:e.getDoc()})},M1=e=>{const t=e.options.get;return Og({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},I1=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,_1=e=>{const t=I1(e),i=nm(e),r=e.contentCSS,s=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(i)},l=()=>{e.removed?s():e.on("remove",s)};if(e.contentStyles.length>0){let p="";pe.each(e.contentStyles,b=>{p+=b+"\r\n"}),e.dom.addStyle(p)}const h=Promise.all(((p,b,y)=>{const C=[I1(p).loadAll(b)];return p.inline?C:C.concat([p.ui.styleSheetLoader.loadAll(y)])})(e,r,i)).then(l).catch(l),u=Xk(e);return u&&((p,b)=>{const y=Q(p.getBody()),C=Jc(ri(y)),L=jt("style");Vt(L,"type","text/css"),zt(L,Sr(b)),zt(C,L),p.on("remove",()=>{Ct(L)})})(e,u),h},Mg=e=>{var t;!0!==e.removed&&(Sn(t=e)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),(t=>{t.bindPendingEventDelegates(),t.initialized=!0,t.dispatch("Init"),t.focus(!0),(r=>{const s=r.dom.getRoot();r.inline||Ll(r)&&r.selection.getStart(!0)!==s||ha(s).each(l=>{const h=l.getNode(),u=Xn(h)?ha(h).getOr(l):l;r.selection.setRng(u.toRange())})})(t),t.nodeChanged({initial:!0});const i=hS(t);nt(i)&&i.call(t,t),(r=>{const s=gS(r);s&&Da.setEditorTimeout(r,()=>{let l;l=!0===s?r:r.editorManager.get(s),l&&!l.destroyed&&(l.focus(),l.selection.scrollIntoView())},100)})(t)})(e))},D1=e=>{const t=e.getElement();let i=e.getDoc();e.inline&&(Pg.addClass(t,"mce-content-body"),e.contentDocument=i=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();var h,u;r.disabled=!0,e.readonly=om(e),e.readonly||(e.inline&&"static"===Pg.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=(e=>{const t=(()=>{let P=[];const N=B=>{if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Y=B.id||"blobid"+rN+++(()=>{const $=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+$()+$()+$()})(),U=B.name||Y,G=B.blob;var Z;return{id:Ae(Y),name:Ae(U),filename:Ae(B.filename||U+"."+(Z=G.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[Z.toLowerCase()]||"dat")),blob:Ae(G),base64:Ae(B.base64),blobUri:Ae(B.blobUri||URL.createObjectURL(G)),uri:Ae(B.uri)}},O=B=>Mt(P,B).getOrUndefined(),M=B=>O(Y=>Y.id()===B);return{create:(B,Y,U,G,Z)=>{if(Ye(B))return N({id:B,name:G,filename:Z,blob:Y,base64:U});if(xt(B))return N(B);throw new Error("Unknown input type")},add:B=>{M(B.id())||P.push(B)},get:M,getByUri:B=>O(Y=>Y.blobUri()===B),getByData:(B,Y)=>O(U=>U.base64()===B&&U.blob().type===Y),findFirst:O,removeByUri:B=>{P=Ve(P,Y=>Y.blobUri()!==B||(URL.revokeObjectURL(Y.blobUri()),!1))},destroy:()=>{me(P,B=>{URL.revokeObjectURL(B.blobUri())}),P=[]}}})();let i,r;const s=yy(),l=[],h=P=>N=>e.selection?P(N):[],u=(P,N,O)=>{let M=0;do{M=P.indexOf(N,M),-1!==M&&(P=P.substring(0,M)+O+P.substr(M+N.length),M+=O.length-N.length+1)}while(-1!==M);return P},p=(P,N,O)=>(P=u(P,`src="${N}"`,`src="${O}"${O===at.transparentSrc?' data-mce-placeholder="1"':""}`),u(P,'data-mce-src="'+N+'"','data-mce-src="'+O+'"')),b=(P,N)=>{me(e.undoManager.data,O=>{"fragmented"===O.type?O.fragments=tt(O.fragments,M=>p(M,P,N)):O.content=p(O.content,P,N)})},y=()=>(i||(i=Cy(e,s)),R().then(h(P=>{const N=tt(P,O=>O.blobInfo);return i.upload(N,wy(e)).then(h(O=>{const M=[];let B=!1;const Y=tt(O,(U,G)=>{const{blobInfo:Z,image:$}=P[G];let K=!1;return U.status&&Tk(e)?(U.url&&!Ft($.src,U.url)&&(B=!0),t.removeByUri($.src),Sn(e)||((te,ne)=>{const se=e.convertURL(ne,"src");var re;b(te.src,ne),ii(Q(te),{src:Jp(e)?(re=ne,re+(-1===re.indexOf("?")?"?":"&")+(new Date).getTime()):ne,"data-mce-src":se})})($,U.url)):U.error&&(U.error.remove&&(b($.src,at.transparentSrc),M.push($),K=!0),oc(e,Ja.translate(["Failed to upload image: {0}",U.error.message]))),{element:$,status:U.status,uploadUri:U.url,blobInfo:Z,removed:K}});return M.length>0&&!Sn(e)?e.undoManager.transact(()=>{me(M,U=>{e.dom.remove(U),t.removeByUri(U.src)})}):B&&e.undoManager.dispatchChange(),Y}))}))),C=()=>Qp(e)?y():Promise.resolve([]),L=P=>In(l,N=>N(P)),R=()=>(r||(r=((e,t)=>{const i={};return{findAll:(r,s=Lt)=>{const l=Ve((u=r)?ta(u.getElementsByTagName("img")):[],u=>{const p=u.src;return!u.hasAttribute("data-mce-bogus")&&!u.hasAttribute("data-mce-placeholder")&&!(!p||p===at.transparentSrc)&&(_t(p,"blob:")?!e.isUploaded(p)&&s(u):!!_t(p,"data:")&&s(u))}),h=tt(l,u=>{const p=u.src;if(Ze(i,p))return i[p].then(b=>Ye(b)?b:{image:u,blobInfo:b.blobInfo});{const b=((y,C)=>{const L=()=>Promise.reject("Invalid data URI");if(_t(C,"blob:")){const P=y.getByUri(C);return Ce(P)?Promise.resolve(P):(R=C,_t(R,"blob:")?(N=R,fetch(N).then(O=>O.ok?O.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${N} to Blob. Resource might not exist or is inaccessible.`))):_t(R,"data:")?(A=R,new Promise((N,O)=>{xu(A).bind(({type:M,data:B,base64Encoded:Y})=>Bv(M,B,Y)).fold(()=>O("Invalid data URI"),N)})):Promise.reject("Unknown URI format")).then(N=>Fv(N).then(O=>zv(O,!1,M=>X.some(Xv(y,N,M))).getOrThunk(L)))}var N,R,A;return _t(C,"data:")?Hv(y,C).fold(L,P=>Promise.resolve(P)):Promise.reject("Unknown image data format")})(t,p).then(y=>(delete i[p],{image:u,blobInfo:y})).catch(y=>(delete i[p],y));return i[p]=b,b}});var u;return Promise.all(h)}}})(s,t)),r.findAll(e.getBody(),L).then(h(P=>{const N=Ve(P,O=>!Ye(O)||(oc(e,O),!1));return Sn(e)||me(N,O=>{b(O.image.src,O.blobInfo.blobUri()),O.image.src=O.blobInfo.blobUri(),O.image.removeAttribute("data-mce-src")}),N}))),A=P=>P.replace(/src="(blob:[^"]+)"/g,(N,O)=>{const M=s.getResultUri(O);if(M)return'src="'+M+'"';let B=t.getByUri(O);return B||(B=la(e.editorManager.get(),(Y,U)=>Y||U.editorUpload&&U.editorUpload.blobCache.getByUri(O),void 0)),B?'src="data:'+B.blob().type+";base64,"+B.base64()+'"':N});return e.on("SetContent",()=>{Qp(e)?C():R()}),e.on("RawSaveContent",P=>{P.content=A(P.content)}),e.on("GetContent",P=>{P.source_view||"raw"===P.format||"tree"===P.format||(P.content=A(P.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",P=>{me(P,N=>{const O=N.attr("src");if(!O||t.getByUri(O))return;const M=s.getResultUri(O);M&&N.attr("src",M)})})}),{blobCache:t,addFilter:P=>{l.push(P)},uploadImages:y,uploadImagesAuto:C,scanForImages:R,destroy:()=>{t.destroy(),s.destroy(),r=i=null}}})(e),e.schema=gi(M1(e)),e.dom=gt(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Dk(e),referrerPolicy:Bd(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=(h=>{const u=jr(O1(h),h.schema);return u.addAttributeFilter("src,href,style,tabindex",(p,b)=>{const y=h.dom,C="data-mce-"+b;let L=p.length;for(;L--;){const R=p[L];let A=R.attr(b);if(A&&!R.attr(C)){if(0===A.indexOf("data:")||0===A.indexOf("blob:"))continue;"style"===b?(A=y.serializeStyle(y.parseStyle(A),R.name),A.length||(A=null),R.attr(C,A),R.attr(b,A)):"tabindex"===b?(R.attr(C,A),R.attr(b,null)):R.attr(C,h.convertURL(A,b,R.name))}}}),u.addNodeFilter("script",p=>{let b=p.length;for(;b--;){const y=p[b],C=y.attr("type")||"no/type";0!==C.indexOf("mce-")&&y.attr("type","mce-"+C)}}),TS(h)&&u.addNodeFilter("#cdata",p=>{var b;let y=p.length;for(;y--;){const C=p[y];C.type=8,C.name="#comment",C.value="[CDATA["+h.dom.encode(null!==(b=C.value)&&void 0!==b?b:"")+"]]"}}),u.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",p=>{let b=p.length;const y=h.schema.getNonEmptyElements();for(;b--;){const C=p[b];C.isEmpty(y)&&0===C.getAll("br").length&&C.append(new ua("br",1))}}),u})(e),e.serializer=gy((h=>{const u=h.options.get;return{...O1(h),...M1(h),...Og({url_converter:u("url_converter"),url_converter_scope:u("url_converter_scope"),element_format:u("element_format"),entities:u("entities"),entity_encoding:u("entity_encoding"),indent:u("indent"),indent_after:u("indent_after"),indent_before:u("indent_before")})}})(e),e),e.selection=uy(e.dom,e.getWin(),e.serializer,e),e.annotator=ib(e),e.formatter=Ay(e),e.undoManager=Ny(e),e._nodeChangeDispatcher=new ZL(e),e._selectionOverrides=bR(e),(h=>{const u=fi(),p=Xt(!1),b=Ed(y=>{h.dispatch("longpress",{...y,type:"longpress"}),p.set(!0)},400);h.on("touchstart",y=>{N0(y).each(C=>{b.cancel();const L={x:C.clientX,y:C.clientY,target:y.target};b.throttle(y),p.set(!1),u.set(L)})},!0),h.on("touchmove",y=>{b.cancel(),N0(y).each(C=>{u.on(L=>{((R,A)=>{const P=Math.abs(R.clientX-A.x),N=Math.abs(R.clientY-A.y);return P>5||N>5})(C,L)&&(u.clear(),p.set(!1),h.dispatch("longpresscancel"))})})},!0),h.on("touchend touchcancel",y=>{b.cancel(),"touchcancel"!==y.type&&u.get().filter(C=>C.target.isEqualNode(y.target)).each(()=>{p.get()?y.preventDefault():h.dispatch("tap",{...y,type:"tap"})})},!0)})(e),(u=h=e).on("click",p=>{u.dom.getParent(p.target,"details")&&p.preventDefault()}),(u=>{u.parser.addNodeFilter("details",p=>{me(p,b=>{b.attr("data-mce-open",b.attr("open")),b.attr("open","open")})}),u.serializer.addNodeFilter("details",p=>{me(p,b=>{const y=b.attr("data-mce-open");b.attr("open",Ye(y)?y:null),b.attr("data-mce-open",null)})})})(h),(h=>{const u="contenteditable",p=" "+pe.trim(LS(h))+" ",b=" "+pe.trim(cm(h))+" ",y=T0(p),C=T0(b),L=RS(h);L.length>0&&h.on("BeforeSetContent",R=>{((A,P,N)=>{let O=P.length,M=N.content;if("raw"!==N.format){for(;O--;)M=M.replace(P[O],qN(A,M,cm(A)));N.content=M}})(h,L,R)}),h.parser.addAttributeFilter("class",R=>{let A=R.length;for(;A--;){const P=R[A];y(P)?P.attr(u,"true"):C(P)&&P.attr(u,"false")}}),h.serializer.addAttributeFilter(u,R=>{let A=R.length;for(;A--;){const P=R[A];(y(P)||C(P))&&(L.length>0&&P.attr("data-mce-content")?(P.name="#text",P.type=3,P.raw=!0,P.value=P.attr("data-mce-content")):P.attr(u,null))}})})(e),Sn(e)||((h=>{h.on("mousedown",u=>{u.detail>=3&&(u.preventDefault(),(e=>{const t=((i,r)=>{const s=ce.fromRangeStart(i).getNode(),l=(y=r,Bi(Q(s),C=>Ka(C.dom)||Qa(C),s1(y)).getOr(Q(y)).dom),h=c1(s,l,!1),u=c1(s,l,!0),p=document.createRange();var y;return l1(h,l).fold(()=>{o1(h)?p.setStart(h,0):p.setStartBefore(h)},b=>p.setStartBefore(b.dom)),l1(u,l).fold(()=>{o1(u)?p.setEnd(u,u.data.length):p.setEndAfter(u)},b=>p.setEndAfter(b.dom)),p})(e.selection.getRng(),e.getBody());e.selection.setRng(Uh(t))})(h))})})(e),(h=>{(u=>{const p=[",",".",";",":","!","?"],b=[32],y=()=>{return R=ES(u),A=NS(u),{inlinePatterns:Gp(R),blockPatterns:jp(R),dynamicPatternsLookup:A};var R,A},C=()=>u.options.isSet("text_patterns_lookup");u.on("keydown",R=>{if(13===R.keyCode&&!_e.modifierPressed(R)&&u.selection.isCollapsed()){const A=y();(A.inlinePatterns.length>0||A.blockPatterns.length>0||C())&&((e,t)=>{const i=e.selection.getRng();return Rg(e,i).map(r=>{var s;const l=Math.max(0,i.startOffset),h=w1(t,r,null!==(s=r.textContent)&&void 0!==s?s:""),u=R1(e,r,i.startContainer,l,h,!0),p=((b,y,C,L)=>{var R;const A=b.dom,P=Sa(b);if(!A.is(y,P))return[];const N=null!==(R=y.textContent)&&void 0!==R?R:"";return((O,M)=>{const B=ai(O,(G,Z)=>Z.start.length-G.start.length),Y=M.replace(Gt," ");return Mt(B,U=>0===M.indexOf(U.start)||0===Y.indexOf(U.start))})(C.blockPatterns,N).map(O=>pe.trim(N).length===O.start.length?[]:[{pattern:O,range:Lg(A,A.getRoot(),y,0,y,0,!0)}]).getOr([])})(e,r,h);return(p.length>0||u.length>0)&&(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent("\ufeff"),T1(e,u),((C,L)=>{if(0===L.length)return;const R=C.selection.getBookmark();me(L,A=>((P,N)=>{const M=N.pattern,B=y1(P.dom.getRoot(),N.range).getOrDie("Unable to resolve path range");return Rg(P,B).each(Y=>{"block-format"===M.type?((U,G)=>{const Z=G.get(U);return Et(Z)&&ea(Z).exists($=>Ze($,"block"))})(M.format,P.formatter)&&P.undoManager.transact(()=>{k1(P.dom,Y,M),P.formatter.apply(M.format)}):"block-command"===M.type&&P.undoManager.transact(()=>{k1(P.dom,Y,M),P.execCommand(M.cmd,!1,M.value)})}),!0})(C,A)),C.selection.moveToBookmark(R)})(e,p);const b=e.selection.getRng(),y=Ju(b.startContainer,b.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),y.each(C=>{const L=C.container;"\ufeff"===L.data.charAt(C.offset-1)&&(L.deleteData(C.offset-1,1),to(e.dom,L.parentNode,R=>R===e.dom.getRoot()))})}),!0)}).getOr(!1)})(u,A)&&R.preventDefault()}},!0);const L=()=>{if(u.selection.isCollapsed()){const R=y();(R.inlinePatterns.length>0||C())&&((A,P)=>{const N=A.selection.getRng();Rg(A,N).map(O=>{const M=Math.max(0,N.startOffset-1),B=C1(A.dom,O,N.startContainer,M),Y=w1(P,O,B),U=R1(A,O,N.startContainer,M,Y,!1);U.length>0&&A.undoManager.transact(()=>{T1(A,U)})})})(u,R)}};u.on("keyup",R=>{P1(b,R,(A,P)=>A===P.keyCode&&!_e.modifierPressed(P))&&L()}),u.on("keypress",R=>{P1(p,R,(A,P)=>A.charCodeAt(0)===P.charCode)&&Da.setEditorTimeout(u,L)})})(h)})(e));const s=$L(e);((e,t)=>{e.addCommand("delete",()=>{var i;E0(i=e,t,!1).fold(()=>{Ex(i),Ih(i)},Ga)}),e.addCommand("forwardDelete",()=>{var i;E0(i=e,t,!0).fold(()=>Ax(i,"ForwardDelete"),Ga)})})(e,s),(h=>{h.on("NodeChange",Te(UN,h))})(e),(h=>{var u;const p=h.dom,b=Sa(h),y=null!==(u=Vk(h))&&void 0!==u?u:"",C=(L,R)=>{if((N=>{if(Ry(N)){const O=N.keyCode;return!Ty(N)&&(_e.metaKeyPressed(N)||N.altKey||O>=112&&O<=123||st(uN,O))}return!1})(L))return;const A=h.getBody(),P=!(Ry(N=L)&&!(Ty(N)||"keyup"===N.type&&229===N.keyCode))&&((N,O,M)=>{if(Pt(Q(O),!1)){const B=O.firstElementChild;return!B||!N.getStyle(O.firstElementChild,"padding-left")&&!N.getStyle(O.firstElementChild,"padding-right")&&M===B.nodeName.toLowerCase()}return!1})(p,A,b);var N;(""!==p.getAttrib(A,Ly)!==P||R)&&(p.setAttrib(A,Ly,P?y:null),p.setAttrib(A,"aria-placeholder",P?y:null),((N,O)=>{N.dispatch("PlaceholderToggle",{state:O})})(h,P),h.on(P?"keydown":"keyup",C),h.off(P?"keyup":"keydown",C))};o(y)&&h.on("init",L=>{C(L,!0),h.on("change SetContent ExecCommand",C),h.on("paste",R=>Da.setEditorTimeout(h,()=>C(R)))})})(e),(e=>{const t=Xt(!1),i=Xt(kS(e)?"text":"html"),r=(s=>{const l=Xt(null);return{create:()=>((h,u)=>{const{dom:p,selection:b}=h,y=h.getBody();u.set(b.getRng());const C=p.add(h.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Ww);at.browser.isFirefox()&&p.setStyle(C,"left","rtl"===p.getStyle(y,"direction",!0)?65535:-65535),p.bind(C,"beforedeactivate focusin focusout",L=>{L.stopPropagation()}),C.focus(),b.select(C,!0)})(s,l),remove:()=>((h,u)=>{const p=h.dom;if(wg(h)){let b;const y=u.get();for(;b=wg(h);)p.remove(b),p.unbind(b);y&&h.selection.setRng(y)}u.set(null)})(s,l),getEl:()=>wg(s),getHtml:()=>(h=>{const u=h.dom,p=(L,R)=>{L.appendChild(R),u.remove(R,!0)},[b,...y]=Ve(h.getBody().childNodes,QL);me(y,L=>{p(b,L)});const C=u.select("div[id=mcepastebin]",b);for(let L=C.length-1;L>=0;L--){const R=u.create("div");b.insertBefore(R,C[L]),p(R,C[L])}return b?b.innerHTML:""})(s),getLastRng:l.get}})(e);var s,l,h;s=e,(at.browser.isChromium()||at.browser.isSafari())&&(h=iR,(l=s).on("PastePreProcess",u=>{u.content=h(l,u.content,u.internal)})),((s,l)=>{s.addCommand("mceTogglePlainTextPaste",()=>{((h,u)=>{"text"===u.get()?(u.set("html"),hb(h,!1)):(u.set("text"),hb(h,!0)),h.focus()})(s,l)}),s.addCommand("mceInsertClipboardContent",(h,u)=>{u.html&&Rc(s,u.html,u.internal),u.text&&Sg(s,u.text)})})(e,i),(s=>{const l=p=>b=>{p(s,b)},h=bS(s);nt(h)&&s.on("PastePreProcess",l(h));const u=xS(s);nt(u)&&s.on("PastePostProcess",l(u))})(e),e.on("PreInit",()=>{(s=>{s.on("cut",(l=>h=>{!h.isDefaultPrevented()&&a1(l)&&Jw(h,t1(l),e1(l),()=>{if(at.browser.isChromium()||at.browser.isFirefox()){const u=l.selection.getRng();Da.setEditorTimeout(l,()=>{l.selection.setRng(u),l.execCommand("Delete")},0)}else l.execCommand("Delete")})})(s)),s.on("copy",(l=>h=>{!h.isDefaultPrevented()&&a1(l)&&Jw(h,t1(l),e1(l),Qe)})(s))})(e),((s,l)=>{mS(s)&&s.on("dragend dragover draggesture dragdrop drop drag",h=>{h.preventDefault(),h.stopPropagation()}),vl(s)||s.on("drop",h=>{const u=h.dataTransfer;u&&mt(u.files,b=>/^image\//.test(b.type))&&h.preventDefault()}),s.on("drop",h=>{if(h.isDefaultPrevented()||l.get())return;const u=n1(s,h);if(be(u))return;const p=$w(h.dataTransfer),b=Qr(p,Lc());if((!Zw(p)||(L=>{const R=L["text/plain"];return!!R&&0===R.indexOf("file://")})(p))&&Kw(s,h,u))return;const y=p[Lc()],C=y||p["text/html"]||p["text/plain"];C&&(h.preventDefault(),Da.setEditorTimeout(s,()=>{s.undoManager.transact(()=>{y&&s.execCommand("Delete"),i1(s,u);const L=Gw(C);p["text/html"]?Rc(s,L,b):Sg(s,L)})}))}),s.on("dragstart",h=>{l.set(!0)}),s.on("dragover dragend",h=>{vl(s)&&!l.get()&&(h.preventDefault(),i1(s,n1(s,h))),"dragend"===h.type&&l.set(!1)})})(e,t),((e,t,i)=>{((r,s,l)=>{let h;r.on("keydown",u=>{var p;(_e.metaKeyPressed(p=u)&&86===p.keyCode||p.shiftKey&&45===p.keyCode)&&!u.isDefaultPrevented()&&(h=u.shiftKey&&86===u.keyCode)}),r.on("paste",u=>{if(u.isDefaultPrevented()||(y=u,at.os.isAndroid()&&0===(null===(L=null===(C=y.clipboardData)||void 0===C?void 0:C.items)||void 0===L?void 0:L.length)))return;var y,C,L;const p="text"===l.get()||h;h=!1;const b=$w(u.clipboardData);!Zw(b)&&Kw(r,u,s.getLastRng()||r.selection.getRng())||(Qr(b,"text/html")?(u.preventDefault(),Qw(r,b,b["text/html"],p)):(s.create(),Da.setEditorTimeout(r,()=>{const y=s.getHtml();s.remove(),Qw(r,b,y,p)},0)))})})(e,t,i),(r=>{const s=h=>_t(h,"webkit-fake-url"),l=h=>_t(h,"data:");r.parser.addNodeFilter("img",(h,u,p)=>{if(!vl(r)&&!0===(null===(y=p.data)||void 0===y?void 0:y.paste))for(const b of h){const y=b.attr("src");Ye(y)&&!b.attr("data-mce-object")&&y!==at.transparentSrc&&(s(y)||!AS(r)&&l(y))&&b.remove()}var y})})(e)})(e,r,i)})})(e);const l=(h=>{const u=h;return(p=h,pt(p.plugins,"rtc").bind(b=>X.from(b.setup))).fold(()=>(u.rtcInstance=oy(h),X.none()),p=>(u.rtcInstance=(()=>{const b=Ae(null),y=Ae("");return{init:{bindEvents:Qe},undoManager:{beforeChange:Qe,add:b,undo:b,redo:b,clear:Qe,reset:Qe,hasUndo:vt,hasRedo:vt,transact:b,ignore:Qe,extra:Qe},formatter:{match:vt,matchAll:Ae([]),matchNode:Ae(void 0),canApply:vt,closest:y,apply:Qe,remove:Qe,toggle:Qe,formatChanged:Ae({unbind:Qe})},editor:{getContent:y,setContent:Ae({content:"",html:""}),insertContent:Ae(""),addVisual:Qe},selection:{getContent:y},autocompleter:{addDecoration:Qe,removeDecoration:Qe},raw:{getModel:Ae(X.none())}}})(),X.some(()=>p().then(b=>(u.rtcInstance=(y=>{const C=B=>xt(B)?B:{},{init:L,undoManager:R,formatter:A,editor:P,selection:N,autocompleter:O,raw:M}=y;return{init:{bindEvents:L.bindEvents},undoManager:{beforeChange:R.beforeChange,add:R.add,undo:R.undo,redo:R.redo,clear:R.clear,reset:R.reset,hasUndo:R.hasUndo,hasRedo:R.hasRedo,transact:(B,Y,U)=>R.transact(U),ignore:(B,Y)=>R.ignore(Y),extra:(B,Y,U,G)=>R.extra(U,G)},formatter:{match:(B,Y,U,G)=>A.match(B,C(Y),G),matchAll:A.matchAll,matchNode:A.matchNode,canApply:B=>A.canApply(B),closest:B=>A.closest(B),apply:(B,Y,U)=>A.apply(B,C(Y)),remove:(B,Y,U,G)=>A.remove(B,C(Y)),toggle:(B,Y,U)=>A.toggle(B,C(Y)),formatChanged:(B,Y,U,G,Z)=>A.formatChanged(Y,U,G,Z)},editor:{getContent:B=>P.getContent(B),setContent:(B,Y)=>({content:P.setContent(B,Y),html:""}),insertContent:(B,Y)=>(P.insertContent(B),""),addVisual:P.addVisual},selection:{getContent:(B,Y)=>N.getContent(Y)},autocompleter:{addDecoration:O.addDecoration,removeDecoration:O.removeDecoration},raw:{getModel:()=>X.some(M.getRawModel())}}})(b),b.rtc.isRemote)))));var p})(e);(h=>{const u=h.getDoc(),p=h.getBody();h.dispatch("PreInit"),fS(h)||(u.body.spellcheck=!1,Pg.setAttrib(p,"spellcheck","false")),h.quirks=(e=>{const t=pe.each,i=_e.BACKSPACE,r=_e.DELETE,s=e.dom,l=e.selection,h=e.parser,u=at.browser,p=u.isFirefox(),b=u.isChromium()||u.isSafari(),y=at.deviceType.isiPhone()||at.deviceType.isiPad(),C=at.os.isMacOS()||at.os.isiOS(),L=(ne,se)=>{try{e.getDoc().execCommand(ne,!1,String(se))}catch{}},R=ne=>ne.isDefaultPrevented(),A=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},P=()=>{e.inline||s.bind(e.getDoc(),"mousedown mouseup",ne=>{let se;if(ne.target===e.getDoc().documentElement)if(se=l.getRng(),e.getBody().focus(),"mousedown"===ne.type){if(Pa(se.startContainer))return;l.placeCaretAt(ne.clientX,ne.clientY)}else l.setRng(se)})},N=()=>{Range.prototype.getClientRects||e.on("mousedown",ne=>{if(!R(ne)&&"HTML"===ne.target.nodeName){const se=e.getBody();se.blur(),Da.setEditorTimeout(e,()=>{se.focus()})}})},O=()=>{const ne=lm(e);e.on("click",se=>{const re=se.target;/^(IMG|HR)$/.test(re.nodeName)&&"false"!==s.getContentEditableParent(re)&&(se.preventDefault(),e.selection.select(re),e.nodeChanged()),"A"===re.nodeName&&s.hasClass(re,ne)&&0===re.childNodes.length&&(se.preventDefault(),l.select(re))})},M=()=>{e.on("keydown",ne=>{if(!R(ne)&&ne.keyCode===i&&l.isCollapsed()&&0===l.getRng().startOffset){const se=l.getNode().previousSibling;if(se&&se.nodeName&&"table"===se.nodeName.toLowerCase())return ne.preventDefault(),!1}return!0})},B=()=>{om(e)||e.on("BeforeExecCommand mousedown",()=>{L("StyleWithCSS",!1),L("enableInlineTableEditing",!1),im(e)||L("enableObjectResizing",!1)})},Y=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},U=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},G=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ne=>{let se;"HTML"===ne.target.nodeName&&(se=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(se),e.selection.normalize(),e.nodeChanged())}))},Z=()=>{C&&e.on("keydown",ne=>{!_e.metaKeyPressed(ne)||ne.shiftKey||37!==ne.keyCode&&39!==ne.keyCode||(ne.preventDefault(),e.selection.getSel().modify("move",37===ne.keyCode?"backward":"forward","lineboundary"))})},$=()=>{e.on("click",ne=>{let se=ne.target;do{if("A"===se.tagName)return void ne.preventDefault()}while(se=se.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},K=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ne=>{ne.preventDefault()})})},te=Qe;return Sn(e)?(b&&(P(),O(),K(),A(),y&&(U(),G(),$())),p&&(N(),B(),Y(),Z())):(e.on("keydown",ne=>{if(R(ne)||ne.keyCode!==_e.BACKSPACE)return;let se=l.getRng();const re=se.startContainer,he=se.startOffset,ke=s.getRoot();let Se=re;if(se.collapsed&&0===he){for(;Se.parentNode&&Se.parentNode.firstChild===Se&&Se.parentNode!==ke;)Se=Se.parentNode;"BLOCKQUOTE"===Se.nodeName&&(e.formatter.toggle("blockquote",void 0,Se),se=s.createRng(),se.setStart(re,0),se.setEnd(re,0),l.setRng(se))}}),(()=>{const ne=se=>{const re=s.create("body"),he=se.cloneContents();return re.appendChild(he),l.serializer.serialize(re,{format:"html"})};e.on("keydown",se=>{const re=se.keyCode;if(!R(se)&&(re===r||re===i)){const he=e.selection.isCollapsed(),ke=e.getBody();if(he&&!s.isEmpty(ke)||!he&&!(Se=>{const De=ne(Se),Fe=s.createRng();return Fe.selectNode(e.getBody()),De===ne(Fe)})(e.selection.getRng()))return;se.preventDefault(),e.setContent(""),ke.firstChild&&s.isBlock(ke.firstChild)?e.selection.setCursorLocation(ke.firstChild,0):e.selection.setCursorLocation(ke,0),e.nodeChanged()}})})(),at.windowsPhone||e.on("keyup focusin mouseup",ne=>{_e.modifierPressed(ne)||(se=>{const re=se.getBody(),he=se.selection.getRng();return he.startContainer===he.endContainer&&he.startContainer===re&&0===he.startOffset&&he.endOffset===re.childNodes.length})(e)||l.normalize()},!0),b&&(P(),O(),e.on("init",()=>{L("DefaultParagraphSeparator",Sa(e))}),K(),M(),h.addNodeFilter("br",ne=>{let se=ne.length;for(;se--;)"Apple-interchange-newline"===ne[se].attr("class")&&ne[se].remove()}),y?(U(),G(),$()):A()),p&&(e.on("keydown",ne=>{if(!R(ne)&&ne.keyCode===i){if(!e.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){const se=l.getNode(),re=se.previousSibling;if("HR"===se.nodeName)return s.remove(se),void ne.preventDefault();re&&re.nodeName&&"hr"===re.nodeName.toLowerCase()&&(s.remove(re),ne.preventDefault())}}}),N(),(()=>{const ne=()=>{const re=s.getAttribs(l.getStart().cloneNode(!1));return()=>{const he=l.getStart();he!==e.getBody()&&(s.setAttrib(he,"style",null),t(re,ke=>{he.setAttributeNode(ke.cloneNode(!0))}))}},se=()=>!l.isCollapsed()&&s.getParent(l.getStart(),s.isBlock)!==s.getParent(l.getEnd(),s.isBlock);e.on("keypress",re=>{let he;return!(!(R(re)||8!==re.keyCode&&46!==re.keyCode)&&se()&&(he=ne(),e.getDoc().execCommand("delete",!1),he(),re.preventDefault(),1))}),s.bind(e.getDoc(),"cut",re=>{if(!R(re)&&se()){const he=ne();Da.setEditorTimeout(e,()=>{he()})}})})(),B(),e.on("SetContent ExecCommand",ne=>{"setcontent"!==ne.type&&"mceInsertLink"!==ne.command||t(s.select("a:not([data-mce-block])"),se=>{var re;let he=se.parentNode;const ke=s.getRoot();if(he?.lastChild===se){for(;he&&!s.isBlock(he);){if((null===(re=he.parentNode)||void 0===re?void 0:re.lastChild)!==he||he===ke)return;he=he.parentNode}s.add(he,"br",{"data-mce-bogus":1})}})}),Y(),Z(),M())),{refreshContentEditable:te,isHidden:()=>{if(!p||e.removed)return!1;const ne=e.selection.getSel();return!ne||!ne.rangeCount||0===ne.rangeCount}}})(h),h.dispatch("PostRender");const b=Hk(h);void 0!==b&&(p.dir=b);const y=pS(h);y&&h.on("BeforeSetContent",C=>{pe.each(y,L=>{C.content=C.content.replace(L,R=>"\x3c!--mce:protected "+escape(R)+"--\x3e")})}),h.on("SetContent",()=>{h.addVisual(h.getBody())}),h.on("compositionstart compositionend",C=>{h.composing="compositionstart"===C.type})})(e),l.fold(()=>{_1(e).then(()=>Mg(e))},h=>{e.setProgressState(!0),_1(e).then(()=>{h().then(u=>{e.setProgressState(!1),Mg(e),sy(e)},u=>{e.notificationManager.open({type:"error",text:String(u)}),Mg(e),sy(e)})})})},B1=(e,t)=>{if(e.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline)D1(e);else{const r=e.iframeElement,s=((e,t,i,r)=>((s,l,h,u,p)=>{const b=(y=h,C=u,L=>{y(L)&&C((R=>{const A=Q(cf(R).getOr(R.target)),P=()=>R.stopPropagation(),N=()=>R.preventDefault(),O=dn(N,P);return{target:A,x:R.clientX,y:R.clientY,stop:P,prevent:N,kill:O,raw:R}})(L))});var y,C;return s.dom.addEventListener(l,b,!1),{unbind:Te(LC,s,l,b,!1)}})(e,"load",i,r))(Q(r),0,nN,()=>{s.unbind(),e.contentDocument=r.contentDocument,D1(e)});if(at.browser.isFirefox()){const l=e.getDoc();l.open(),l.write(e.iframeHTML),l.close()}else r.srcdoc=e.iframeHTML}},Ig=gt.DOM,F1=gt.DOM,z1=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),X1=e=>{const t=e.getElement();return e.inline?z1(null):(i=>{const r=F1.create("div");return F1.insertAfter(r,i),z1(r,r)})(t)},dr=gt.DOM,H1=e=>"-"===e.charAt(0),Y1=(e,t,i)=>X.from(t).filter(r=>o(r)&&!rc.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${i}.js`,name:X.some(r)})),W1=Je().deviceType,V1=W1.isPhone(),AR=W1.isTablet(),Ts=e=>{if(be(e))return[];{const t=Et(e)?e:e.split(/[ ,]/),i=tt(t,z);return Ve(i,o)}},_g=(e,t)=>Ze(e.sections(),t),NR=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:pt(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),LR=(e,t)=>{var i;const r=null!==(i=t.external_plugins)&&void 0!==i?i:{};return e&&e.external_plugins?pe.extend({},e.external_plugins,r):r},PR=(e,t)=>{const i=e.selection,r=e.dom;return/^ | $/.test(t)?((s,l,h)=>{const u=Q(s.getRoot());return h=cs(u,ce.fromRangeStart(l))?h.replace(/^ /,"&nbsp;"):h.replace(/^&nbsp;/," "),ds(u,ce.fromRangeEnd(l))?h.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):h.replace(/&nbsp;(<br( \/)?>)?$/," ")})(r,i.getRng(),t):t},Ic=(e,t)=>{const{content:i,details:r}=(s=>{if("string"!=typeof s){const l=pe.extend({paste:s.paste,data:{paste:s.paste}},s);return{content:s.content,details:l}}return{content:s,details:{}}})(t);yu(e,{...r,content:PR(e,i),format:"html",set:!1,selection:!0}).each(s=>{const l=(u=s.content,p=r,Nu(e).editor.insertContent(u,p));var u,p;wu(e,l,s),e.addVisual()})},OR={"font-size":"size","font-family":"face"},MR=qc("font"),j1=e=>(t,i)=>X.from(i).map(Q).filter(ka).bind(r=>{return(s=e,l=t,h=r.dom,Kh(Q(h),u=>{return Zs(p=u,s).orThunk(()=>MR(p)?pt(OR,s).bind(b=>Bn(p,b)):X.none());var p},u=>it(Q(l),u))).or(((s,l)=>X.from(gt.DOM.getStyle(l,s,!0)))(e,r.dom));var s,l,h}).getOr(""),IR=j1("font-size"),_R=dn(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),j1("font-family")),DR=e=>ha(e.getBody()).bind(t=>{const i=t.container();return X.from(ve(i)?i.parentNode:i)}),Dg=(e,t)=>{return i=e,r=hn(X.some,t),(s=i,X.from(s.selection.getRng()).bind(l=>{const h=s.getBody();return l.startContainer===h&&0===l.startOffset?X.none():X.from(s.selection.getStart(!0))})).orThunk(Te(DR,i)).map(Q).filter(ka).bind(r);var i,r,s},G1=(e,t)=>{if(/^[0-9.]+$/.test(t)){const i=parseInt(t,10);if(i>=1&&i<=7){const r=pe.explode(e.options.get("font_size_style_values")),s=pe.explode(e.options.get("font_size_classes"));return s.length>0?s[i-1]||t:r[i-1]||t}return t}return t},BR=e=>{const t=e.split(/\s*,\s*/);return tt(t,i=>-1===i.indexOf(" ")||_t(i,'"')||_t(i,"'")?i:`'${i}'`).join(",")},zR=["toggleview"],U1=e=>st(zR,e.toLowerCase());class q1{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,i=!1,r,s){const l=this.editor,h=t.toLowerCase(),u=s?.skip_focus;if(l.removed||("mcefocus"!==h&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)||u?xh(b=l).each(y=>b.selection.setRng(y)):l.focus()),l.dispatch("BeforeExecCommand",{command:t,ui:i,value:r}).isDefaultPrevented()))return!1;var b;const p=this.commands.exec[h];return!!nt(p)&&(p(h,i,r),l.dispatch("ExecCommand",{command:t,ui:i,value:r}),!0)}queryCommandState(t){if(!U1(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const i=t.toLowerCase(),r=this.commands.state[i];return!!nt(r)&&r(i)}queryCommandValue(t){if(!U1(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const i=t.toLowerCase(),r=this.commands.value[i];return nt(r)?r(i):""}addCommands(t,i="exec"){const r=this.commands;dt(t,(s,l)=>{me(l.toLowerCase().split(","),h=>{r[i][h]=s})})}addCommand(t,i,r){const s=t.toLowerCase();this.commands.exec[s]=(l,h,u)=>i.call(r??this.editor,h,u)}queryCommandSupported(t){const i=t.toLowerCase();return!!this.commands.exec[i]}addQueryStateHandler(t,i,r){this.commands.state[t.toLowerCase()]=()=>i.call(r??this.editor)}addQueryValueHandler(t,i,r){this.commands.value[t.toLowerCase()]=()=>i.call(r??this.editor)}}const ao="data-mce-contenteditable",Bg=(e,t,i)=>{try{e.getDoc().execCommand(t,!1,String(i))}catch{}},_c=(e,t)=>{e.dom.contentEditable=t?"true":"false"},hr=e=>e.readonly,$1=e=>{e.parser.addAttributeFilter("contenteditable",t=>{hr(e)&&me(t,i=>{i.attr(ao,i.attr("contenteditable")),i.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ao,t=>{hr(e)&&me(t,i=>{i.attr("contenteditable",i.attr(ao))})}),e.serializer.addTempAttr(ao)},HR=["copy"],YR=pe.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Fg{constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||vt}static isNative(t){return!!YR[t.toLowerCase()]}fire(t,i){return this.dispatch(t,i)}dispatch(t,i){const r=t.toLowerCase(),s=wd(r,i??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(s);const l=this.bindings[r];if(l)for(let h=0,u=l.length;h<u;h++){const p=l[h];if(!p.removed){if(p.once&&this.off(r,p.func),s.isImmediatePropagationStopped())return s;if(!1===p.func.call(this.scope,s))return s.preventDefault(),s}}return s}on(t,i,r,s){if(!1===i&&(i=vt),i){const l={func:i,removed:!1};s&&pe.extend(l,s);const h=t.toLowerCase().split(" ");let u=h.length;for(;u--;){const p=h[u];let b=this.bindings[p];b||(b=[],this.toggleEvent(p,!0)),b=r?[l,...b]:[...b,l],this.bindings[p]=b}}return this}off(t,i){if(t){const r=t.toLowerCase().split(" ");let s=r.length;for(;s--;){const l=r[s];let h=this.bindings[l];if(!l)return dt(this.bindings,(u,p)=>{this.toggleEvent(p,!1),delete this.bindings[p]}),this;if(h){if(i){const u=Ha(h,p=>p.func===i);h=u.fail,this.bindings[l]=h,me(u.pass,p=>{p.removed=!0})}else h.length=0;h.length||(this.toggleEvent(t,!1),delete this.bindings[l])}}}else dt(this.bindings,(r,s)=>{this.toggleEvent(s,!1)}),this.bindings={};return this}once(t,i,r){return this.on(t,i,r,{once:!0})}has(t){t=t.toLowerCase();const i=this.bindings[t];return!(!i||0===i.length)}}const Ps=e=>(e._eventDispatcher||(e._eventDispatcher=new Fg({scope:e,toggleEvent:(t,i)=>{Fg.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,i)}})),e._eventDispatcher),zg={fire(e,t,i){return this.dispatch(e,t,i)},dispatch(e,t,i){const r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return wd(e.toLowerCase(),t??{},r);const s=Ps(r).dispatch(e,t);if(!1!==i&&r.parent){let l=r.parent();for(;l&&!s.isPropagationStopped();)l.dispatch(e,s,!1),l=l.parent?l.parent():void 0}return s},on(e,t,i){return Ps(this).on(e,t,i)},off(e,t){return Ps(this).off(e,t)},once(e,t){return Ps(this).once(e,t)},hasEventListeners(e){return Ps(this).has(e)}},Dc=gt.DOM;let ur;const Bc=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;const i=rm(e);return i?(e.eventRoot||(e.eventRoot=Dc.select(i)[0]),e.eventRoot):e.getBody()},Z1=(e,t,i)=>{var r;(r=e).hidden||hr(r)?hr(e)&&((r,s)=>{if("click"!==s.type||_e.metaKeyPressed(s))st(HR,s.type)&&r.dispatch(s.type,s);else{const l=Q(s.target);(h=r,u=l,Fi(u,"a",p=>it(p,Q(h.getBody()))).bind(p=>Bn(p,"href"))).each(h=>{if(s.preventDefault(),/^#/.test(h)){const p=r.dom.select(`${h},[name="${u=h,_t(u,"#")?(b=u,b.substring(1)):u}"]`);p.length&&r.selection.scrollIntoView(p[0],!0)}else window.open(h,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");var b,u})}var h,u})(e,i):e.dispatch(t,i)},K1=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const i=Bc(e,t);if(rm(e)){if(ur||(ur={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||ur&&(dt(ur,(s,l)=>{e.dom.unbind(Bc(e,l))}),ur=null)})),ur[t])return;const r=s=>{const l=s.target,h=e.editorManager.get();let u=h.length;for(;u--;){const p=h[u].getBody();(p===l||Dc.isChildOf(l,p))&&Z1(h[u],t,s)}};ur[t]=r,Dc.bind(i,t,r)}else{const r=s=>{Z1(e,t,s)};Dc.bind(i,t,r),e.delegates[t]=r}},Q1={...zg,bindPendingEventDelegates(){const e=this;pe.each(e._pendingNativeEvents,t=>{K1(e,t)})},toggleNativeEvent(e,t){const i=this;"focus"!==e&&"blur"!==e&&(i.removed||(t?i.initialized?K1(i,e):i._pendingNativeEvents?i._pendingNativeEvents.push(e):i._pendingNativeEvents=[e]:i.initialized&&i.delegates&&(i.dom.unbind(Bc(i,e),e,i.delegates[e]),delete i.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),i=e.dom;e.delegates&&(dt(e.delegates,(r,s)=>{e.dom.unbind(Bc(e,s),s,r)}),delete e.delegates),!e.inline&&t&&i&&(t.onload=null,i.unbind(e.getWin()),i.unbind(e.getDoc())),i&&(i.unbind(t),i.unbind(e.getContainer()))}},WR=e=>Ye(e)?{value:e.split(/[ ,]/),valid:!0}:Qn(e,Ye)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},J1=(e,t)=>e+(c(t.message)?"":`. ${t.message}`),eC=e=>e.valid,Xg=(e,t,i="")=>{const r=t(e);return Ca(r)?r?{value:e,valid:!0}:{valid:!1,message:i}:r},VR=["design","readonly"],tC=(e,t,i,r)=>{const s=i[t.get()],l=i[r];try{l.activate()}catch(h){return void console.error(`problem while activating editor mode ${r}:`,h)}var h;s.deactivate(),s.editorReadOnly!==l.editorReadOnly&&((e,t)=>{const i=Q(e.getBody());var r,s,l;l=t,Zc(r=i,s="mce-content-readonly")&&!l?Gs(r,s):l&&Co(r,s),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(r=>{X.from(r.selection.getNode()).each(s=>{s.removeAttribute("data-mce-selected")})})(e),e.readonly=!0,_c(i,!1),me(ia(i,'*[contenteditable="true"]'),r=>{Vt(r,ao,"true"),_c(r,!1)})):(e.readonly=!1,_c(i,!0),me(ia(i,'*[data-mce-contenteditable="true"]'),r=>{$t(r,ao),_c(r,!0)}),Bg(e,"StyleWithCSS",!1),Bg(e,"enableInlineTableEditing",!1),Bg(e,"enableObjectResizing",!1),(r=>ar(r)||(s=>{const l=ri(Q(s.getElement()));return mh(l).filter(h=>!(u=>{const p=u.classList;return void 0!==p&&(p.contains("tox-edit-area")||p.contains("tox-edit-area__iframe")||p.contains("mce-content-body"))})(h.dom)&&zl(s,h.dom)).isSome()})(r))(e)&&e.focus(),(r=>{r.selection.setRng(r.selection.getRng())})(e),e.nodeChanged())})(e,l.editorReadOnly),t.set(r),(h=e).dispatch("SwitchMode",{mode:r})},Hg=pe.each,Yg=pe.explode,jR={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},aC=pe.makeMap("alt,ctrl,shift,meta,access"),GR=e=>{const t={},i=at.os.isMacOS()||at.os.isiOS();Hg(Yg(e.toLowerCase(),"+"),l=>{l in aC?t[l]=!0:/^[0-9]{2,}$/.test(l)?t.keyCode=parseInt(l,10):(t.charCode=l.charCodeAt(0),t.keyCode=jR[l]||l.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let s;for(s in aC)t[s]?r.push(s):t[s]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,i?t.ctrl=!0:t.shift=!0),t.meta&&(i?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class nC{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const i=this;t.on("keyup keypress keydown",r=>{!i.hasModifier(r)&&!i.isFunctionKey(r)||r.isDefaultPrevented()||(Hg(i.shortcuts,s=>{i.matchShortcut(r,s)&&(i.pendingPatterns=s.subpatterns.slice(0),"keydown"===r.type&&i.executeShortcutAction(s))}),i.matchShortcut(r,i.pendingPatterns[0])&&(1===i.pendingPatterns.length&&"keydown"===r.type&&i.executeShortcutAction(i.pendingPatterns[0]),i.pendingPatterns.shift()))})}add(t,i,r,s){const l=this,h=l.normalizeCommandFunc(r);return Hg(Yg(pe.trim(t)),u=>{const p=l.createShortcut(u,i,h,s);l.shortcuts[p.id]=p}),!0}remove(t){const i=this.createShortcut(t);return!!this.shortcuts[i.id]&&(delete this.shortcuts[i.id],!0)}normalizeCommandFunc(t){const i=this,r=t;return"string"==typeof r?()=>{i.editor.execCommand(r,!1,null)}:pe.isArray(r)?()=>{i.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,i,r,s){const l=pe.map(Yg(t,">"),GR);return l[l.length-1]=pe.extend(l[l.length-1],{func:r,scope:s||this.editor}),pe.extend(l[0],{desc:this.editor.translate(i),subpatterns:l.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,i){return!!i&&i.ctrl===t.ctrlKey&&i.meta===t.metaKey&&i.alt===t.altKey&&i.shift===t.shiftKey&&!!(t.keyCode===i.keyCode||t.charCode&&t.charCode===i.charCode)&&(t.preventDefault(),!0)}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const UR=()=>{const e=(()=>{const t={},i={},r={},s={},l={},h={},u={},p={},b=(y,C)=>(L,R)=>{y[L.toLowerCase()]={...R,type:C}};return{addButton:b(t,"button"),addGroupToolbarButton:b(t,"grouptoolbarbutton"),addToggleButton:b(t,"togglebutton"),addMenuButton:b(t,"menubutton"),addSplitButton:b(t,"splitbutton"),addMenuItem:b(i,"menuitem"),addNestedMenuItem:b(i,"nestedmenuitem"),addToggleMenuItem:b(i,"togglemenuitem"),addAutocompleter:b(r,"autocompleter"),addContextMenu:b(l,"contextmenu"),addContextToolbar:b(h,"contexttoolbar"),addContextForm:b(h,"contextform"),addSidebar:b(u,"sidebar"),addView:b(p,"views"),addIcon:(y,C)=>s[y.toLowerCase()]=C,getAll:()=>({buttons:t,menuItems:i,icons:s,popups:r,contextMenus:l,contextToolbars:h,sidebars:u,views:p})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},gr=gt.DOM,iC=pe.extend,qR=pe.each;class Fc{constructor(t,i,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,iC(this,Q1);const s=this;this.id=t,this.hidden=!1;const l=((e,t,i,r,s)=>{var l;const h=e?{mobile:NR(null!==(l=s.mobile)&&void 0!==l?l:{},t)}:{},u=((e,t)=>{const i=((l,h)=>{const u={},p={};return fo(l,(b,y)=>st(e,y),go(u),go(p)),{t:u,f:p}})(t);return s=i.f,{sections:Ae(i.t),options:Ae(s)};var s})(["mobile"],rg(h,s)),p=pe.extend(i,r,u.options(),e&&_g(u,"mobile")?((b,y,C={})=>{const L=b.sections(),R=pt(L,y).getOr({});return pe.extend({},C,R)})(u,"mobile"):{},{external_plugins:LR(r,u.options())});return((b,y,C,L)=>{const R=Ts(C.forced_plugins),A=Ts(L.plugins),P=_g(M=y,"mobile")?M.sections().mobile:{},N=((M,B,Y,U)=>M&&_g(B,"mobile")?U:Y)(b,y,A,P.plugins?Ts(P.plugins):A),O=((M,B)=>[...Ts(M),...Ts(B)])(R,N);var M;return pe.extend(L,{forced_plugins:R,plugins:O})})(e,u,r,p)})(V1||AR,V1,A=i,r.defaultOptions,A);var A;this.options=((R,A)=>{const P={},N={},O=(B,Y,U)=>{const G=Xg(Y,U);return eC(G)?(N[B]=G.value,!0):(console.warn(J1(`Invalid value passed for the ${B} option`,G)),!1)},M=B=>Ze(P,B);return{register:(B,Y)=>{const U=Ye(Y.processor)?(Z=>{const $=(()=>{switch(Z){case"array":return Et;case"boolean":return Ca;case"function":return nt;case"number":return Na;case"object":return xt;case"string":return Ye;case"string[]":return WR;case"object[]":return K=>Qn(K,xt);case"regexp":return K=>cn(K,RegExp);default:return Lt}})();return K=>Xg(K,$,`The value must be a ${Z}.`)})(Y.processor):Y.processor,G=((Z,$,K)=>{if(!ft($)){const te=Xg($,K);if(eC(te))return te.value;console.error(J1(`Invalid default value passed for the "${Z}" option`,te))}})(B,Y.default,U);P[B]={...Y,default:G,processor:U},pt(N,B).orThunk(()=>pt(A,B)).each(Z=>O(B,Z,U))},isRegistered:M,get:B=>pt(N,B).orThunk(()=>pt(P,B).map(Y=>Y.default)).getOrUndefined(),set:(B,Y)=>{if(M(B)){const U=P[B];return U.immutable?(console.error(`"${B}" is an immutable option and cannot be updated`),!1):O(B,Y,U.processor)}return console.warn(`"${B}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:B=>{const Y=M(B);return Y&&delete N[B],Y},isSet:B=>Ze(N,B)}})(0,l),(R=>{const A=R.options.register;A("id",{processor:"string",default:R.id}),A("selector",{processor:"string"}),A("target",{processor:"object"}),A("suffix",{processor:"string"}),A("cache_suffix",{processor:"string"}),A("base_url",{processor:"string"}),A("referrer_policy",{processor:"string",default:""}),A("language_load",{processor:"boolean",default:!0}),A("inline",{processor:"boolean",default:!1}),A("iframe_attrs",{processor:"object",default:{}}),A("doctype",{processor:"string",default:"<!DOCTYPE html>"}),A("document_base_url",{processor:"string",default:R.documentBaseUrl}),A("body_id",{processor:$p(R,"tinymce"),default:"tinymce"}),A("body_class",{processor:$p(R),default:""}),A("content_security_policy",{processor:"string",default:""}),A("br_in_pre",{processor:"boolean",default:!0}),A("forced_root_block",{processor:P=>{const N=Ye(P)&&o(P);return N?{value:P,valid:N}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),A("forced_root_block_attrs",{processor:"object",default:{}}),A("newline_behavior",{processor:P=>{const N=st(["block","linebreak","invert","default"],P);return N?{value:P,valid:N}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),A("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),A("no_newline_selector",{processor:"string",default:""}),A("keep_styles",{processor:"boolean",default:!0}),A("end_container_on_empty_block",{processor:P=>Ca(P)||Ye(P)?{valid:!0,value:P}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),A("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),A("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),A("font_size_classes",{processor:"string",default:""}),A("automatic_uploads",{processor:"boolean",default:!0}),A("images_reuse_filename",{processor:"boolean",default:!1}),A("images_replace_blob_uris",{processor:"boolean",default:!0}),A("icons",{processor:"string",default:""}),A("icons_url",{processor:"string",default:""}),A("images_upload_url",{processor:"string",default:""}),A("images_upload_base_path",{processor:"string",default:""}),A("images_upload_credentials",{processor:"boolean",default:!1}),A("images_upload_handler",{processor:"function"}),A("language",{processor:"string",default:"en"}),A("language_url",{processor:"string",default:""}),A("entity_encoding",{processor:"string",default:"named"}),A("indent",{processor:"boolean",default:!0}),A("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),A("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),A("indent_use_margin",{processor:"boolean",default:!1}),A("indentation",{processor:"string",default:"40px"}),A("content_css",{processor:P=>{const N=!1===P||Ye(P)||Qn(P,Ye);return N?Ye(P)?{value:tt(P.split(","),z),valid:N}:Et(P)?{value:P,valid:N}:!1===P?{value:[],valid:N}:{value:P,valid:N}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:zd(R)?[]:["default"]}),A("content_style",{processor:"string"}),A("content_css_cors",{processor:"boolean",default:!1}),A("font_css",{processor:P=>{const N=Ye(P)||Qn(P,Ye);return N?{value:Et(P)?P:tt(P.split(","),z),valid:N}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),A("inline_boundaries",{processor:"boolean",default:!0}),A("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),A("object_resizing",{processor:P=>{const N=Ca(P)||Ye(P);return N?!1===P||_d.isiPhone()||_d.isiPad()?{value:"",valid:N}:{value:!0===P?"table,img,figure.image,div,video,iframe":P,valid:N}:{valid:!1,message:"Must be boolean or a string"}},default:!xk}),A("resize_img_proportional",{processor:"boolean",default:!0}),A("event_root",{processor:"object"}),A("service_message",{processor:"string"}),A("theme",{processor:P=>!1===P||Ye(P)||nt(P),default:"silver"}),A("theme_url",{processor:"string"}),A("formats",{processor:"object"}),A("format_empty_lines",{processor:"boolean",default:!1}),A("format_noneditable_selector",{processor:"string",default:""}),A("preview_styles",{processor:P=>{const N=!1===P||Ye(P);return N?{value:!1===P?"":P,valid:N}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),A("custom_ui_selector",{processor:"string",default:""}),A("hidden_input",{processor:"boolean",default:!0}),A("submit_patch",{processor:"boolean",default:!0}),A("encoding",{processor:"string"}),A("add_form_submit_trigger",{processor:"boolean",default:!0}),A("add_unload_trigger",{processor:"boolean",default:!0}),A("custom_undo_redo_levels",{processor:"number",default:0}),A("disable_nodechange",{processor:"boolean",default:!1}),A("readonly",{processor:"boolean",default:!1}),A("plugins",{processor:"string[]",default:[]}),A("external_plugins",{processor:"object"}),A("forced_plugins",{processor:"string[]"}),A("model",{processor:"string",default:R.hasPlugin("rtc")?"plugin":"dom"}),A("model_url",{processor:"string"}),A("block_unsupported_drop",{processor:"boolean",default:!0}),A("visual",{processor:"boolean",default:!0}),A("visual_table_class",{processor:"string",default:"mce-item-table"}),A("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),A("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),A("setup",{processor:"function"}),A("init_instance_callback",{processor:"function"}),A("url_converter",{processor:"function",default:R.convertURL}),A("url_converter_scope",{processor:"object",default:R}),A("urlconverter_callback",{processor:"function"}),A("allow_conditional_comments",{processor:"boolean",default:!1}),A("allow_html_data_urls",{processor:"boolean",default:!1}),A("allow_svg_data_urls",{processor:"boolean"}),A("allow_html_in_named_anchor",{processor:"boolean",default:!1}),A("allow_script_urls",{processor:"boolean",default:!1}),A("allow_unsafe_link_target",{processor:"boolean",default:!1}),A("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),A("fix_list_elements",{processor:"boolean",default:!1}),A("preserve_cdata",{processor:"boolean",default:!1}),A("remove_trailing_brs",{processor:"boolean"}),A("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),A("element_format",{processor:"string",default:"html"}),A("entities",{processor:"string"}),A("schema",{processor:"string",default:"html5"}),A("convert_urls",{processor:"boolean",default:!0}),A("relative_urls",{processor:"boolean",default:!0}),A("remove_script_host",{processor:"boolean",default:!0}),A("custom_elements",{processor:"string"}),A("extended_valid_elements",{processor:"string"}),A("invalid_elements",{processor:"string"}),A("invalid_styles",{processor:Dd}),A("valid_children",{processor:"string"}),A("valid_classes",{processor:Dd}),A("valid_elements",{processor:"string"}),A("valid_styles",{processor:Dd}),A("verify_html",{processor:"boolean",default:!0}),A("auto_focus",{processor:P=>Ye(P)||!0===P}),A("browser_spellcheck",{processor:"boolean",default:!1}),A("protect",{processor:"array"}),A("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),A("deprecation_warnings",{processor:"boolean",default:!0}),A("a11y_advanced_options",{processor:"boolean",default:!1}),A("api_key",{processor:"string"}),A("paste_block_drop",{processor:"boolean",default:!1}),A("paste_data_images",{processor:"boolean",default:!0}),A("paste_preprocess",{processor:"function"}),A("paste_postprocess",{processor:"function"}),A("paste_webkit_styles",{processor:"string",default:"none"}),A("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),A("paste_merge_formats",{processor:"boolean",default:!0}),A("smart_paste",{processor:"boolean",default:!0}),A("paste_as_text",{processor:"boolean",default:!1}),A("paste_tab_spaces",{processor:"number",default:4}),A("text_patterns",{processor:P=>Qn(P,xt)||!1===P?{value:Up(!1===P?[]:P),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),A("text_patterns_lookup",{processor:P=>{return nt(P)?{value:(N=P,O=>{const M=N(O);return Up(M)}),valid:!0}:{valid:!1,message:"Must be a single function"};var N},default:P=>[]}),A("noneditable_class",{processor:"string",default:"mceNonEditable"}),A("editable_class",{processor:"string",default:"mceEditable"}),A("noneditable_regexp",{processor:P=>Qn(P,qp)?{value:P,valid:!0}:qp(P)?{value:[P],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),A("table_tab_navigation",{processor:"boolean",default:!0}),R.on("ScriptsLoaded",()=>{A("directionality",{processor:"string",default:Ja.isRtl()?"rtl":void 0}),A("placeholder",{processor:"string",default:vk.getAttrib(R.getElement(),"placeholder")})})})(s);const h=this.options.get;h("deprecation_warnings")&&((R,A)=>{((P,N)=>{const O=(e=>{const t=Ve($E,r=>Ze(e,r)),i=e.forced_root_block;return!1!==i&&""!==i||t.push("forced_root_block (false only)"),ai(t)})(P),M=(e=>{const t=pe.makeMap(e.plugins," "),i=Ve(ZE,r=>Ze(t,r));return ai(i)})(N),B=M.length>0,Y=O.length>0,U="mobile"===N.theme;if(B||Y||U){const G="\n- ",Z=U?`\n\nThemes:${G}mobile`:"",$=B?`\n\nPlugins:${G}${M.join(G)}`:"",K=Y?`\n\nOptions:${G}${O.join(G)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+Z+$+K)}})(R,A)})(i,l);const u=h("suffix");u&&(r.suffix=u),this.suffix=r.suffix;const p=h("base_url");p&&r._setBaseUrl(p),this.baseUri=r.baseURI;const b=Bd(s);b&&(Yn.ScriptLoader._setReferrerPolicy(b),gt.DOM.styleSheetLoader._setReferrerPolicy(b));const y=sm(s);Ce(y)&&gt.DOM.styleSheetLoader._setContentCssCors(y),ra.languageLoad=h("language_load"),ra.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new rn(Zp(s),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=zd(s),this.hasVisual=sS(s),this.shortcuts=new nC(this),this.editorCommands=new q1(this),(e=>{var t;(e=>{(t=>{const i=r=>()=>{me("left,center,right,justify".split(","),s=>{r!==s&&t.formatter.remove("align"+s)}),"none"!==r&&(t.formatter.toggle("align"+r,void 0),t.nodeChanged())};t.editorCommands.addCommands({JustifyLeft:i("left"),JustifyCenter:i("center"),JustifyRight:i("right"),JustifyFull:i("justify"),JustifyNone:i("none")})})(e),(t=>{const i=r=>()=>{const s=t.selection,l=s.isCollapsed()?[t.dom.getParent(s.getNode(),t.dom.isBlock)]:s.getSelectedBlocks();return mt(l,h=>Ce(t.formatter.matchNode(h,r)))};t.editorCommands.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify")},"state")})(e)})(e),(t=e).editorCommands.addCommands({"Cut,Copy,Paste":i=>{const r=t.getDoc();let s;try{r.execCommand(i)}catch{s=!0}if("paste"!==i||r.queryCommandEnabled(i)||(s=!0),s||!r.queryCommandSupported(i)){let l=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(at.os.isMacOS()||at.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:l,type:"error"})}}}),(t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})})(e),(t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(i,r,s)=>{let l=0;t.dom.getParent(t.selection.getNode(),h=>!Re(h)||l++!==s||(t.selection.select(h),!1),t.getBody())},mceSelectNode:(i,r,s)=>{t.selection.select(s)},selectAll:()=>{const i=t.dom.getParent(t.selection.getStart(),Ka);if(i){const r=t.dom.createRng();r.selectNodeContents(i),t.selection.setRng(r)}}})})(e),(t=>{t.editorCommands.addCommands({mceCleanup:()=>{const i=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(i)},insertImage:(i,r,s)=>{Ic(t,t.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(i,r,s)=>{Ic(t,t.dom.encode(s))},insertHTML:(i,r,s)=>{Ic(t,s)},mceInsertContent:(i,r,s)=>{Ic(t,s)},mceSetContent:(i,r,s)=>{t.setContent(s)},mceReplaceContent:(i,r,s)=>{t.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent("")}})})(e),(t=>{const i=(r,s,l)=>{const h=Ye(l)?{href:l}:l,u=t.dom.getParent(t.selection.getNode(),"a");xt(h)&&Ye(h.href)&&(h.href=h.href.replace(/ /g,"%20"),u&&h.href||t.formatter.remove("link"),h.href&&t.formatter.apply("link",h,u))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isCollapsed()){const r=t.dom.getParent(t.selection.getStart(),"a");r&&t.dom.remove(r,!0)}else t.formatter.remove("link")},mceInsertLink:i,createLink:i})})(e),(t=>{t.editorCommands.addCommands({Indent:()=>{k0(t,"indent")},Outdent:()=>{S0(t)}}),t.editorCommands.addCommands({Outdent:()=>y0(t)},"state")})(e),(t=>{t.editorCommands.addCommands({insertParagraph:()=>{Nc(Tw,t)},mceInsertNewLine:(i,r,s)=>{Bw(t,s)},InsertLineBreak:(i,r,s)=>{Nc(Mw,t)}})})(e),(t=>{var i;(i=t).editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{i.getDoc().execCommand(r);const s=i.dom.getParent(i.selection.getNode(),"ol,ul");if(s){const l=s.parentNode;if(l&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(l.nodeName)){const h=i.selection.getBookmark();i.dom.split(l,s),i.selection.moveToBookmark(h)}}}}),(i=>{i.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{const s=i.dom.getParent(i.selection.getNode(),"ul,ol");return s&&("insertunorderedlist"===r&&"UL"===s.tagName||"insertorderedlist"===r&&"OL"===s.tagName)}},"state")})(t)})(e),(t=>{(i=>{const r=(s,l)=>{i.formatter.toggle(s,l),i.nodeChanged()};i.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":s=>{r(s)},"ForeColor,HiliteColor":(s,l,h)=>{r(s,{value:h})},BackColor:(s,l,h)=>{r("hilitecolor",{value:h})},FontName:(s,l,h)=>{((u,p)=>{const b=G1(u,p);u.formatter.toggle("fontname",{value:BR(b)}),u.nodeChanged()})(i,h)},FontSize:(s,l,h)=>{var u;(u=i).formatter.toggle("fontsize",{value:G1(u,h)}),u.nodeChanged()},LineHeight:(s,l,h)=>{var u;(u=i).formatter.toggle("lineheight",{value:String(h)}),u.nodeChanged()},Lang:(s,l,h)=>{var u;r(s,{value:h.code,customValue:null!==(u=h.customCode)&&void 0!==u?u:null})},RemoveFormat:s=>{i.formatter.remove(s)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(s,l,h)=>{r(Ye(h)?h:"p")},mceToggleFormat:(s,l,h)=>{r(h)}})})(t),(i=>{const r=s=>i.formatter.match(s);i.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":s=>r(s),mceBlockQuote:()=>r("blockquote")},"state"),i.editorCommands.addQueryValueHandler("FontName",()=>{return Dg(s=i,l=>_R(s.getBody(),l.dom)).getOr("");var s}),i.editorCommands.addQueryValueHandler("FontSize",()=>{return Dg(s=i,l=>IR(s.getBody(),l.dom)).getOr("");var s}),i.editorCommands.addQueryValueHandler("LineHeight",()=>{return Dg(s=i,l=>{const h=Q(s.getBody());return Kh(l,p=>Zs(p,"line-height"),Te(it,h)).getOrThunk(()=>{const p=parseFloat(fn(l,"line-height")),b=parseFloat(fn(l,"font-size"));return String(p/b)})}).getOr("");var s})})(t)})(e),(t=>{t.editorCommands.addCommands({mceRemoveNode:(i,r,s)=>{const l=s??t.selection.getNode();if(l!==t.getBody()){const h=t.selection.getBookmark();t.dom.remove(l,!0),t.selection.moveToBookmark(h)}},mcePrint:()=>{t.getWin().print()},mceFocus:(i,r,s)=>{var l;(l=t).removed||(!0===s?wh(l):(u=>{const p=u.selection,b=u.getBody();let y=p.getRng();u.quirks.refreshContentEditable(),Ce(u.bookmark)&&!ar(u)&&xh(u).each(L=>{u.selection.setRng(L),y=L});const C=(L=u,R=p.getNode(),L.dom.getParent(R,A=>"true"===L.dom.getContentEditable(A)));var L,R;if(C&&u.dom.isChildOf(C,b))return yh(C),Bb(u,y),void wh(u);u.inline||(at.browser.isOpera()||yh(b),u.getWin().focus()),(at.browser.isFirefox()||u.inline)&&(yh(b),Bb(u,y)),wh(u)})(l))},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})})(e)})(this);const C=h("cache_suffix");C&&(at.cacheSuffix=C.replace(/^[\?\&]+/,"")),this.ui={registry:UR(),styleSheetLoader:void 0,show:Qe,hide:Qe,setEnabled:Qe,isEnabled:Lt},this.mode=(R=>{const A=Xt("design"),P=Xt({design:{activate:Qe,deactivate:Qe,editorReadOnly:!1},readonly:{activate:Qe,deactivate:Qe,editorReadOnly:!0}});return(N=R).serializer?$1(N):N.on("PreInit",()=>{$1(N)}),(N=>{N.on("ShowCaret",O=>{hr(N)&&O.preventDefault()}),N.on("ObjectSelected",O=>{hr(N)&&O.preventDefault()})})(R),{isReadOnly:()=>hr(R),set:N=>((O,M,B,Y)=>{if(Y!==B.get()){if(!Ze(M,Y))throw new Error(`Editor mode '${Y}' is invalid`);O.initialized?tC(O,B,M,Y):O.on("init",()=>tC(O,B,M,Y))}})(R,P.get(),A,N),get:()=>A.get(),register:(N,O)=>{P.set(((M,B,Y)=>{if(st(VR,B))throw new Error(`Cannot override default mode ${B}`);return{...M,[B]:{...Y,deactivate:()=>{try{Y.deactivate()}catch(U){console.error(`problem while deactivating editor mode ${B}:`,U)}}}}})(P.get(),N,O))}};var N})(s),r.dispatch("SetupEditor",{editor:this});const L=dS(s);nt(L)&&L.call(s,s)}render(){(t=>{const i=t.id;Ja.setCode(tm(t));const r=()=>{dr.unbind(window,"ready",r),t.render()};if(!ji.Event.domLoaded)return void dr.bind(window,"ready",r);if(!t.getElement())return;const s=Q(t.getElement()),l=Ug(s);var p;t.on("remove",()=>{co(s.dom.attributes,u=>$t(s,u.name)),ii(s,l)}),t.ui.styleSheetLoader=Zf.forElement(s,{contentCssCors:sm(p=t),referrerPolicy:Bd(p)}),zd(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const h=t.getElement().form||dr.getParent(i,"form");h&&(t.formElement=h,Jk(t)&&!nd(t.getElement())&&(dr.insertAfter(dr.create("input",{type:"hidden",name:i}),i),t.hasHiddenInput=!0),t.formEventDelegate=u=>{t.dispatch(u.type,u)},dr.bind(h,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),!eS(t)||h.submit.nodeType||h.submit.length||h._mceOldSubmit||(h._mceOldSubmit=h.submit,h.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),h._mceOldSubmit(h)))),t.windowManager=by(t),t.notificationManager=my(t),"xml"===t.options.get("encoding")&&t.on("GetContent",u=>{u.save&&(u.content=dr.encode(u.content))}),tS(t)&&t.on("submit",()=>{t.initialized&&t.save()}),aS(t)&&(t._beforeUnload=()=>{!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),((e,t)=>{const i=Yn.ScriptLoader,r=()=>{!e.removed&&(s=>{const l=Ir(s);return!Ye(l)||Ce(cr.get(l))})(e)&&(s=>{const l=Fd(s);return Ce(Gr.get(l))})(e)&&(e=>{e.dispatch("ScriptsLoaded"),(i=>{const r=pe.trim(em(i)),s=i.ui.registry.getAll().icons,l={...rc.get("default").icons,...rc.get(r).icons};dt(l,(h,u)=>{Ze(s,u)||i.ui.registry.addIcon(u,h)})})(e),(i=>{const r=Ir(i);if(Ye(r)){const s=cr.get(r);i.theme=s(i,cr.urls[r])||{},nt(i.theme.init)&&i.theme.init(i,cr.urls[r]||i.documentBaseUrl.replace(/\/$/,""))}else i.theme={}})(e),(i=>{const r=Fd(i),s=Gr.get(r);i.model=s(i,Gr.urls[r])})(e),(i=>{const r=[];me(xl(i),s=>{((l,h,u)=>{const p=Ur.get(u),b=Ur.urls[u]||l.documentBaseUrl.replace(/\/$/,"");if(u=pe.trim(u),p&&-1===pe.inArray(h,u)){if(l.plugins[u])return;try{const y=p(l,b)||{};l.plugins[u]=y,nt(y.init)&&(y.init(l,b),h.push(u))}catch(y){((C,L,R)=>{const A=Ja.translate(["Failed to initialize plugin: {0}",L]);ob(C,"PluginLoadError",{message:A}),sc(A,R),oc(C,A)})(l,u,y)}}})(i,r,s.replace(/^\-/,""))})})(e);const t=(i=>{const r=i.getElement();return i.orgDisplay=r.style.display,Ye(Ir(i))?(s=>{const l=s.theme.renderUI;return l?l():X1(s)})(i):nt(Ir(i))?(s=>{const l=s.getElement(),h=Ir(s)(s,l);return h.editorContainer.nodeType&&(h.editorContainer.id=h.editorContainer.id||s.id+"_parent"),h.iframeContainer&&h.iframeContainer.nodeType&&(h.iframeContainer.id=h.iframeContainer.id||s.id+"_iframecontainer"),h.height=h.iframeHeight?h.iframeHeight:l.offsetHeight,h})(i):X1(i)})(e);var i,r;((i,r)=>{const s={show:X.from(r.show).getOr(Qe),hide:X.from(r.hide).getOr(Qe),isEnabled:X.from(r.isEnabled).getOr(Lt),setEnabled:l=>{i.mode.isReadOnly()||X.from(r.setEnabled).each(h=>h(l))}};i.ui={...i.ui,...s}})(e,X.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(i=e).contentCSS=i.contentCSS.concat(vy(r=i,zk(r)),(r=>vy(r,nm(r)))(i)),e.inline?B1(e):((i,r)=>{((s,l)=>{const h=s.translate("Rich Text Area"),u=Bn(Q(s.getElement()),"tabindex").bind(d),p=((b,y,C,L)=>{const R=jt("iframe");return L.each(A=>Vt(R,"tabindex",A)),ii(R,C),ii(R,{id:b+"_ifr",frameBorder:"0",allowTransparency:"true",title:y}),Co(R,"tox-edit-area__iframe"),R})(s.id,h,yk(s),u).dom;p.onload=()=>{p.onload=null,s.dispatch("load")},s.contentAreaContainer=l.iframeContainer,s.iframeElement=p,s.iframeHTML=(b=>{let y=wk(b)+"<html><head>";Zp(b)!==b.documentBaseUrl&&(y+='<base href="'+b.documentBaseURI.getURI()+'" />'),y+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const C=Ck(b),L=kk(b),R=b.translate(cS(b));return Kp(b)&&(y+='<meta http-equiv="Content-Security-Policy" content="'+Kp(b)+'" />'),y+=`</head><body id="${C}" class="mce-content-body ${L}" data-id="${b.id}" aria-label="${R}"><br></body></html>`,y})(s),Ig.add(l.iframeContainer,p)})(i,r),r.editorContainer&&(r.editorContainer.style.display=i.orgDisplay,i.hidden=Ig.isHidden(r.editorContainer)),i.getElement().style.display="none",Ig.setAttrib(i.id,"aria-hidden","true"),B1(i)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})})(e)};((s,l)=>{const h=Ir(s);if(Ye(h)&&!H1(h)&&!Ze(cr.urls,h)){const u=Gk(s),p=u?s.documentBaseURI.toAbsolute(u):`themes/${h}/theme${l}.js`;cr.load(h,p).catch(()=>{ms(s,"ThemeLoadError",bs("theme",p,h))})}})(e,t),((s,l)=>{const h=Fd(s);if("plugin"!==h&&!Ze(Gr.urls,h)){const u=Uk(s),p=Ye(u)?s.documentBaseURI.toAbsolute(u):`models/${h}/model${l}.js`;Gr.load(h,p).catch(()=>{ms(s,"ModelLoadError",bs("model",p,h))})}})(e,t),((s,l)=>{const h=tm(l),u=Bk(l);if(!Ja.hasCode(h)&&"en"!==h){const p=o(u)?u:`${l.editorManager.baseURL}/langs/${h}.js`;s.add(p).catch(()=>{ms(l,"LanguageLoadError",bs("language",p,h))})}})(i,e),((s,l,h)=>{const u=Y1(l,"default",h),p=(b=l,X.from(Pk(b)).filter(o).map(y=>({url:y,name:X.none()}))).orThunk(()=>Y1(l,em(l),""));var b;me((b=>{const y=[],C=L=>{y.push(L)};for(let L=0;L<b.length;L++)b[L].each(C);return y})([u,p]),b=>{s.add(b.url).catch(()=>{var y,C,L;y=l,C=b.url,L=b.name.getOrUndefined(),ms(y,"IconsLoadError",bs("icons",C,L))})})})(i,e,t),((s,l)=>{const h=(u,p)=>{Ur.load(u,p).catch(()=>{ms(s,"PluginLoadError",bs("plugin",p,u))})};dt(rS(s),(u,p)=>{h(p,u),s.options.set("plugins",xl(s).concat(p))}),me(xl(s),u=>{!(u=pe.trim(u))||Ur.urls[u]||H1(u)||h(u,`plugins/${u}/plugin${l}.js`)})})(e,t),i.loadQueue().then(r,r)})(t,t.suffix)})(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return ar(this)}translate(t){return Ja.translate(t)}getParam(t,i,r){const s=this.options;return s.isRegistered(t)||(Ce(r)?s.register(t,{processor:r,default:i}):s.register(t,{processor:Lt,default:i})),s.isSet(t)||ft(i)?s.get(t):i}hasPlugin(t,i){return!(!st(xl(this),t)||i&&void 0===Ur.get(t))}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,i,r){this.editorCommands.addCommand(t,i,r)}addQueryStateHandler(t,i,r){this.editorCommands.addQueryStateHandler(t,i,r)}addQueryValueHandler(t,i,r){this.editorCommands.addQueryValueHandler(t,i,r)}addShortcut(t,i,r,s){this.shortcuts.add(t,i,r,s)}execCommand(t,i,r,s){return this.editorCommands.execCommand(t,i,r,s)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(gr.show(t.getContainer()),gr.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(gr.hide(t.getContainer()),gr.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,i){this.dispatch("ProgressState",{state:t,time:i})}load(t={}){const i=this,r=i.getElement();if(i.removed)return"";if(r){const s={...t,load:!0},l=nd(r)?r.value:r.innerHTML,h=i.setContent(l,s);return s.no_events||i.dispatch("LoadContent",{...s,element:r}),h}return""}save(t={}){const i=this;let r=i.getElement();if(!r||!i.initialized||i.removed)return"";const s={...t,save:!0,element:r};let l=i.getContent(s);const h={...s,content:l};if(h.no_events||i.dispatch("SaveContent",h),"raw"===h.format&&i.dispatch("RawSaveContent",h),l=h.content,nd(r))r.value=l;else{!t.is_removing&&i.inline||(r.innerHTML=l);const u=gr.getParent(i.id,"form");u&&qR(u.elements,p=>p.name!==i.id||(p.value=l,!1))}return h.element=s.element=r=null,!1!==h.set_dirty&&i.setDirty(!1),l}setContent(t,i){return Lu(this,t,i)}getContent(t){return((i,r={})=>{const s=(l=r,h=r.format?r.format:"html",{...l,format:h,get:!0,getInner:!0});var l,h;return qv(i,s).fold(ct,l=>{const h=(p=l,Nu(i).editor.getContent(p));var p;return $v(i,h,l)})})(this,t)}insertContent(t,i){i&&(t=iC({content:t},i)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){void 0===t?Lu(this,this.startContent,{format:"raw"}):Lu(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const i=!this.isNotDirty;this.isNotDirty=!t,t&&t!==i&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||gr.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=gr.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const i=t.iframeElement;i&&(t.contentWindow=i.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const i=t.getWin();i&&(t.contentDocument=i.document)}return t.contentDocument}getBody(){var t,i;const r=this.getDoc();return null!==(i=null!==(t=this.bodyElement)&&void 0!==t?t:r?.body)&&void 0!==i?i:null}convertURL(t,i,r){const s=this,l=s.options.get,h=uS(s);return nt(h)?h.call(s,t,r,!0,i):!l("convert_urls")||"link"===r||xt(r)&&"LINK"===r.nodeName||0===t.indexOf("file:")||0===t.length?t:l("relative_urls")?s.documentBaseURI.toRelative(t):t=s.documentBaseURI.toAbsolute(t,l("remove_script_host"))}addVisual(t){((i,r)=>{var l;l=r,Rt(this).editor.addVisual(l)})(0,t)}remove(){(t=>{if(!t.removed){const{_selectionOverrides:i,editorUpload:r}=t,s=t.getBody(),l=t.getElement();s&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&Ce(l?.nextSibling)&&nc.remove(l.nextSibling),t.dispatch("remove"),t.editorManager.remove(t),!t.inline&&s&&nc.setStyle((h=t).id,"display",h.orgDisplay),(h=>{h.dispatch("detach")})(t),nc.remove(t.getContainer()),ic(i),ic(r),t.destroy()}var h})(this)}destroy(t){((i,r)=>{const{selection:s,dom:l}=i;i.destroyed||(r||i.removed?(r||(i.editorManager.off("beforeunload",i._beforeUnload),i.theme&&i.theme.destroy&&i.theme.destroy(),ic(s),ic(l)),(h=>{const u=h.formElement;u&&(u._mceOldSubmit&&(u.submit=u._mceOldSubmit,delete u._mceOldSubmit),nc.unbind(u,"submit reset",h.formEventDelegate))})(i),(h=>{const u=h;u.contentAreaContainer=u.formElement=u.container=u.editorContainer=null,u.bodyElement=u.contentDocument=u.contentWindow=null,u.iframeElement=u.targetElm=null;const p=h.selection;p&&(u.selection=p.win=p.dom=p.dom.doc=null)})(i),i.destroyed=!0):i.remove())})(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const no=gt.DOM,zc=pe.each;let Xc,rC=!1,ga=[];const Hc=e=>{const t=e.type;zc(Ai.get(),i=>{switch(t){case"scroll":i.dispatch("ScrollWindow",e);break;case"resize":i.dispatch("ResizeWindow",e)}})},oC=e=>{if(e!==rC){const t=gt.DOM;e?(t.bind(window,"resize",Hc),t.bind(window,"scroll",Hc)):(t.unbind(window,"resize",Hc),t.unbind(window,"scroll",Hc)),rC=e}},sC=e=>{const t=ga;return ga=Ve(ga,i=>e!==i),Ai.activeEditor===e&&(Ai.activeEditor=ga.length>0?ga[0]:null),Ai.focusedEditor===e&&(Ai.focusedEditor=null),t.length!==ga.length},$R="CSS1Compat"!==document.compatMode,Ai={...zg,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"3.2",releaseDate:"2023-02-22",i18n:Ja,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",i="",r=rn.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const s=window.tinymce||window.tinyMCEPreInit;if(s)t=s.base||s.baseURL,i=s.suffix;else{const h=document.getElementsByTagName("script");for(let u=0;u<h.length;u++){const p=h[u].src||"";if(""===p)continue;const b=p.substring(p.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(p)){-1!==b.indexOf(".min")&&(i=".min"),t=p.substring(0,p.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;-1!==u.indexOf(".min")&&(i=".min"),t=u.substring(0,u.lastIndexOf("/"))}}var l;e.baseURL=new rn(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new rn(e.baseURL),e.suffix=i,(l=e).on("AddEditor",Te(vA,l)),l.on("RemoveEditor",Te(yA,l))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const i=e.suffix;i&&(this.suffix=i),this.defaultOptions=e;const r=e.plugin_base_urls;void 0!==r&&dt(r,(s,l)=>{ra.PluginManager.urls[l]=s})},init(e){const t=this;let i;const r=pe.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let s=h=>{i=h};const l=()=>{let h=0;const u=[];let p;var b;no.unbind(window,"ready",l),(b=>{const y=e.onpageload;y&&y.apply(t,[])})(),p=((b,y)=>{const C=[],L=nt(y)?R=>mt(C,A=>y(A,R)):R=>st(C,R);for(let R=0,A=b.length;R<A;R++){const P=b[R];L(P)||C.push(P)}return C})((b=e,at.browser.isIE()||at.browser.isEdge()?(sc("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):$R?(sc("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ye(b.selector)?no.select(b.selector):Ce(b.target)?[b.target]:[])),pe.each(p,b=>{var y;(y=t.get(b.id))&&y.initialized&&!(y.getContainer()||y.getBody()).parentNode&&(sC(y),y.unbindAllNativeEvents(),y.destroy(!0),y.removed=!0)}),p=pe.grep(p,b=>!t.get(b.id)),0===p.length?s([]):zc(p,b=>{e.inline&&b.tagName.toLowerCase()in r?sc("Could not initialize inline editor on invalid inline target element",b):((y,C,L)=>{const R=new Fc(y,C,t);u.push(R),R.on("init",()=>{++h===p.length&&s(u)}),R.targetElm=R.targetElm||L,R.render()})((y=>{let C=y.id;return C||(C=pt(y,"name").filter(L=>!no.get(L)).getOrThunk(no.uniqueId),y.setAttribute("id",C)),C})(b),e,b)})};return no.bind(window,"ready",l),new Promise(h=>{i?h(i):s=u=>{h(u)}})},get(e){return 0===arguments.length?ga.slice(0):Ye(e)?Mt(ga,t=>t.id===e).getOr(null):Na(e)&&ga[e]?ga[e]:null},add(e){const t=this,i=t.get(e.id);return i===e||(null===i&&ga.push(e),oC(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),Xc||(Xc=r=>{const s=t.dispatch("BeforeUnload");if(s.returnValue)return r.preventDefault(),r.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",Xc))),e},createEditor(e,t){return this.add(new Fc(e,t,this))},remove(e){const t=this;let i;if(e){if(!Ye(e))return i=e,le(t.get(i.id))?null:(sC(i)&&t.dispatch("RemoveEditor",{editor:i}),0===ga.length&&window.removeEventListener("beforeunload",Xc),i.remove(),oC(ga.length>0),i);zc(no.select(e),r=>{i=t.get(r.id),i&&t.remove(i)})}else for(let r=ga.length-1;r>=0;r--)t.remove(ga[r])},execCommand(e,t,i){var r;const s=this,l=xt(i)?null!==(r=i.id)&&void 0!==r?r:i.index:i;switch(e){case"mceAddEditor":return s.get(l)||new Fc(l,i.options,s).render(),!0;case"mceRemoveEditor":{const h=s.get(l);return h&&h.remove(),!0}case"mceToggleEditor":{const h=s.get(l);return h?(h.isHidden()?h.show():h.hide(),!0):(s.execCommand("mceAddEditor",!1,i),!0)}}return!!s.activeEditor&&s.activeEditor.execCommand(e,t,i)},triggerSave:()=>{zc(ga,e=>{e.save()})},addI18n:(e,t)=>{Ja.add(e,t)},translate:e=>Ja.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new rn(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new rn(this.baseURL)}};Ai.setup();const ZR=(()=>{const e=fi();return{FakeClipboardItem:t=>({items:t,types:aa(t),getType:i=>pt(t,i).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),lC=Math.min,io=Math.max,Yc=Math.round,cC=(e,t,i)=>{let r=t.x,s=t.y;const l=e.w,h=e.h,u=t.w,p=t.h,b=(i||"").split("");return"b"===b[0]&&(s+=p),"r"===b[1]&&(r+=u),"c"===b[0]&&(s+=Yc(p/2)),"c"===b[1]&&(r+=Yc(u/2)),"b"===b[3]&&(s-=h),"r"===b[4]&&(r-=l),"c"===b[3]&&(s-=Yc(h/2)),"c"===b[4]&&(r-=Yc(l/2)),ro(r,s,l,h)},ro=(e,t,i,r)=>({x:e,y:t,w:i,h:r}),KR={inflate:(e,t,i)=>ro(e.x-t,e.y-i,e.w+2*t,e.h+2*i),relativePosition:cC,findBestRelativePosition:(e,t,i,r)=>{for(let s=0;s<r.length;s++){const l=cC(e,t,r[s]);if(l.x>=i.x&&l.x+l.w<=i.w+i.x&&l.y>=i.y&&l.y+l.h<=i.h+i.y)return r[s]}return null},intersect:(e,t)=>{const i=io(e.x,t.x),r=io(e.y,t.y),s=lC(e.x+e.w,t.x+t.w),l=lC(e.y+e.h,t.y+t.h);return s-i<0||l-r<0?null:ro(i,r,s-i,l-r)},clamp:(e,t,i)=>{let r=e.x,s=e.y,l=e.x+e.w,h=e.y+e.h;const u=t.x+t.w,p=t.y+t.h,b=io(0,t.x-r),y=io(0,t.y-s),C=io(0,l-u),L=io(0,h-p);return r+=b,s+=y,i&&(l+=b,h+=y,r-=C,s-=L),l-=C,h-=L,ro(r,s,l-r,h-s)},create:ro,fromClientRect:e=>ro(e.left,e.top,e.width,e.height)},QR=(()=>{const e={},t={};return{load:(i,r)=>{const s=`Script at URL "${r}" failed to load`,l=`Script at URL "${r}" did not call \`tinymce.Resource.add('${i}', data)\` within 1 second`;if(void 0!==e[i])return e[i];{const h=new Promise((u,p)=>{const b=((y,C,L=1e3)=>{let R=!1,A=null;const P=M=>(...B)=>{R||(R=!0,null!==A&&(clearTimeout(A),A=null),M.apply(null,B))},N=P(y),O=P(C);return{start:(...M)=>{R||null!==A||(A=setTimeout(()=>O.apply(null,M),L))},resolve:N,reject:O}})(u,p);t[i]=b.resolve,Yn.ScriptLoader.loadScript(r).then(()=>b.start(l),()=>b.reject(s))});return e[i]=h,h}},add:(i,r)=>{void 0!==t[i]&&(t[i](r),delete t[i]),e[i]=Promise.resolve(r)},unload:i=>{delete e[i]}}})();let Os;try{const e="__storage_test__";Os=window.localStorage,Os.setItem(e,e),Os.removeItem(e)}catch{Os=(()=>{let t={},i=[];const r={getItem:s=>t[s]||null,setItem:(s,l)=>{i.push(s),t[s]=String(l)},key:s=>i[s],removeItem:s=>{i=i.filter(l=>l===s),delete t[s]},clear:()=>{i=[],t={}},length:0};return Object.defineProperty(r,"length",{get:()=>i.length,configurable:!1,enumerable:!1}),r})()}const JR={geom:{Rect:KR},util:{Delay:Da,Tools:pe,VK:_e,URI:rn,EventDispatcher:Fg,Observable:zg,I18n:Ja,LocalStorage:Os,ImageUploader:e=>{const t=yy(),i=Cy(e,t);return{upload:(r,s=!0)=>i.upload(r,s?wy(e):void 0)}}},dom:{EventUtils:ji,TreeWalker:Dt,TextSeeker:Ui,DOMUtils:gt,ScriptLoader:Yn,RangeUtils:tr,Serializer:gy,StyleSheetLoader:$f,ControlSelection:gb,BookmarkManager:ns,Selection:uy,Event:ji.Event},html:{Styles:yd,Entities:ui,Node:ua,Schema:gi,DomParser:jr,Writer:Kb,Serializer:vi},Env:at,AddOnManager:ra,Annotator:ib,Formatter:Ay,UndoManager:Ny,EditorCommands:q1,WindowManager:by,NotificationManager:my,EditorObservable:Q1,Shortcuts:nC,Editor:Fc,FocusManager:Db,EditorManager:Ai,DOM:gt.DOM,ScriptLoader:Yn.ScriptLoader,PluginManager:Ur,ThemeManager:cr,ModelManager:Gr,IconManager:rc,Resource:QR,FakeClipboard:ZR,trim:pe.trim,isArray:pe.isArray,is:pe.is,toArray:pe.toArray,makeMap:pe.makeMap,each:pe.each,map:pe.map,grep:pe.grep,inArray:pe.inArray,extend:pe.extend,walk:pe.walk,resolve:pe.resolve,explode:pe.explode,_addCacheSuffix:pe._addCacheSuffix},dC=pe.extend(Ai,JR);(e=>{window.tinymce=e,window.tinyMCE=e})(dC),(e=>{if("object"==typeof module)try{module.exports=e}catch{}})(dC)}();